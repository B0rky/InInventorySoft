const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-Jn15hlyH.js","assets/vendor-CUmj1JRp.js","assets/ui-DGOFjH3b.js","assets/utils-C4xBKWBT.js","assets/router-iVPocDl3.js","assets/charts-Cu1hrzjx.js"])))=>i.map(i=>d[i]);
var Vh=r=>{throw TypeError(r)};var Ou=(r,e,t)=>e.has(r)||Vh("Cannot "+t);var Ne=(r,e,t)=>(Ou(r,e,"read from private field"),t?t.call(r):e.get(r)),Pt=(r,e,t)=>e.has(r)?Vh("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),dt=(r,e,t,n)=>(Ou(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),Ar=(r,e,t)=>(Ou(r,e,"access private method"),t);var Vl=(r,e,t,n)=>({set _(s){dt(r,e,s,t)},get _(){return Ne(r,e,n)}});import{j as u,P as Et,c as ap,a as $a,u as Nr,B as Pg,b as Ea,d as Go,e as Ta,f as ft,R as kg,g as $d,h as Rn,i as Lg,k as za,A as vc,D as zd,C as Hd,S as Cg,l as Vd,m as Ko,n as Wd,o as Js,O as yc,p as bc,q as op,T as wc,r as xc,s as lp,t as cp,v as up,w as dp,x as hp,F as fp,y as Eg,z as Tg,L as pp,E as mp,G as gp,H as Ig,I as Rg}from"./ui-DGOFjH3b.js";import{b as _c,r as O,a as Oe,c as Og,e as Fg,d as mn}from"./vendor-CUmj1JRp.js";import{c as vp,t as Dg}from"./utils-C4xBKWBT.js";import{N as Mg,u as yp,a as Wh,b as Gd,B as Bg,R as qg,c as Cs}from"./router-iVPocDl3.js";import{R as Ug,L as $g,C as zg,X as Hg,Y as Vg,T as Wg,a as Fu}from"./charts-Cu1hrzjx.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var bp,Gh=_c;bp=Gh.createRoot,Gh.hydrateRoot;const Gg=1,Kg=1e6;let Du=0;function Jg(){return Du=(Du+1)%Number.MAX_SAFE_INTEGER,Du.toString()}const Mu=new Map,Kh=r=>{if(Mu.has(r))return;const e=setTimeout(()=>{Mu.delete(r),Co({type:"REMOVE_TOAST",toastId:r})},Kg);Mu.set(r,e)},Yg=(r,e)=>{switch(e.type){case"ADD_TOAST":return{...r,toasts:[e.toast,...r.toasts].slice(0,Gg)};case"UPDATE_TOAST":return{...r,toasts:r.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?Kh(t):r.toasts.forEach(n=>{Kh(n.id)}),{...r,toasts:r.toasts.map(n=>n.id===t||t===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(t=>t.id!==e.toastId)}}},sc=[];let ic={toasts:[]};function Co(r){ic=Yg(ic,r),sc.forEach(e=>{e(ic)})}function $t({...r}){const e=Jg(),t=s=>Co({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>Co({type:"DISMISS_TOAST",toastId:e});return Co({type:"ADD_TOAST",toast:{...r,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:t}}function Xg(){const[r,e]=O.useState(ic);return O.useEffect(()=>(sc.push(e),()=>{const t=sc.indexOf(e);t>-1&&sc.splice(t,1)}),[r]),{...r,toast:$t,dismiss:t=>Co({type:"DISMISS_TOAST",toastId:t})}}var Qg="VisuallyHidden",Jo=O.forwardRef((r,e)=>u.jsx(Et.span,{...r,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...r.style}}));Jo.displayName=Qg;var Zg=Jo,Kd="ToastProvider",[Jd,e2,t2]=ap("Toast"),[wp,B4]=$a("Toast",[t2]),[r2,Nc]=wp(Kd),xp=r=>{const{__scopeToast:e,label:t="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=r,[l,c]=O.useState(null),[h,p]=O.useState(0),g=O.useRef(!1),y=O.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Kd}\`. Expected non-empty \`string\`.`),u.jsx(Jd.Provider,{scope:e,children:u.jsx(r2,{scope:e,label:t,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:h,viewport:l,onViewportChange:c,onToastAdd:O.useCallback(()=>p(m=>m+1),[]),onToastRemove:O.useCallback(()=>p(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:y,children:a})})};xp.displayName=Kd;var _p="ToastViewport",n2=["F8"],sd="toast.viewportPause",id="toast.viewportResume",Np=O.forwardRef((r,e)=>{const{__scopeToast:t,hotkey:n=n2,label:s="Notifications ({hotkey})",...i}=r,a=Nc(_p,t),l=e2(t),c=O.useRef(null),h=O.useRef(null),p=O.useRef(null),g=O.useRef(null),y=Nr(e,g,a.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=a.toastCount>0;O.useEffect(()=>{const N=x=>{var T;n.length!==0&&n.every(z=>x[z]||x.code===z)&&((T=g.current)==null||T.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[n]),O.useEffect(()=>{const N=c.current,x=g.current;if(_&&N&&x){const A=()=>{if(!a.isClosePausedRef.current){const te=new CustomEvent(sd);x.dispatchEvent(te),a.isClosePausedRef.current=!0}},T=()=>{if(a.isClosePausedRef.current){const te=new CustomEvent(id);x.dispatchEvent(te),a.isClosePausedRef.current=!1}},z=te=>{!N.contains(te.relatedTarget)&&T()},G=()=>{N.contains(document.activeElement)||T()};return N.addEventListener("focusin",A),N.addEventListener("focusout",z),N.addEventListener("pointermove",A),N.addEventListener("pointerleave",G),window.addEventListener("blur",A),window.addEventListener("focus",T),()=>{N.removeEventListener("focusin",A),N.removeEventListener("focusout",z),N.removeEventListener("pointermove",A),N.removeEventListener("pointerleave",G),window.removeEventListener("blur",A),window.removeEventListener("focus",T)}}},[_,a.isClosePausedRef]);const w=O.useCallback(({tabbingDirection:N})=>{const A=l().map(T=>{const z=T.ref.current,G=[z,...g2(z)];return N==="forwards"?G:G.reverse()});return(N==="forwards"?A.reverse():A).flat()},[l]);return O.useEffect(()=>{const N=g.current;if(N){const x=A=>{var G,te,V;const T=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!T){const E=document.activeElement,ne=A.shiftKey;if(A.target===N&&ne){(G=h.current)==null||G.focus();return}const F=w({tabbingDirection:ne?"backwards":"forwards"}),H=F.findIndex(B=>B===E);Bu(F.slice(H+1))?A.preventDefault():ne?(te=h.current)==null||te.focus():(V=p.current)==null||V.focus()}};return N.addEventListener("keydown",x),()=>N.removeEventListener("keydown",x)}},[l,w]),u.jsxs(Pg,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&u.jsx(ad,{ref:h,onFocusFromOutsideViewport:()=>{const N=w({tabbingDirection:"forwards"});Bu(N)}}),u.jsx(Jd.Slot,{scope:t,children:u.jsx(Et.ol,{tabIndex:-1,...i,ref:y})}),_&&u.jsx(ad,{ref:p,onFocusFromOutsideViewport:()=>{const N=w({tabbingDirection:"backwards"});Bu(N)}})]})});Np.displayName=_p;var Sp="ToastFocusProxy",ad=O.forwardRef((r,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:n,...s}=r,i=Nc(Sp,t);return u.jsx(Jo,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var h;const l=a.relatedTarget;!((h=i.viewport)!=null&&h.contains(l))&&n()}})});ad.displayName=Sp;var Sc="Toast",s2="toast.swipeStart",i2="toast.swipeMove",a2="toast.swipeCancel",o2="toast.swipeEnd",jp=O.forwardRef((r,e)=>{const{forceMount:t,open:n,defaultOpen:s,onOpenChange:i,...a}=r,[l=!0,c]=Ea({prop:n,defaultProp:s,onChange:i});return u.jsx(Go,{present:t||l,children:u.jsx(u2,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:Ta(r.onPause),onResume:Ta(r.onResume),onSwipeStart:ft(r.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ft(r.onSwipeMove,h=>{const{x:p,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:ft(r.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ft(r.onSwipeEnd,h=>{const{x:p,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),c(!1)})})})});jp.displayName=Sc;var[l2,c2]=wp(Sc,{onClose(){}}),u2=O.forwardRef((r,e)=>{const{__scopeToast:t,type:n="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:h,onSwipeStart:p,onSwipeMove:g,onSwipeCancel:y,onSwipeEnd:m,..._}=r,w=Nc(Sc,t),[N,x]=O.useState(null),A=Nr(e,B=>x(B)),T=O.useRef(null),z=O.useRef(null),G=s||w.duration,te=O.useRef(0),V=O.useRef(G),E=O.useRef(0),{onToastAdd:ne,onToastRemove:re}=w,I=Ta(()=>{var oe;(N==null?void 0:N.contains(document.activeElement))&&((oe=w.viewport)==null||oe.focus()),a()}),F=O.useCallback(B=>{!B||B===1/0||(window.clearTimeout(E.current),te.current=new Date().getTime(),E.current=window.setTimeout(I,B))},[I]);O.useEffect(()=>{const B=w.viewport;if(B){const oe=()=>{F(V.current),h==null||h()},ie=()=>{const fe=new Date().getTime()-te.current;V.current=V.current-fe,window.clearTimeout(E.current),c==null||c()};return B.addEventListener(sd,ie),B.addEventListener(id,oe),()=>{B.removeEventListener(sd,ie),B.removeEventListener(id,oe)}}},[w.viewport,G,c,h,F]),O.useEffect(()=>{i&&!w.isClosePausedRef.current&&F(G)},[i,G,w.isClosePausedRef,F]),O.useEffect(()=>(ne(),()=>re()),[ne,re]);const H=O.useMemo(()=>N?Tp(N):null,[N]);return w.viewport?u.jsxs(u.Fragment,{children:[H&&u.jsx(d2,{__scopeToast:t,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),u.jsx(l2,{scope:t,onClose:I,children:_c.createPortal(u.jsx(Jd.ItemSlot,{scope:t,children:u.jsx(kg,{asChild:!0,onEscapeKeyDown:ft(l,()=>{w.isFocusedToastEscapeKeyDownRef.current||I(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Et.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,..._,ref:A,style:{userSelect:"none",touchAction:"none",...r.style},onKeyDown:ft(r.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:ft(r.onPointerDown,B=>{B.button===0&&(T.current={x:B.clientX,y:B.clientY})}),onPointerMove:ft(r.onPointerMove,B=>{if(!T.current)return;const oe=B.clientX-T.current.x,ie=B.clientY-T.current.y,fe=!!z.current,Y=["left","right"].includes(w.swipeDirection),he=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,pe=Y?he(0,oe):0,Ae=Y?0:he(0,ie),P=B.pointerType==="touch"?10:2,D={x:pe,y:Ae},U={originalEvent:B,delta:D};fe?(z.current=D,Wl(i2,g,U,{discrete:!1})):Jh(D,w.swipeDirection,P)?(z.current=D,Wl(s2,p,U,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(oe)>P||Math.abs(ie)>P)&&(T.current=null)}),onPointerUp:ft(r.onPointerUp,B=>{const oe=z.current,ie=B.target;if(ie.hasPointerCapture(B.pointerId)&&ie.releasePointerCapture(B.pointerId),z.current=null,T.current=null,oe){const fe=B.currentTarget,Y={originalEvent:B,delta:oe};Jh(oe,w.swipeDirection,w.swipeThreshold)?Wl(o2,m,Y,{discrete:!0}):Wl(a2,y,Y,{discrete:!0}),fe.addEventListener("click",he=>he.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),d2=r=>{const{__scopeToast:e,children:t,...n}=r,s=Nc(Sc,e),[i,a]=O.useState(!1),[l,c]=O.useState(!1);return p2(()=>a(!0)),O.useEffect(()=>{const h=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(h)},[]),l?null:u.jsx($d,{asChild:!0,children:u.jsx(Jo,{...n,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",t]})})})},h2="ToastTitle",Ap=O.forwardRef((r,e)=>{const{__scopeToast:t,...n}=r;return u.jsx(Et.div,{...n,ref:e})});Ap.displayName=h2;var f2="ToastDescription",Pp=O.forwardRef((r,e)=>{const{__scopeToast:t,...n}=r;return u.jsx(Et.div,{...n,ref:e})});Pp.displayName=f2;var kp="ToastAction",Lp=O.forwardRef((r,e)=>{const{altText:t,...n}=r;return t.trim()?u.jsx(Ep,{altText:t,asChild:!0,children:u.jsx(Yd,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${kp}\`. Expected non-empty \`string\`.`),null)});Lp.displayName=kp;var Cp="ToastClose",Yd=O.forwardRef((r,e)=>{const{__scopeToast:t,...n}=r,s=c2(Cp,t);return u.jsx(Ep,{asChild:!0,children:u.jsx(Et.button,{type:"button",...n,ref:e,onClick:ft(r.onClick,s.onClose)})})});Yd.displayName=Cp;var Ep=O.forwardRef((r,e)=>{const{__scopeToast:t,altText:n,...s}=r;return u.jsx(Et.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function Tp(r){const e=[];return Array.from(r.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),m2(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...Tp(n))}}),e}function Wl(r,e,t,{discrete:n}){const s=t.originalEvent.currentTarget,i=new CustomEvent(r,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(r,e,{once:!0}),n?Lg(s,i):s.dispatchEvent(i)}var Jh=(r,e,t=0)=>{const n=Math.abs(r.x),s=Math.abs(r.y),i=n>s;return e==="left"||e==="right"?i&&n>t:!i&&s>t};function p2(r=()=>{}){const e=Ta(r);Rn(()=>{let t=0,n=0;return t=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(n)}},[e])}function m2(r){return r.nodeType===r.ELEMENT_NODE}function g2(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Bu(r){const e=document.activeElement;return r.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var v2=xp,Ip=Np,Rp=jp,Op=Ap,Fp=Pp,Dp=Lp,Mp=Yd;const Yh=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Xh=vp,ji=(r,e)=>t=>{var n;if((e==null?void 0:e.variants)==null)return Xh(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(h=>{const p=t==null?void 0:t[h],g=i==null?void 0:i[h];if(p===null)return null;const y=Yh(p)||Yh(g);return s[h][y]}),l=t&&Object.entries(t).reduce((h,p)=>{let[g,y]=p;return y===void 0||(h[g]=y),h},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,p)=>{let{class:g,className:y,...m}=p;return Object.entries(m).every(_=>{let[w,N]=_;return Array.isArray(N)?N.includes({...i,...l}[w]):{...i,...l}[w]===N})?[...h,g,y]:h},[]);return Xh(r,a,c,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bp=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=O.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...l},c)=>O.createElement("svg",{ref:c,...b2,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:Bp("lucide",s),...l},[...a.map(([h,p])=>O.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(r,e)=>{const t=O.forwardRef(({className:n,...s},i)=>O.createElement(w2,{ref:i,iconNode:e,className:Bp(`lucide-${y2(r)}`,n),...s}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=_t("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=_t("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=_t("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=_t("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=_t("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=_t("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=_t("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=_t("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=_t("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=_t("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=_t("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=_t("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=_t("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=_t("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=_t("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=_t("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=_t("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=_t("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=_t("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=_t("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=_t("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=_t("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=_t("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=_t("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=_t("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=_t("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=_t("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=_t("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=_t("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=_t("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=_t("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=_t("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=_t("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Ee(...r){return Dg(vp(r))}const B2=v2,Vp=O.forwardRef(({className:r,...e},t)=>u.jsx(Ip,{ref:t,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...e}));Vp.displayName=Ip.displayName;const q2=ji("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Wp=O.forwardRef(({className:r,variant:e,...t},n)=>u.jsx(Rp,{ref:n,className:Ee(q2({variant:e}),r),...t}));Wp.displayName=Rp.displayName;const U2=O.forwardRef(({className:r,...e},t)=>u.jsx(Dp,{ref:t,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...e}));U2.displayName=Dp.displayName;const Gp=O.forwardRef(({className:r,...e},t)=>u.jsx(Mp,{ref:t,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...e,children:u.jsx(Ac,{className:"h-4 w-4"})}));Gp.displayName=Mp.displayName;const Kp=O.forwardRef(({className:r,...e},t)=>u.jsx(Op,{ref:t,className:Ee("text-sm font-semibold",r),...e}));Kp.displayName=Op.displayName;const Jp=O.forwardRef(({className:r,...e},t)=>u.jsx(Fp,{ref:t,className:Ee("text-sm opacity-90",r),...e}));Jp.displayName=Fp.displayName;function Yp(){const{toasts:r}=Xg();return u.jsxs(B2,{children:[r.map(function({id:e,title:t,description:n,action:s,...i}){return u.jsxs(Wp,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[t&&u.jsx(Kp,{children:t}),n&&u.jsx(Jp,{children:n})]}),s,u.jsx(Gp,{})]},e)}),u.jsx(Vp,{})]})}var ef=["light","dark"],$2="(prefers-color-scheme: dark)",z2=O.createContext(void 0),H2={setTheme:r=>{},themes:[]},V2=()=>{var r;return(r=O.useContext(z2))!=null?r:H2};O.memo(({forcedTheme:r,storageKey:e,attribute:t,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let h=i==="system",p=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,g=s?ef.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",y=(_,w=!1,N=!0)=>{let x=a?a[_]:_,A=w?_+"|| ''":`'${x}'`,T="";return s&&N&&!w&&ef.includes(_)&&(T+=`d.style.colorScheme = '${_}';`),t==="class"?w||x?T+=`c.add(${A})`:T+="null":x&&(T+=`d[s](n,${A})`),T},m=r?`!function(){${p}${y(r)}}()`:n?`!function(){try{${p}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${$2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${y("dark")}}else{${y("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${y(a?"x[e]":"e",!0)}}${h?"":"else{"+y(i,!1,!1)+"}"}${g}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${y(a?"x[e]":"e",!0)}}else{${y(i,!1,!1)};}${g}}catch(t){}}();`;return O.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var W2=r=>{switch(r){case"success":return J2;case"info":return X2;case"warning":return Y2;case"error":return Q2;default:return null}},G2=Array(12).fill(0),K2=({visible:r})=>Oe.createElement("div",{className:"sonner-loading-wrapper","data-visible":r},Oe.createElement("div",{className:"sonner-spinner"},G2.map((e,t)=>Oe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),J2=Oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Oe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Y2=Oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Oe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),X2=Oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Q2=Oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Z2=()=>{let[r,e]=Oe.useState(document.hidden);return Oe.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r},od=1,e5=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:od++,a=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:n}),{...c,...e,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...s,dismissible:l,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),i=n!==void 0;return s.then(async a=>{if(r5(a)&&!a.ok){i=!1;let l=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,c=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:n,type:"error",message:l,description:c})}else if(t.success!==void 0){i=!1;let l=typeof t.success=="function"?await t.success(a):t.success,c=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"success",message:l,description:c})}}).catch(async a=>{if(t.error!==void 0){i=!1;let l=typeof t.error=="function"?await t.error(a):t.error,c=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"error",message:l,description:c})}}).finally(()=>{var a;i&&(this.dismiss(n),n=void 0),(a=t.finally)==null||a.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||od++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},rn=new e5,t5=(r,e)=>{let t=(e==null?void 0:e.id)||od++;return rn.addToast({title:r,...e,id:t}),t},r5=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",n5=t5,s5=()=>rn.toasts;Object.assign(n5,{success:rn.success,info:rn.info,warning:rn.warning,error:rn.error,custom:rn.custom,message:rn.message,promise:rn.promise,dismiss:rn.dismiss,loading:rn.loading},{getHistory:s5});function i5(r,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}i5(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Gl(r){return r.label!==void 0}var a5=3,o5="32px",l5=4e3,c5=356,u5=14,d5=20,h5=200;function f5(...r){return r.filter(Boolean).join(" ")}var p5=r=>{var e,t,n,s,i,a,l,c,h,p;let{invert:g,toast:y,unstyled:m,interacting:_,setHeights:w,visibleToasts:N,heights:x,index:A,toasts:T,expanded:z,removeToast:G,defaultRichColors:te,closeButton:V,style:E,cancelButtonStyle:ne,actionButtonStyle:re,className:I="",descriptionClassName:F="",duration:H,position:B,gap:oe,loadingIcon:ie,expandByDefault:fe,classNames:Y,icons:he,closeButtonAriaLabel:pe="Close toast",pauseWhenPageIsHidden:Ae,cn:P}=r,[D,U]=Oe.useState(!1),[W,J]=Oe.useState(!1),[Z,ae]=Oe.useState(!1),[ce,be]=Oe.useState(!1),[ye,Pe]=Oe.useState(0),[Le,ze]=Oe.useState(0),ge=Oe.useRef(null),$=Oe.useRef(null),Je=A===0,$e=A+1<=N,Se=y.type,Ce=y.dismissible!==!1,Fe=y.className||"",Ie=y.descriptionClassName||"",He=Oe.useMemo(()=>x.findIndex(Me=>Me.toastId===y.id)||0,[x,y.id]),Ze=Oe.useMemo(()=>{var Me;return(Me=y.closeButton)!=null?Me:V},[y.closeButton,V]),rt=Oe.useMemo(()=>y.duration||H||l5,[y.duration,H]),at=Oe.useRef(0),ct=Oe.useRef(0),Nt=Oe.useRef(0),We=Oe.useRef(null),[ut,De]=B.split("-"),cr=Oe.useMemo(()=>x.reduce((Me,bt,Ye)=>Ye>=He?Me:Me+bt.height,0),[x,He]),gt=Z2(),Jr=y.invert||g,St=Se==="loading";ct.current=Oe.useMemo(()=>He*oe+cr,[He,cr]),Oe.useEffect(()=>{U(!0)},[]),Oe.useLayoutEffect(()=>{if(!D)return;let Me=$.current,bt=Me.style.height;Me.style.height="auto";let Ye=Me.getBoundingClientRect().height;Me.style.height=bt,ze(Ye),w(Gt=>Gt.find(sr=>sr.toastId===y.id)?Gt.map(sr=>sr.toastId===y.id?{...sr,height:Ye}:sr):[{toastId:y.id,height:Ye,position:y.position},...Gt])},[D,y.title,y.description,w,y.id]);let yt=Oe.useCallback(()=>{J(!0),Pe(ct.current),w(Me=>Me.filter(bt=>bt.toastId!==y.id)),setTimeout(()=>{G(y)},h5)},[y,G,w,ct]);Oe.useEffect(()=>{if(y.promise&&Se==="loading"||y.duration===1/0||y.type==="loading")return;let Me,bt=rt;return z||_||Ae&&gt?(()=>{if(Nt.current<at.current){let Ye=new Date().getTime()-at.current;bt=bt-Ye}Nt.current=new Date().getTime()})():bt!==1/0&&(at.current=new Date().getTime(),Me=setTimeout(()=>{var Ye;(Ye=y.onAutoClose)==null||Ye.call(y,y),yt()},bt)),()=>clearTimeout(Me)},[z,_,fe,y,rt,yt,y.promise,Se,Ae,gt]),Oe.useEffect(()=>{let Me=$.current;if(Me){let bt=Me.getBoundingClientRect().height;return ze(bt),w(Ye=>[{toastId:y.id,height:bt,position:y.position},...Ye]),()=>w(Ye=>Ye.filter(Gt=>Gt.toastId!==y.id))}},[w,y.id]),Oe.useEffect(()=>{y.delete&&yt()},[yt,y.delete]);function sn(){return he!=null&&he.loading?Oe.createElement("div",{className:"sonner-loader","data-visible":Se==="loading"},he.loading):ie?Oe.createElement("div",{className:"sonner-loader","data-visible":Se==="loading"},ie):Oe.createElement(K2,{visible:Se==="loading"})}return Oe.createElement("li",{"aria-live":y.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:$,className:P(I,Fe,Y==null?void 0:Y.toast,(e=y==null?void 0:y.classNames)==null?void 0:e.toast,Y==null?void 0:Y.default,Y==null?void 0:Y[Se],(t=y==null?void 0:y.classNames)==null?void 0:t[Se]),"data-sonner-toast":"","data-rich-colors":(n=y.richColors)!=null?n:te,"data-styled":!(y.jsx||y.unstyled||m),"data-mounted":D,"data-promise":!!y.promise,"data-removed":W,"data-visible":$e,"data-y-position":ut,"data-x-position":De,"data-index":A,"data-front":Je,"data-swiping":Z,"data-dismissible":Ce,"data-type":Se,"data-invert":Jr,"data-swipe-out":ce,"data-expanded":!!(z||fe&&D),style:{"--index":A,"--toasts-before":A,"--z-index":T.length-A,"--offset":`${W?ye:ct.current}px`,"--initial-height":fe?"auto":`${Le}px`,...E,...y.style},onPointerDown:Me=>{St||!Ce||(ge.current=new Date,Pe(ct.current),Me.target.setPointerCapture(Me.pointerId),Me.target.tagName!=="BUTTON"&&(ae(!0),We.current={x:Me.clientX,y:Me.clientY}))},onPointerUp:()=>{var Me,bt,Ye,Gt;if(ce||!Ce)return;We.current=null;let sr=Number(((Me=$.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount").replace("px",""))||0),It=new Date().getTime()-((bt=ge.current)==null?void 0:bt.getTime()),et=Math.abs(sr)/It;if(Math.abs(sr)>=d5||et>.11){Pe(ct.current),(Ye=y.onDismiss)==null||Ye.call(y,y),yt(),be(!0);return}(Gt=$.current)==null||Gt.style.setProperty("--swipe-amount","0px"),ae(!1)},onPointerMove:Me=>{var bt;if(!We.current||!Ce)return;let Ye=Me.clientY-We.current.y,Gt=Me.clientX-We.current.x,sr=(ut==="top"?Math.min:Math.max)(0,Ye),It=Me.pointerType==="touch"?10:2;Math.abs(sr)>It?(bt=$.current)==null||bt.style.setProperty("--swipe-amount",`${Ye}px`):Math.abs(Gt)>It&&(We.current=null)}},Ze&&!y.jsx?Oe.createElement("button",{"aria-label":pe,"data-disabled":St,"data-close-button":!0,onClick:St||!Ce?()=>{}:()=>{var Me;yt(),(Me=y.onDismiss)==null||Me.call(y,y)},className:P(Y==null?void 0:Y.closeButton,(s=y==null?void 0:y.classNames)==null?void 0:s.closeButton)},Oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Oe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Oe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,y.jsx||Oe.isValidElement(y.title)?y.jsx||y.title:Oe.createElement(Oe.Fragment,null,Se||y.icon||y.promise?Oe.createElement("div",{"data-icon":"",className:P(Y==null?void 0:Y.icon,(i=y==null?void 0:y.classNames)==null?void 0:i.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||sn():null,y.type!=="loading"?y.icon||(he==null?void 0:he[Se])||W2(Se):null):null,Oe.createElement("div",{"data-content":"",className:P(Y==null?void 0:Y.content,(a=y==null?void 0:y.classNames)==null?void 0:a.content)},Oe.createElement("div",{"data-title":"",className:P(Y==null?void 0:Y.title,(l=y==null?void 0:y.classNames)==null?void 0:l.title)},y.title),y.description?Oe.createElement("div",{"data-description":"",className:P(F,Ie,Y==null?void 0:Y.description,(c=y==null?void 0:y.classNames)==null?void 0:c.description)},y.description):null),Oe.isValidElement(y.cancel)?y.cancel:y.cancel&&Gl(y.cancel)?Oe.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||ne,onClick:Me=>{var bt,Ye;Gl(y.cancel)&&Ce&&((Ye=(bt=y.cancel).onClick)==null||Ye.call(bt,Me),yt())},className:P(Y==null?void 0:Y.cancelButton,(h=y==null?void 0:y.classNames)==null?void 0:h.cancelButton)},y.cancel.label):null,Oe.isValidElement(y.action)?y.action:y.action&&Gl(y.action)?Oe.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||re,onClick:Me=>{var bt,Ye;Gl(y.action)&&(Me.defaultPrevented||((Ye=(bt=y.action).onClick)==null||Ye.call(bt,Me),yt()))},className:P(Y==null?void 0:Y.actionButton,(p=y==null?void 0:y.classNames)==null?void 0:p.actionButton)},y.action.label):null))};function tf(){if(typeof window>"u"||typeof document>"u")return"ltr";let r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}var m5=r=>{let{invert:e,position:t="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:i,className:a,offset:l,theme:c="light",richColors:h,duration:p,style:g,visibleToasts:y=a5,toastOptions:m,dir:_=tf(),gap:w=u5,loadingIcon:N,icons:x,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:T,cn:z=f5}=r,[G,te]=Oe.useState([]),V=Oe.useMemo(()=>Array.from(new Set([t].concat(G.filter(Ae=>Ae.position).map(Ae=>Ae.position)))),[G,t]),[E,ne]=Oe.useState([]),[re,I]=Oe.useState(!1),[F,H]=Oe.useState(!1),[B,oe]=Oe.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=Oe.useRef(null),fe=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),Y=Oe.useRef(null),he=Oe.useRef(!1),pe=Oe.useCallback(Ae=>{var P;(P=G.find(D=>D.id===Ae.id))!=null&&P.delete||rn.dismiss(Ae.id),te(D=>D.filter(({id:U})=>U!==Ae.id))},[G]);return Oe.useEffect(()=>rn.subscribe(Ae=>{if(Ae.dismiss){te(P=>P.map(D=>D.id===Ae.id?{...D,delete:!0}:D));return}setTimeout(()=>{Og.flushSync(()=>{te(P=>{let D=P.findIndex(U=>U.id===Ae.id);return D!==-1?[...P.slice(0,D),{...P[D],...Ae},...P.slice(D+1)]:[Ae,...P]})})})}),[]),Oe.useEffect(()=>{if(c!=="system"){oe(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?oe("dark"):oe("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Ae})=>{oe(Ae?"dark":"light")})},[c]),Oe.useEffect(()=>{G.length<=1&&I(!1)},[G]),Oe.useEffect(()=>{let Ae=P=>{var D,U;n.every(W=>P[W]||P.code===W)&&(I(!0),(D=ie.current)==null||D.focus()),P.code==="Escape"&&(document.activeElement===ie.current||(U=ie.current)!=null&&U.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",Ae),()=>document.removeEventListener("keydown",Ae)},[n]),Oe.useEffect(()=>{if(ie.current)return()=>{Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null,he.current=!1)}},[ie.current]),G.length?Oe.createElement("section",{"aria-label":`${A} ${fe}`,tabIndex:-1},V.map((Ae,P)=>{var D;let[U,W]=Ae.split("-");return Oe.createElement("ol",{key:Ae,dir:_==="auto"?tf():_,tabIndex:-1,ref:ie,className:a,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":U,"data-x-position":W,style:{"--front-toast-height":`${((D=E[0])==null?void 0:D.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||o5,"--width":`${c5}px`,"--gap":`${w}px`,...g},onBlur:J=>{he.current&&!J.currentTarget.contains(J.relatedTarget)&&(he.current=!1,Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||he.current||(he.current=!0,Y.current=J.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{F||I(!1)},onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},G.filter(J=>!J.position&&P===0||J.position===Ae).map((J,Z)=>{var ae,ce;return Oe.createElement(p5,{key:J.id,icons:x,index:Z,toast:J,defaultRichColors:h,duration:(ae=m==null?void 0:m.duration)!=null?ae:p,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:y,closeButton:(ce=m==null?void 0:m.closeButton)!=null?ce:i,interacting:F,position:Ae,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:pe,toasts:G.filter(be=>be.position==J.position),heights:E.filter(be=>be.position==J.position),setHeights:ne,expandByDefault:s,gap:w,loadingIcon:N,expanded:re,pauseWhenPageIsHidden:T,cn:z})}))})):null};const g5=({...r})=>{const{theme:e="system"}=V2();return u.jsx(m5,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...r})};var[Pc,U4]=$a("Tooltip",[za]),kc=za(),Xp="TooltipProvider",v5=700,ld="tooltip.open",[y5,Qd]=Pc(Xp),Qp=r=>{const{__scopeTooltip:e,delayDuration:t=v5,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=r,[a,l]=O.useState(!0),c=O.useRef(!1),h=O.useRef(0);return O.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),u.jsx(y5,{scope:e,isOpenDelayed:a,delayDuration:t,onOpen:O.useCallback(()=>{window.clearTimeout(h.current),l(!1)},[]),onClose:O.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:O.useCallback(p=>{c.current=p},[]),disableHoverableContent:s,children:i})};Qp.displayName=Xp;var Lc="Tooltip",[b5,Cc]=Pc(Lc),Zp=r=>{const{__scopeTooltip:e,children:t,open:n,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:a,delayDuration:l}=r,c=Qd(Lc,r.__scopeTooltip),h=kc(e),[p,g]=O.useState(null),y=Ko(),m=O.useRef(0),_=a??c.disableHoverableContent,w=l??c.delayDuration,N=O.useRef(!1),[x=!1,A]=Ea({prop:n,defaultProp:s,onChange:V=>{V?(c.onOpen(),document.dispatchEvent(new CustomEvent(ld))):c.onClose(),i==null||i(V)}}),T=O.useMemo(()=>x?N.current?"delayed-open":"instant-open":"closed",[x]),z=O.useCallback(()=>{window.clearTimeout(m.current),m.current=0,N.current=!1,A(!0)},[A]),G=O.useCallback(()=>{window.clearTimeout(m.current),m.current=0,A(!1)},[A]),te=O.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{N.current=!0,A(!0),m.current=0},w)},[w,A]);return O.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),u.jsx(Wd,{...h,children:u.jsx(b5,{scope:e,contentId:y,open:x,stateAttribute:T,trigger:p,onTriggerChange:g,onTriggerEnter:O.useCallback(()=>{c.isOpenDelayed?te():z()},[c.isOpenDelayed,te,z]),onTriggerLeave:O.useCallback(()=>{_?G():(window.clearTimeout(m.current),m.current=0)},[G,_]),onOpen:z,onClose:G,disableHoverableContent:_,children:t})})};Zp.displayName=Lc;var cd="TooltipTrigger",e0=O.forwardRef((r,e)=>{const{__scopeTooltip:t,...n}=r,s=Cc(cd,t),i=Qd(cd,t),a=kc(t),l=O.useRef(null),c=Nr(e,l,s.onTriggerChange),h=O.useRef(!1),p=O.useRef(!1),g=O.useCallback(()=>h.current=!1,[]);return O.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),u.jsx(vc,{asChild:!0,...a,children:u.jsx(Et.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:ft(r.onPointerMove,y=>{y.pointerType!=="touch"&&!p.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),p.current=!0)}),onPointerLeave:ft(r.onPointerLeave,()=>{s.onTriggerLeave(),p.current=!1}),onPointerDown:ft(r.onPointerDown,()=>{h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:ft(r.onFocus,()=>{h.current||s.onOpen()}),onBlur:ft(r.onBlur,s.onClose),onClick:ft(r.onClick,s.onClose)})})});e0.displayName=cd;var w5="TooltipPortal",[$4,x5]=Pc(w5,{forceMount:void 0}),Ra="TooltipContent",t0=O.forwardRef((r,e)=>{const t=x5(Ra,r.__scopeTooltip),{forceMount:n=t.forceMount,side:s="top",...i}=r,a=Cc(Ra,r.__scopeTooltip);return u.jsx(Go,{present:n||a.open,children:a.disableHoverableContent?u.jsx(r0,{side:s,...i,ref:e}):u.jsx(_5,{side:s,...i,ref:e})})}),_5=O.forwardRef((r,e)=>{const t=Cc(Ra,r.__scopeTooltip),n=Qd(Ra,r.__scopeTooltip),s=O.useRef(null),i=Nr(e,s),[a,l]=O.useState(null),{trigger:c,onClose:h}=t,p=s.current,{onPointerInTransitChange:g}=n,y=O.useCallback(()=>{l(null),g(!1)},[g]),m=O.useCallback((_,w)=>{const N=_.currentTarget,x={x:_.clientX,y:_.clientY},A=A5(x,N.getBoundingClientRect()),T=P5(x,A),z=k5(w.getBoundingClientRect()),G=C5([...T,...z]);l(G),g(!0)},[g]);return O.useEffect(()=>()=>y(),[y]),O.useEffect(()=>{if(c&&p){const _=N=>m(N,p),w=N=>m(N,c);return c.addEventListener("pointerleave",_),p.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",_),p.removeEventListener("pointerleave",w)}}},[c,p,m,y]),O.useEffect(()=>{if(a){const _=w=>{const N=w.target,x={x:w.clientX,y:w.clientY},A=(c==null?void 0:c.contains(N))||(p==null?void 0:p.contains(N)),T=!L5(x,a);A?y():T&&(y(),h())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[c,p,a,h,y]),u.jsx(r0,{...r,ref:i})}),[N5,S5]=Pc(Lc,{isInside:!1}),r0=O.forwardRef((r,e)=>{const{__scopeTooltip:t,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=r,c=Cc(Ra,t),h=kc(t),{onClose:p}=c;return O.useEffect(()=>(document.addEventListener(ld,p),()=>document.removeEventListener(ld,p)),[p]),O.useEffect(()=>{if(c.trigger){const g=y=>{const m=y.target;m!=null&&m.contains(c.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[c.trigger,p]),u.jsx(zd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:u.jsxs(Hd,{"data-state":c.stateAttribute,...h,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(Cg,{children:n}),u.jsx(N5,{scope:t,isInside:!0,children:u.jsx(Zg,{id:c.contentId,role:"tooltip",children:s||n})})]})})});t0.displayName=Ra;var n0="TooltipArrow",j5=O.forwardRef((r,e)=>{const{__scopeTooltip:t,...n}=r,s=kc(t);return S5(n0,t).isInside?null:u.jsx(Vd,{...s,...n,ref:e})});j5.displayName=n0;function A5(r,e){const t=Math.abs(e.top-r.y),n=Math.abs(e.bottom-r.y),s=Math.abs(e.right-r.x),i=Math.abs(e.left-r.x);switch(Math.min(t,n,s,i)){case i:return"left";case s:return"right";case t:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function P5(r,e,t=5){const n=[];switch(e){case"top":n.push({x:r.x-t,y:r.y+t},{x:r.x+t,y:r.y+t});break;case"bottom":n.push({x:r.x-t,y:r.y-t},{x:r.x+t,y:r.y-t});break;case"left":n.push({x:r.x+t,y:r.y-t},{x:r.x+t,y:r.y+t});break;case"right":n.push({x:r.x-t,y:r.y-t},{x:r.x-t,y:r.y+t});break}return n}function k5(r){const{top:e,right:t,bottom:n,left:s}=r;return[{x:s,y:e},{x:t,y:e},{x:t,y:n},{x:s,y:n}]}function L5(r,e){const{x:t,y:n}=r;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i].x,c=e[i].y,h=e[a].x,p=e[a].y;c>n!=p>n&&t<(h-l)*(n-c)/(p-c)+l&&(s=!s)}return s}function C5(r){const e=r.slice();return e.sort((t,n)=>t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0),E5(e)}function E5(r){if(r.length<=1)return r.slice();const e=[];for(let n=0;n<r.length;n++){const s=r[n];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let n=r.length-1;n>=0;n--){const s=r[n];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var T5=Qp,I5=Zp,R5=e0,s0=t0;const i0=T5,O5=I5,F5=R5,a0=O.forwardRef(({className:r,sideOffset:e=4,...t},n)=>u.jsx(s0,{ref:n,sideOffset:e,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...t}));a0.displayName=s0.displayName;var Ec=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tc=typeof window>"u"||"Deno"in globalThis;function Ln(){}function D5(r,e){return typeof r=="function"?r(e):r}function M5(r){return typeof r=="number"&&r>=0&&r!==1/0}function B5(r,e){return Math.max(r+(e||0)-Date.now(),0)}function rf(r,e){return typeof r=="function"?r(e):r}function q5(r,e){return typeof r=="function"?r(e):r}function nf(r,e){const{type:t="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:l}=r;if(a){if(n){if(e.queryHash!==Zd(a,e.options))return!1}else if(!Mo(e.queryKey,a))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function sf(r,e){const{exact:t,status:n,predicate:s,mutationKey:i}=r;if(i){if(!e.options.mutationKey)return!1;if(t){if(Do(e.options.mutationKey)!==Do(i))return!1}else if(!Mo(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function Zd(r,e){return((e==null?void 0:e.queryKeyHashFn)||Do)(r)}function Do(r){return JSON.stringify(r,(e,t)=>ud(t)?Object.keys(t).sort().reduce((n,s)=>(n[s]=t[s],n),{}):t)}function Mo(r,e){return r===e?!0:typeof r!=typeof e?!1:r&&e&&typeof r=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!Mo(r[t],e[t])):!1}function o0(r,e){if(r===e)return r;const t=af(r)&&af(e);if(t||ud(r)&&ud(e)){const n=t?r:Object.keys(r),s=n.length,i=t?e:Object.keys(e),a=i.length,l=t?[]:{};let c=0;for(let h=0;h<a;h++){const p=t?h:i[h];(!t&&n.includes(p)||t)&&r[p]===void 0&&e[p]===void 0?(l[p]=void 0,c++):(l[p]=o0(r[p],e[p]),l[p]===r[p]&&r[p]!==void 0&&c++)}return s===a&&c===s?r:l}return e}function af(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function ud(r){if(!of(r))return!1;const e=r.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!of(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function of(r){return Object.prototype.toString.call(r)==="[object Object]"}function U5(r){return new Promise(e=>{setTimeout(e,r)})}function $5(r,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(r,e):t.structuralSharing!==!1?o0(r,e):e}function z5(r,e,t=0){const n=[...r,e];return t&&n.length>t?n.slice(1):n}function H5(r,e,t=0){const n=[e,...r];return t&&n.length>t?n.slice(0,-1):n}var eh=Symbol();function l0(r,e){return!r.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!r.queryFn||r.queryFn===eh?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var vi,Ds,_a,Qf,V5=(Qf=class extends Ec{constructor(){super();Pt(this,vi);Pt(this,Ds);Pt(this,_a);dt(this,_a,e=>{if(!Tc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Ne(this,Ds)||this.setEventListener(Ne(this,_a))}onUnsubscribe(){var e;this.hasListeners()||((e=Ne(this,Ds))==null||e.call(this),dt(this,Ds,void 0))}setEventListener(e){var t;dt(this,_a,e),(t=Ne(this,Ds))==null||t.call(this),dt(this,Ds,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){Ne(this,vi)!==e&&(dt(this,vi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Ne(this,vi)=="boolean"?Ne(this,vi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},vi=new WeakMap,Ds=new WeakMap,_a=new WeakMap,Qf),c0=new V5,Na,Ms,Sa,Zf,W5=(Zf=class extends Ec{constructor(){super();Pt(this,Na,!0);Pt(this,Ms);Pt(this,Sa);dt(this,Sa,e=>{if(!Tc&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){Ne(this,Ms)||this.setEventListener(Ne(this,Sa))}onUnsubscribe(){var e;this.hasListeners()||((e=Ne(this,Ms))==null||e.call(this),dt(this,Ms,void 0))}setEventListener(e){var t;dt(this,Sa,e),(t=Ne(this,Ms))==null||t.call(this),dt(this,Ms,e(this.setOnline.bind(this)))}setOnline(e){Ne(this,Na)!==e&&(dt(this,Na,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return Ne(this,Na)}},Na=new WeakMap,Ms=new WeakMap,Sa=new WeakMap,Zf),dc=new W5;function G5(){let r,e;const t=new Promise((s,i)=>{r=s,e=i});t.status="pending",t.catch(()=>{});function n(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{n({status:"fulfilled",value:s}),r(s)},t.reject=s=>{n({status:"rejected",reason:s}),e(s)},t}function K5(r){return Math.min(1e3*2**r,3e4)}function u0(r){return(r??"online")==="online"?dc.isOnline():!0}var d0=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function qu(r){return r instanceof d0}function h0(r){let e=!1,t=0,n=!1,s;const i=G5(),a=w=>{var N;n||(y(new d0(w)),(N=r.abort)==null||N.call(r))},l=()=>{e=!0},c=()=>{e=!1},h=()=>c0.isFocused()&&(r.networkMode==="always"||dc.isOnline())&&r.canRun(),p=()=>u0(r.networkMode)&&r.canRun(),g=w=>{var N;n||(n=!0,(N=r.onSuccess)==null||N.call(r,w),s==null||s(),i.resolve(w))},y=w=>{var N;n||(n=!0,(N=r.onError)==null||N.call(r,w),s==null||s(),i.reject(w))},m=()=>new Promise(w=>{var N;s=x=>{(n||h())&&w(x)},(N=r.onPause)==null||N.call(r)}).then(()=>{var w;s=void 0,n||(w=r.onContinue)==null||w.call(r)}),_=()=>{if(n)return;let w;const N=t===0?r.initialPromise:void 0;try{w=N??r.fn()}catch(x){w=Promise.reject(x)}Promise.resolve(w).then(g).catch(x=>{var te;if(n)return;const A=r.retry??(Tc?0:3),T=r.retryDelay??K5,z=typeof T=="function"?T(t,x):T,G=A===!0||typeof A=="number"&&t<A||typeof A=="function"&&A(t,x);if(e||!G){y(x);return}t++,(te=r.onFail)==null||te.call(r,t,x),U5(z).then(()=>h()?void 0:m()).then(()=>{e?y(x):_()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:p,start:()=>(p()?_():m().then(_),i)}}function J5(){let r=[],e=0,t=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{e?r.push(l):s(()=>{t(l)})},a=()=>{const l=r;r=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{t(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{t=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Mr=J5(),yi,ep,f0=(ep=class{constructor(){Pt(this,yi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M5(this.gcTime)&&dt(this,yi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(Tc?1/0:5*60*1e3))}clearGcTimeout(){Ne(this,yi)&&(clearTimeout(Ne(this,yi)),dt(this,yi,void 0))}},yi=new WeakMap,ep),ja,Aa,pn,Er,Vo,bi,En,fs,tp,Y5=(tp=class extends f0{constructor(e){super();Pt(this,En);Pt(this,ja);Pt(this,Aa);Pt(this,pn);Pt(this,Er);Pt(this,Vo);Pt(this,bi);dt(this,bi,!1),dt(this,Vo,e.defaultOptions),this.setOptions(e.options),this.observers=[],dt(this,pn,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,dt(this,ja,Q5(this.options)),this.state=e.state??Ne(this,ja),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Ne(this,Er))==null?void 0:e.promise}setOptions(e){this.options={...Ne(this,Vo),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ne(this,pn).remove(this)}setData(e,t){const n=$5(this.state.data,e,this.options);return Ar(this,En,fs).call(this,{data:n,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),n}setState(e,t){Ar(this,En,fs).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var n,s;const t=(n=Ne(this,Er))==null?void 0:n.promise;return(s=Ne(this,Er))==null||s.cancel(e),t?t.then(Ln).catch(Ln):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ne(this,ja))}isActive(){return this.observers.some(e=>q5(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===eh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!B5(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Ne(this,Er))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Ne(this,Er))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ne(this,pn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Ne(this,Er)&&(Ne(this,bi)?Ne(this,Er).cancel({revert:!0}):Ne(this,Er).cancelRetry()),this.scheduleGc()),Ne(this,pn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ar(this,En,fs).call(this,{type:"invalidate"})}fetch(e,t){var c,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Ne(this,Er))return Ne(this,Er).continueRetry(),Ne(this,Er).promise}if(e&&this.setOptions(e),!this.options.queryFn){const g=this.observers.find(y=>y.options.queryFn);g&&this.setOptions(g.options)}const n=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(dt(this,bi,!0),n.signal)})},i=()=>{const g=l0(this.options,t),y={queryKey:this.queryKey,meta:this.meta};return s(y),dt(this,bi,!1),this.options.persister?this.options.persister(g,y,this):g(y)},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),dt(this,Aa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Ar(this,En,fs).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=g=>{var y,m,_,w;qu(g)&&g.silent||Ar(this,En,fs).call(this,{type:"error",error:g}),qu(g)||((m=(y=Ne(this,pn).config).onError)==null||m.call(y,g,this),(w=(_=Ne(this,pn).config).onSettled)==null||w.call(_,this.state.data,g,this)),this.scheduleGc()};return dt(this,Er,h0({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:g=>{var y,m,_,w;if(g===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(N){l(N);return}(m=(y=Ne(this,pn).config).onSuccess)==null||m.call(y,g,this),(w=(_=Ne(this,pn).config).onSettled)==null||w.call(_,g,this.state.error,this),this.scheduleGc()},onError:l,onFail:(g,y)=>{Ar(this,En,fs).call(this,{type:"failed",failureCount:g,error:y})},onPause:()=>{Ar(this,En,fs).call(this,{type:"pause"})},onContinue:()=>{Ar(this,En,fs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),Ne(this,Er).start()}},ja=new WeakMap,Aa=new WeakMap,pn=new WeakMap,Er=new WeakMap,Vo=new WeakMap,bi=new WeakMap,En=new WeakSet,fs=function(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...X5(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return qu(s)&&s.revert&&Ne(this,Aa)?{...Ne(this,Aa),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Mr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Ne(this,pn).notify({query:this,type:"updated",action:e})})},tp);function X5(r,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:u0(e.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function Q5(r){const e=typeof r.initialData=="function"?r.initialData():r.initialData,t=e!==void 0,n=t?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Kn,rp,Z5=(rp=class extends Ec{constructor(e={}){super();Pt(this,Kn);this.config=e,dt(this,Kn,new Map)}build(e,t,n){const s=t.queryKey,i=t.queryHash??Zd(s,t);let a=this.get(i);return a||(a=new Y5({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){Ne(this,Kn).has(e.queryHash)||(Ne(this,Kn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Ne(this,Kn).get(e.queryHash);t&&(e.destroy(),t===e&&Ne(this,Kn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ne(this,Kn).get(e)}getAll(){return[...Ne(this,Kn).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>nf(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>nf(e,n)):t}notify(e){Mr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Mr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Kn=new WeakMap,rp),Jn,Dr,wi,Yn,Is,np,ev=(np=class extends f0{constructor(e){super();Pt(this,Yn);Pt(this,Jn);Pt(this,Dr);Pt(this,wi);this.mutationId=e.mutationId,dt(this,Dr,e.mutationCache),dt(this,Jn,[]),this.state=e.state||tv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ne(this,Jn).includes(e)||(Ne(this,Jn).push(e),this.clearGcTimeout(),Ne(this,Dr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){dt(this,Jn,Ne(this,Jn).filter(t=>t!==e)),this.scheduleGc(),Ne(this,Dr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ne(this,Jn).length||(this.state.status==="pending"?this.scheduleGc():Ne(this,Dr).remove(this))}continue(){var e;return((e=Ne(this,wi))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,a,l,c,h,p,g,y,m,_,w,N,x,A,T,z,G,te,V;dt(this,wi,h0({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(E,ne)=>{Ar(this,Yn,Is).call(this,{type:"failed",failureCount:E,error:ne})},onPause:()=>{Ar(this,Yn,Is).call(this,{type:"pause"})},onContinue:()=>{Ar(this,Yn,Is).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ne(this,Dr).canRun(this)}));const t=this.state.status==="pending",n=!Ne(this,wi).canStart();try{if(!t){Ar(this,Yn,Is).call(this,{type:"pending",variables:e,isPaused:n}),await((i=(s=Ne(this,Dr).config).onMutate)==null?void 0:i.call(s,e,this));const ne=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));ne!==this.state.context&&Ar(this,Yn,Is).call(this,{type:"pending",context:ne,variables:e,isPaused:n})}const E=await Ne(this,wi).start();return await((h=(c=Ne(this,Dr).config).onSuccess)==null?void 0:h.call(c,E,e,this.state.context,this)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,E,e,this.state.context)),await((m=(y=Ne(this,Dr).config).onSettled)==null?void 0:m.call(y,E,null,this.state.variables,this.state.context,this)),await((w=(_=this.options).onSettled)==null?void 0:w.call(_,E,null,e,this.state.context)),Ar(this,Yn,Is).call(this,{type:"success",data:E}),E}catch(E){try{throw await((x=(N=Ne(this,Dr).config).onError)==null?void 0:x.call(N,E,e,this.state.context,this)),await((T=(A=this.options).onError)==null?void 0:T.call(A,E,e,this.state.context)),await((G=(z=Ne(this,Dr).config).onSettled)==null?void 0:G.call(z,void 0,E,this.state.variables,this.state.context,this)),await((V=(te=this.options).onSettled)==null?void 0:V.call(te,void 0,E,e,this.state.context)),E}finally{Ar(this,Yn,Is).call(this,{type:"error",error:E})}}finally{Ne(this,Dr).runNext(this)}}},Jn=new WeakMap,Dr=new WeakMap,wi=new WeakMap,Yn=new WeakSet,Is=function(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Mr.batch(()=>{Ne(this,Jn).forEach(n=>{n.onMutationUpdate(e)}),Ne(this,Dr).notify({mutation:this,type:"updated",action:e})})},np);function tv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tn,Wo,sp,rv=(sp=class extends Ec{constructor(e={}){super();Pt(this,tn);Pt(this,Wo);this.config=e,dt(this,tn,new Map),dt(this,Wo,Date.now())}build(e,t,n){const s=new ev({mutationCache:this,mutationId:++Vl(this,Wo)._,options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){const t=Kl(e),n=Ne(this,tn).get(t)??[];n.push(e),Ne(this,tn).set(t,n),this.notify({type:"added",mutation:e})}remove(e){var n;const t=Kl(e);if(Ne(this,tn).has(t)){const s=(n=Ne(this,tn).get(t))==null?void 0:n.filter(i=>i!==e);s&&(s.length===0?Ne(this,tn).delete(t):Ne(this,tn).set(t,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const t=(n=Ne(this,tn).get(Kl(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!t||t===e}runNext(e){var n;const t=(n=Ne(this,tn).get(Kl(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){Mr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Ne(this,tn).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(n=>sf(t,n))}findAll(e={}){return this.getAll().filter(t=>sf(e,t))}notify(e){Mr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Mr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ln))))}},tn=new WeakMap,Wo=new WeakMap,sp);function Kl(r){var e;return((e=r.options.scope)==null?void 0:e.id)??String(r.mutationId)}function lf(r){return{onFetch:(e,t)=>{var p,g,y,m,_;const n=e.options,s=(y=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],a=((_=e.state.data)==null?void 0:_.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const h=async()=>{let w=!1;const N=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},x=l0(e.options,e.fetchOptions),A=async(T,z,G)=>{if(w)return Promise.reject();if(z==null&&T.pages.length)return Promise.resolve(T);const te={queryKey:e.queryKey,pageParam:z,direction:G?"backward":"forward",meta:e.options.meta};N(te);const V=await x(te),{maxPages:E}=e.options,ne=G?H5:z5;return{pages:ne(T.pages,V,E),pageParams:ne(T.pageParams,z,E)}};if(s&&i.length){const T=s==="backward",z=T?nv:cf,G={pages:i,pageParams:a},te=z(n,G);l=await A(G,te,T)}else{const T=r??i.length;do{const z=c===0?a[0]??n.initialPageParam:cf(n,l);if(c>0&&z==null)break;l=await A(l,z),c++}while(c<T)}return l};e.options.persister?e.fetchFn=()=>{var w,N;return(N=(w=e.options).persister)==null?void 0:N.call(w,h,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=h}}}function cf(r,{pages:e,pageParams:t}){const n=e.length-1;return e.length>0?r.getNextPageParam(e[n],e,t[n],t):void 0}function nv(r,{pages:e,pageParams:t}){var n;return e.length>0?(n=r.getPreviousPageParam)==null?void 0:n.call(r,e[0],e,t[0],t):void 0}var Yt,Bs,qs,Pa,ka,Us,La,Ca,ip,sv=(ip=class{constructor(r={}){Pt(this,Yt);Pt(this,Bs);Pt(this,qs);Pt(this,Pa);Pt(this,ka);Pt(this,Us);Pt(this,La);Pt(this,Ca);dt(this,Yt,r.queryCache||new Z5),dt(this,Bs,r.mutationCache||new rv),dt(this,qs,r.defaultOptions||{}),dt(this,Pa,new Map),dt(this,ka,new Map),dt(this,Us,0)}mount(){Vl(this,Us)._++,Ne(this,Us)===1&&(dt(this,La,c0.subscribe(async r=>{r&&(await this.resumePausedMutations(),Ne(this,Yt).onFocus())})),dt(this,Ca,dc.subscribe(async r=>{r&&(await this.resumePausedMutations(),Ne(this,Yt).onOnline())})))}unmount(){var r,e;Vl(this,Us)._--,Ne(this,Us)===0&&((r=Ne(this,La))==null||r.call(this),dt(this,La,void 0),(e=Ne(this,Ca))==null||e.call(this),dt(this,Ca,void 0))}isFetching(r){return Ne(this,Yt).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return Ne(this,Bs).findAll({...r,status:"pending"}).length}getQueryData(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=Ne(this,Yt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(r){const e=this.getQueryData(r.queryKey);if(e===void 0)return this.fetchQuery(r);{const t=this.defaultQueryOptions(r),n=Ne(this,Yt).build(this,t);return r.revalidateIfStale&&n.isStaleByTime(rf(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(r){return Ne(this,Yt).findAll(r).map(({queryKey:e,state:t})=>{const n=t.data;return[e,n]})}setQueryData(r,e,t){const n=this.defaultQueryOptions({queryKey:r}),s=Ne(this,Yt).get(n.queryHash),i=s==null?void 0:s.state.data,a=D5(e,i);if(a!==void 0)return Ne(this,Yt).build(this,n).setData(a,{...t,manual:!0})}setQueriesData(r,e,t){return Mr.batch(()=>Ne(this,Yt).findAll(r).map(({queryKey:n})=>[n,this.setQueryData(n,e,t)]))}getQueryState(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=Ne(this,Yt).get(e.queryHash))==null?void 0:t.state}removeQueries(r){const e=Ne(this,Yt);Mr.batch(()=>{e.findAll(r).forEach(t=>{e.remove(t)})})}resetQueries(r,e){const t=Ne(this,Yt),n={type:"active",...r};return Mr.batch(()=>(t.findAll(r).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(r={},e={}){const t={revert:!0,...e},n=Mr.batch(()=>Ne(this,Yt).findAll(r).map(s=>s.cancel(t)));return Promise.all(n).then(Ln).catch(Ln)}invalidateQueries(r={},e={}){return Mr.batch(()=>{if(Ne(this,Yt).findAll(r).forEach(n=>{n.invalidate()}),r.refetchType==="none")return Promise.resolve();const t={...r,type:r.refetchType??r.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(r={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Mr.batch(()=>Ne(this,Yt).findAll(r).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,t);return t.throwOnError||(i=i.catch(Ln)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ln)}fetchQuery(r){const e=this.defaultQueryOptions(r);e.retry===void 0&&(e.retry=!1);const t=Ne(this,Yt).build(this,e);return t.isStaleByTime(rf(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(Ln).catch(Ln)}fetchInfiniteQuery(r){return r.behavior=lf(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(Ln).catch(Ln)}ensureInfiniteQueryData(r){return r.behavior=lf(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return dc.isOnline()?Ne(this,Bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ne(this,Yt)}getMutationCache(){return Ne(this,Bs)}getDefaultOptions(){return Ne(this,qs)}setDefaultOptions(r){dt(this,qs,r)}setQueryDefaults(r,e){Ne(this,Pa).set(Do(r),{queryKey:r,defaultOptions:e})}getQueryDefaults(r){const e=[...Ne(this,Pa).values()];let t={};return e.forEach(n=>{Mo(r,n.queryKey)&&(t={...t,...n.defaultOptions})}),t}setMutationDefaults(r,e){Ne(this,ka).set(Do(r),{mutationKey:r,defaultOptions:e})}getMutationDefaults(r){const e=[...Ne(this,ka).values()];let t={};return e.forEach(n=>{Mo(r,n.mutationKey)&&(t={...t,...n.defaultOptions})}),t}defaultQueryOptions(r){if(r._defaulted)return r;const e={...Ne(this,qs).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return e.queryHash||(e.queryHash=Zd(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===eh&&(e.enabled=!1),e}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{...Ne(this,qs).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){Ne(this,Yt).clear(),Ne(this,Bs).clear()}},Yt=new WeakMap,Bs=new WeakMap,qs=new WeakMap,Pa=new WeakMap,ka=new WeakMap,Us=new WeakMap,La=new WeakMap,Ca=new WeakMap,ip),iv=O.createContext(void 0),av=({client:r,children:e})=>(O.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),u.jsx(iv.Provider,{value:r,children:e}));const ov="modulepreload",lv=function(r){return"/"+r},uf={},Hs=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(t.map(c=>{if(c=lv(c),c in uf)return;uf[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":ov,h||(g.as="script"),g.crossOrigin="",g.href=c,l&&g.setAttribute("nonce",l),document.head.appendChild(g),h)return new Promise((y,m)=>{g.addEventListener("load",y),g.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},cv=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Hs(async()=>{const{default:n}=await Promise.resolve().then(()=>Ha);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class th extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class uv extends th{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class dv extends th{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hv extends th{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dd;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(dd||(dd={}));var fv=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(p){try{h(n.next(p))}catch(g){a(g)}}function c(p){try{h(n.throw(p))}catch(g){a(g)}}function h(p){p.done?i(p.value):s(p.value).then(l,c)}h((n=n.apply(r,e||[])).next())})};class pv{constructor(e,{headers:t={},customFetch:n,region:s=dd.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=cv(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return fv(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=t;let l={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let h;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(l["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(l["Content-Type"]="application/json",h=JSON.stringify(a)));const p=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:h}).catch(_=>{throw new uv(_)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new dv(p);if(!p.ok)throw new hv(p);let y=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return y==="application/json"?m=yield p.json():y==="application/octet-stream"?m=yield p.blob():y==="text/event-stream"?m=p:y==="multipart/form-data"?m=yield p.formData():m=yield p.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Gr={},rh={},Ic={},Yo={},Rc={},Oc={},mv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Oa=mv();const gv=Oa.fetch,p0=Oa.fetch.bind(Oa),m0=Oa.Headers,vv=Oa.Request,yv=Oa.Response,Ha=Object.freeze(Object.defineProperty({__proto__:null,Headers:m0,Request:vv,Response:yv,default:p0,fetch:gv},Symbol.toStringTag,{value:"Module"})),bv=Fg(Ha);var Fc={};Object.defineProperty(Fc,"__esModule",{value:!0});let wv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Fc.default=wv;var g0=mn&&mn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Oc,"__esModule",{value:!0});const xv=g0(bv),_v=g0(Fc);let Nv=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=xv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c;let h=null,p=null,g=null,y=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=x:p=JSON.parse(x))}const w=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),N=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&N&&N.length>1&&(g=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,y=406,m="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const w=await i.text();try{h=JSON.parse(w),Array.isArray(h)&&i.status===404&&(p=[],h=null,y=200,m="OK")}catch{i.status===404&&w===""?(y=204,m="No Content"):h={message:w}}if(h&&this.isMaybeSingle&&(!((c=h==null?void 0:h.details)===null||c===void 0)&&c.includes("0 rows"))&&(h=null,y=200,m="OK"),h&&this.shouldThrowOnError)throw new _v.default(h)}return{error:h,data:p,count:g,status:y,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}};Oc.default=Nv;var Sv=mn&&mn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rc,"__esModule",{value:!0});const jv=Sv(Oc);let Av=class extends jv.default{select(e){let t=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[e?"analyze":null,t?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),h=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${h}"; options=${c};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Rc.default=Av;var Pv=mn&&mn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yo,"__esModule",{value:!0});const kv=Pv(Rc);let Lv=class extends kv.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};Yo.default=Lv;var Cv=mn&&mn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ic,"__esModule",{value:!0});const So=Cv(Yo);let Ev=class{constructor(e,{headers:t={},schema:n,fetch:s}){this.url=e,this.headers=t,this.schema=n,this.fetch=s}select(e,{head:t=!1,count:n}={}){const s=t?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new So.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new So.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(c.length>0){const h=[...new Set(c)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new So.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new So.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new So.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ic.default=Ev;var Dc={},Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.version=void 0;Mc.version="0.0.0-automated";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.DEFAULT_HEADERS=void 0;const Tv=Mc;Dc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Tv.version}`};var v0=mn&&mn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rh,"__esModule",{value:!0});const Iv=v0(Ic),Rv=v0(Yo),Ov=Dc;let Fv=class y0{constructor(e,{headers:t={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Ov.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new Iv.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new y0(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(t).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{l.searchParams.append(p,g)})):(a="POST",c=t);const h=Object.assign({},this.headers);return i&&(h.Prefer=`count=${i}`),new Rv.default({method:a,url:l,headers:h,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};rh.default=Fv;var Va=mn&&mn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.PostgrestError=Gr.PostgrestBuilder=Gr.PostgrestTransformBuilder=Gr.PostgrestFilterBuilder=Gr.PostgrestQueryBuilder=Gr.PostgrestClient=void 0;const b0=Va(rh);Gr.PostgrestClient=b0.default;const w0=Va(Ic);Gr.PostgrestQueryBuilder=w0.default;const x0=Va(Yo);Gr.PostgrestFilterBuilder=x0.default;const _0=Va(Rc);Gr.PostgrestTransformBuilder=_0.default;const N0=Va(Oc);Gr.PostgrestBuilder=N0.default;const S0=Va(Fc);Gr.PostgrestError=S0.default;var Dv=Gr.default={PostgrestClient:b0.default,PostgrestQueryBuilder:w0.default,PostgrestFilterBuilder:x0.default,PostgrestTransformBuilder:_0.default,PostgrestBuilder:N0.default,PostgrestError:S0.default};const{PostgrestClient:Mv,PostgrestQueryBuilder:K4,PostgrestFilterBuilder:J4,PostgrestTransformBuilder:Y4,PostgrestBuilder:X4,PostgrestError:Q4}=Dv;let hd;typeof window>"u"?hd=require("ws"):hd=window.WebSocket;const Bv=hd,qv="2.11.10",Uv={"X-Client-Info":`realtime-js/${qv}`},$v="1.0.0",j0=1e4,zv=1e3;var va;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(va||(va={}));var Fr;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Fr||(Fr={}));var Tn;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Tn||(Tn={}));var fd;(function(r){r.websocket="websocket"})(fd||(fd={}));var mi;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(mi||(mi={}));class Hv{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const s=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(e.slice(a,a+s));a=a+s;const c=n.decode(e.slice(a,a+i));a=a+i;const h=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:c,payload:h}}}class A0{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Bt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Bt||(Bt={}));const df=(r,e,t={})=>{var n;const s=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=Vv(a,r,e,s),i),{})},Vv=(r,e,t,n)=>{const s=e.find(l=>l.name===r),i=s==null?void 0:s.type,a=t[r];return i&&!n.includes(i)?P0(i,a):pd(a)},P0=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Jv(e,t)}switch(r){case Bt.bool:return Wv(e);case Bt.float4:case Bt.float8:case Bt.int2:case Bt.int4:case Bt.int8:case Bt.numeric:case Bt.oid:return Gv(e);case Bt.json:case Bt.jsonb:return Kv(e);case Bt.timestamp:return Yv(e);case Bt.abstime:case Bt.date:case Bt.daterange:case Bt.int4range:case Bt.int8range:case Bt.money:case Bt.reltime:case Bt.text:case Bt.time:case Bt.timestamptz:case Bt.timetz:case Bt.tsrange:case Bt.tstzrange:return pd(e);default:return pd(e)}},pd=r=>r,Wv=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Gv=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Kv=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Jv=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let i;const a=r.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>P0(e,l))}return r},Yv=r=>typeof r=="string"?r.replace(" ","T"):r,k0=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Uu{constructor(e,t,n={},s=j0){this.channel=e,this.event=t,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var hf;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(hf||(hf={}));class Io{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Io.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Io.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Io.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,s){const i=this.cloneDeep(e),a=this.transformState(t),l={},c={};return this.map(i,(h,p)=>{a[h]||(c[h]=p)}),this.map(a,(h,p)=>{const g=i[h];if(g){const y=p.map(N=>N.presence_ref),m=g.map(N=>N.presence_ref),_=p.filter(N=>m.indexOf(N.presence_ref)<0),w=g.filter(N=>y.indexOf(N.presence_ref)<0);_.length>0&&(l[h]=_),w.length>0&&(c[h]=w)}else l[h]=p}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,t,n,s){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var h;const p=(h=e[l])!==null&&h!==void 0?h:[];if(e[l]=this.cloneDeep(c),p.length>0){const g=e[l].map(m=>m.presence_ref),y=p.filter(m=>g.indexOf(m.presence_ref)<0);e[l].unshift(...y)}n(l,p,c)}),this.map(a,(l,c)=>{let h=e[l];if(!h)return;const p=c.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),e[l]=h,s(l,h,c),h.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const s=e[n];return"metas"in s?t[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ff;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(ff||(ff={}));var pf;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(pf||(pf={}));var ms;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ms||(ms={}));class nh{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Fr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Uu(this,Tn.join,this.params,this.timeout),this.rejoinTimer=new A0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Io(this),this.broadcastEndpointURL=k0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:l}}=this.params;this._onError(p=>e==null?void 0:e(ms.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(ms.CLOSED));const c={},h={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){e==null||e(ms.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,m=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,_=[];for(let w=0;w<m;w++){const N=y[w],{filter:{event:x,schema:A,table:T,filter:z}}=N,G=p&&p[w];if(G&&G.event===x&&G.schema===A&&G.table===T&&G.filter===z)_.push(Object.assign(Object.assign({},N),{id:G.id}));else{this.unsubscribe(),this.state=Fr.errored,e==null||e(ms.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(ms.SUBSCRIBED);return}}).receive("error",p=>{this.state=Fr.errored,e==null||e(ms.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ms.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const h=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Fr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tn.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new Uu(this,Tn.leave,{},e);s.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(i),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Uu(this,e,t,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:h,join:p}=Tn;if(n&&[l,c,h,p].indexOf(a)>=0&&n!==this._joinRef())return;let y=this._onMessage(a,t,n);if(t&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var _,w,N;return((_=m.filter)===null||_===void 0?void 0:_.event)==="*"||((N=(w=m.filter)===null||w===void 0?void 0:w.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===a}).map(m=>m.callback(y,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var _,w,N,x,A,T;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const z=m.id,G=(_=m.filter)===null||_===void 0?void 0:_.event;return z&&((w=t.ids)===null||w===void 0?void 0:w.includes(z))&&(G==="*"||(G==null?void 0:G.toLocaleLowerCase())===((N=t.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const z=(A=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return z==="*"||z===((T=t==null?void 0:t.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof y=="object"&&"ids"in y){const _=y.data,{schema:w,table:N,commit_timestamp:x,type:A,errors:T}=_;y=Object.assign(Object.assign({},{schema:w,table:N,commit_timestamp:x,eventType:A,new:{},old:{},errors:T}),this._getPayloadRecords(_))}m.callback(y,n)})}_isClosed(){return this.state===Fr.closed}_isJoined(){return this.state===Fr.joined}_isJoining(){return this.state===Fr.joining}_isLeaving(){return this.state===Fr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const s=e.toLocaleLowerCase(),i={type:s,filter:t,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&nh.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Tn.close,{},e)}_onError(e){this._on(Tn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=df(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=df(e.columns,e.old_record)),t}}const mf=()=>{},Xv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qv{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Uv,this.params={},this.timeout=j0,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mf,this.ref=0,this.logger=mf,this.conn=null,this.sendBuffer=[],this.serializer=new Hv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>Hs(async()=>{const{default:c}=await Promise.resolve().then(()=>Ha);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${e}/${fd.websocket}`,this.httpEndpoint=k0(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,a)=>a(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new A0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Bv),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Zv(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$v}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case va.connecting:return mi.Connecting;case va.open:return mi.Open;case va.closing:return mi.Closing;default:return mi.Closed}}isConnected(){return this.connectionState()===mi.Open}channel(e,t={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new nh(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${t} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Tn.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(zv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:s,payload:i,ref:a}=t;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(t))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Tn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${n}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([Xv],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class Zv{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=va.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class sh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function mr(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class ey extends sh{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class md extends sh{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var ty=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(p){try{h(n.next(p))}catch(g){a(g)}}function c(p){try{h(n.throw(p))}catch(g){a(g)}}function h(p){p.done?i(p.value):s(p.value).then(l,c)}h((n=n.apply(r,e||[])).next())})};const L0=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Hs(async()=>{const{default:n}=await Promise.resolve().then(()=>Ha);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},ry=()=>ty(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hs(()=>Promise.resolve().then(()=>Ha),void 0)).Response:Response}),gd=r=>{if(Array.isArray(r))return r.map(t=>gd(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const s=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=gd(n)}),e};var Ai=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(p){try{h(n.next(p))}catch(g){a(g)}}function c(p){try{h(n.throw(p))}catch(g){a(g)}}function h(p){p.done?i(p.value):s(p.value).then(l,c)}h((n=n.apply(r,e||[])).next())})};const $u=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ny=(r,e,t)=>Ai(void 0,void 0,void 0,function*(){const n=yield ry();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(s=>{e(new ey($u(s),r.status||500))}).catch(s=>{e(new md($u(s),s))}):e(new md($u(r),r))}),sy=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),t))};function Xo(r,e,t,n,s,i){return Ai(this,void 0,void 0,function*(){return new Promise((a,l)=>{r(t,sy(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>ny(c,l,n))})})}function hc(r,e,t,n){return Ai(this,void 0,void 0,function*(){return Xo(r,"GET",e,t,n)})}function Os(r,e,t,n,s){return Ai(this,void 0,void 0,function*(){return Xo(r,"POST",e,n,s,t)})}function iy(r,e,t,n,s){return Ai(this,void 0,void 0,function*(){return Xo(r,"PUT",e,n,s,t)})}function ay(r,e,t,n){return Ai(this,void 0,void 0,function*(){return Xo(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function C0(r,e,t,n,s){return Ai(this,void 0,void 0,function*(){return Xo(r,"DELETE",e,n,s,t)})}var Wr=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(p){try{h(n.next(p))}catch(g){a(g)}}function c(p){try{h(n.throw(p))}catch(g){a(g)}}function h(p){p.done?i(p.value):s(p.value).then(l,c)}h((n=n.apply(r,e||[])).next())})};const oy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ly{constructor(e,t={},n,s){this.url=e,this.headers=t,this.bucketId=n,this.fetch=L0(s)}uploadOrUpdate(e,t,n,s){return Wr(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},gf),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const h=this._removeEmptyFolders(t),p=this._getFinalPath(h),g=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:e,body:i,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),y=yield g.json();return g.ok?{data:{path:h,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(i){if(mr(i))return{data:null,error:i};throw i}})}upload(e,t,n){return Wr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,s){return Wr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",t);try{let c;const h=Object.assign({upsert:gf.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",h.cacheControl)):(c=n,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const g=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:p}),y=yield g.json();return g.ok?{data:{path:i,fullPath:y.Key},error:null}:{data:null,error:y}}catch(c){if(mr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return Wr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=yield Os(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new sh("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}})}update(e,t,n){return Wr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Wr(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(mr(s))return{data:null,error:s};throw s}})}copy(e,t,n){return Wr(this,void 0,void 0,function*(){try{return{data:{path:(yield Os(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(mr(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,n){return Wr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Os(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(mr(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,n){return Wr(this,void 0,void 0,function*(){try{const s=yield Os(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(mr(s))return{data:null,error:s};throw s}})}download(e,t){return Wr(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield hc(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(mr(l))return{data:null,error:l};throw l}})}info(e){return Wr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield hc(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:gd(n),error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}})}exists(e){return Wr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield ay(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(mr(n)&&n instanceof md){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&s.push(i);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&s.push(c);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${h}`)}}}remove(e){return Wr(this,void 0,void 0,function*(){try{return{data:yield C0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(mr(t))return{data:null,error:t};throw t}})}list(e,t,n){return Wr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},oy),t),{prefix:e||""});return{data:yield Os(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(mr(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const cy="2.7.1",uy={"X-Client-Info":`storage-js/${cy}`};var na=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(p){try{h(n.next(p))}catch(g){a(g)}}function c(p){try{h(n.throw(p))}catch(g){a(g)}}function h(p){p.done?i(p.value):s(p.value).then(l,c)}h((n=n.apply(r,e||[])).next())})};class dy{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},uy),t),this.fetch=L0(n)}listBuckets(){return na(this,void 0,void 0,function*(){try{return{data:yield hc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(mr(e))return{data:null,error:e};throw e}})}getBucket(e){return na(this,void 0,void 0,function*(){try{return{data:yield hc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(mr(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return na(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return na(this,void 0,void 0,function*(){try{return{data:yield iy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(mr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return na(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(mr(t))return{data:null,error:t};throw t}})}deleteBucket(e){return na(this,void 0,void 0,function*(){try{return{data:yield C0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(mr(t))return{data:null,error:t};throw t}})}}class hy extends dy{constructor(e,t={},n){super(e,t,n)}from(e){return new ly(this.url,this.headers,e,this.fetch)}}const fy="2.50.0";let ko="";typeof Deno<"u"?ko="deno":typeof document<"u"?ko="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ko="react-native":ko="node";const py={"X-Client-Info":`supabase-js-${ko}/${fy}`},my={headers:py},gy={schema:"public"},vy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yy={};var by=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(p){try{h(n.next(p))}catch(g){a(g)}}function c(p){try{h(n.throw(p))}catch(g){a(g)}}function h(p){p.done?i(p.value):s(p.value).then(l,c)}h((n=n.apply(r,e||[])).next())})};const wy=r=>{let e;return r?e=r:typeof fetch>"u"?e=p0:e=fetch,(...t)=>e(...t)},xy=()=>typeof Headers>"u"?m0:Headers,_y=(r,e,t)=>{const n=wy(t),s=xy();return(i,a)=>by(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:r;let h=new s(a==null?void 0:a.headers);return h.has("apikey")||h.set("apikey",r),h.has("Authorization")||h.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:h}))})};var Ny=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(p){try{h(n.next(p))}catch(g){a(g)}}function c(p){try{h(n.throw(p))}catch(g){a(g)}}function h(p){p.done?i(p.value):s(p.value).then(l,c)}h((n=n.apply(r,e||[])).next())})};function Sy(r){return r.endsWith("/")?r:r+"/"}function jy(r,e){var t,n;const{db:s,auth:i,realtime:a,global:l}=r,{db:c,auth:h,realtime:p,global:g}=e,y={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},h),i),realtime:Object.assign(Object.assign({},p),a),global:Object.assign(Object.assign(Object.assign({},g),l),{headers:Object.assign(Object.assign({},(t=g==null?void 0:g.headers)!==null&&t!==void 0?t:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Ny(this,void 0,void 0,function*(){return""})};return r.accessToken?y.accessToken=r.accessToken:delete y.accessToken,y}const E0="2.70.0",ha=30*1e3,vd=3,zu=vd*ha,Ay="http://localhost:9999",Py="supabase.auth.token",ky={"X-Client-Info":`gotrue-js/${E0}`},yd="X-Supabase-Api-Version",T0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ly=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cy=6e5;class ih extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function lt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Ey extends ih{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function Ty(r){return lt(r)&&r.name==="AuthApiError"}class I0 extends ih{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ys extends ih{constructor(e,t,n,s){super(e,n,s),this.name=t,this.status=n}}class Rs extends Ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Iy(r){return lt(r)&&r.name==="AuthSessionMissingError"}class Jl extends Ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yl extends Ys{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xl extends Ys{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ry(r){return lt(r)&&r.name==="AuthImplicitGrantRedirectError"}class vf extends Ys{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bd extends Ys{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Hu(r){return lt(r)&&r.name==="AuthRetryableFetchError"}class yf extends Ys{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Ro extends Ys{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const fc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bf=` 	
\r=`.split(""),Oy=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<bf.length;e+=1)r[bf[e].charCodeAt(0)]=-2;for(let e=0;e<fc.length;e+=1)r[fc[e].charCodeAt(0)]=e;return r})();function wf(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(fc[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(fc[n]),e.queuedBits-=6}}function R0(r,e,t){const n=Oy[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function xf(r){const e=[],t=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{My(a,n,t)};for(let a=0;a<r.length;a+=1)R0(r.charCodeAt(a),s,i);return e.join("")}function Fy(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Dy(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}Fy(n,e)}}function My(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if(!(r>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function By(r){const e=[],t={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<r.length;s+=1)R0(r.charCodeAt(s),t,n);return new Uint8Array(e)}function qy(r){const e=[];return Dy(r,t=>e.push(t)),new Uint8Array(e)}function Uy(r){const e=[],t={queue:0,queuedBits:0},n=s=>{e.push(s)};return r.forEach(s=>wf(s,t,n)),wf(null,t,n),e.join("")}function $y(r){return Math.round(Date.now()/1e3)+r}function zy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Pn=()=>typeof window<"u"&&typeof document<"u",hi={tested:!1,writable:!1},Oo=()=>{if(!Pn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hi.tested)return hi.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),hi.tested=!0,hi.writable=!0}catch{hi.tested=!0,hi.writable=!1}return hi.writable};function Hy(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return t.searchParams.forEach((n,s)=>{e[s]=n}),e}const O0=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Hs(async()=>{const{default:n}=await Promise.resolve().then(()=>Ha);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Vy=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",F0=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Ql=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Zl=async(r,e)=>{await r.removeItem(e)};class Bc{constructor(){this.promise=new Bc.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Bc.promiseConstructor=Promise;function Vu(r){const e=r.split(".");if(e.length!==3)throw new Ro("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Ly.test(e[n]))throw new Ro("JWT not in base64url format");return{header:JSON.parse(xf(e[0])),payload:JSON.parse(xf(e[1])),signature:By(e[2]),raw:{header:e[0],payload:e[1]}}}async function Wy(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Gy(r,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await r(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function Ky(r){return("0"+r.toString(16)).substr(-2)}function Jy(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let s="";for(let i=0;i<56;i++)s+=t.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Ky).join("")}async function Yy(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Xy(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await Yy(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sa(r,e,t=!1){const n=Jy();let s=n;t&&(s+="/PASSWORD_RECOVERY"),await F0(r,`${e}-code-verifier`,s);const i=await Xy(n);return[i,n===i?"plain":"s256"]}const Qy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zy(r){const e=r.headers.get(yd);if(!e||!e.match(Qy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function eb(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function tb(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ia(r){if(!rb.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var nb=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};const fi=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),sb=[502,503,504];async function _f(r){var e;if(!Vy(r))throw new bd(fi(r),0);if(sb.includes(r.status))throw new bd(fi(r),r.status);let t;try{t=await r.json()}catch(i){throw new I0(fi(i),i)}let n;const s=Zy(r);if(s&&s.getTime()>=T0["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new yf(fi(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Rs}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new yf(fi(t),r.status,t.weak_password.reasons);throw new Ey(fi(t),r.status||500,n)}const ib=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),t))};async function pt(r,e,t,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[yd]||(i[yd]=T0["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await ab(r,e,t+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function ab(r,e,t,n,s,i){const a=ib(e,n,s,i);let l;try{l=await r(t,Object.assign({},a))}catch(c){throw console.error(c),new bd(fi(c),0)}if(l.ok||await _f(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await _f(c)}}function ps(r){var e;let t=null;ub(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=$y(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function Nf(r){const e=ps(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Fs(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function ob(r){return{data:r,error:null}}function lb(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i}=r,a=nb(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function cb(r){return r}function ub(r){return r.access_token&&r.refresh_token&&r.expires_in}const Wu=["global","local","others"];var db=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};class hb{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=O0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Wu[0]){if(Wu.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wu.join(", ")}`);try{return await pt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await pt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Fs})}catch(n){if(lt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=db(e,["options"]),s=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await pt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:lb,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(lt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await pt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fs})}catch(t){if(lt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,s,i,a,l,c;try{const h={nextPage:null,lastPage:0,total:0},p=await pt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:cb});if(p.error)throw p.error;const g=await p.json(),y=(a=p.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(_.split(";")[1].split("=")[1]);h[`${N}Page`]=w}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(lt(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){ia(e);try{return await pt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fs})}catch(t){if(lt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ia(e);try{return await pt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Fs})}catch(n){if(lt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){ia(e);try{return await pt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Fs})}catch(n){if(lt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ia(e.userId);try{const{data:t,error:n}=await pt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:n}}catch(t){if(lt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ia(e.userId),ia(e.id);try{return{data:await pt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(lt(t))return{data:null,error:t};throw t}}}const fb={getItem:r=>Oo()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{Oo()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{Oo()&&globalThis.localStorage.removeItem(r)}};function Sf(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function pb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const aa={debug:!!(globalThis&&Oo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class D0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class mb extends D0{}async function gb(r,e,t){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),aa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await t()}finally{aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new mb(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(aa.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}pb();const vb={url:Ay,storageKey:Py,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ky,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jf(r,e,t){return await t()}class Bo{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bo.nextInstanceID,Bo.nextInstanceID+=1,this.instanceID>0&&Pn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},vb),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new hb({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=O0(s.fetch),this.lock=s.lock||jf,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Pn()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=gb:this.lock=jf,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Oo()?this.storage=fb:(this.memoryStorage={},this.storage=Sf(this.memoryStorage)):(this.memoryStorage={},this.storage=Sf(this.memoryStorage)),Pn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${E0}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=Hy(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Pn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ry(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return lt(t)?{error:t}:{error:new I0("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,s;try{const i=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ps}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(i){if(lt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,s;try{let i;if("email"in e){const{email:p,password:g,options:y}=e;let m=null,_=null;this.flowType==="pkce"&&([m,_]=await sa(this.storage,this.storageKey)),i=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:g,data:(t=y==null?void 0:y.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:m,code_challenge_method:_},xform:ps})}else if("phone"in e){const{phone:p,password:g,options:y}=e;i=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:ps})}else throw new Yl("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(i){if(lt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:a,options:l}=e;t=await pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Nf})}else if("phone"in e){const{phone:i,password:a,options:l}=e;t=await pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Nf})}else throw new Yl("You must provide either an email or phone number and a password");const{data:n,error:s}=t;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Jl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(t){if(lt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,s,i,a,l,c,h,p,g,y,m;let _,w;if("message"in e)_=e.message,w=e.signature;else{const{chain:N,wallet:x,statement:A,options:T}=e;let z;if(Pn())if(typeof x=="object")z=x;else{const te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))z=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=x}const G=new URL((t=T==null?void 0:T.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in z&&z.signIn){const te=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),A?{statement:A}:null));let V;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")V=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)V=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)_=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),w=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${G.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(s=(n=T==null?void 0:T.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=T==null?void 0:T.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((a=T==null?void 0:T.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((l=T==null?void 0:T.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((h=T==null?void 0:T.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((g=(p=T==null?void 0:T.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...T.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const te=await z.signMessage(new TextEncoder().encode(_),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=te}}try{const{data:N,error:x}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Uy(w)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ps});if(x)throw x;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Jl}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:x})}catch(N){if(lt(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const t=await Ql(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(t??"").split("/");try{const{data:i,error:a}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ps});if(await Zl(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Jl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(lt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:s,access_token:i,nonce:a}=e,l=await pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ps}),{data:c,error:h}=l;return h?{data:{user:null,session:null},error:h}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Jl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:h})}catch(t){if(lt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,s,i,a;try{if("email"in e){const{email:l,options:c}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await sa(this.storage,this.storageKey));const{error:g}=await pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:l,options:c}=e,{data:h,error:p}=await pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new Yl("You must provide either an email or phone number.")}catch(l){if(lt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var t,n;try{let s,i;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await pt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ps});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,h=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(s){if(lt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await sa(this.storage,this.storageKey)),await pt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:ob})}catch(i){if(lt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Rs;const{error:s}=await pt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(lt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await pt(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:l}=await pt(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Yl("You must provide either an email or phone number and a type")}catch(t){if(lt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Ql(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<zu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,h,p)=>(!a&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,h,p))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fs}):await this._useSession(async t=>{var n,s,i;const{data:a,error:l}=t;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rs}:await pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Fs})})}catch(t){if(lt(t))return Iy(t)&&(await this._removeSession(),await Zl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Rs;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await sa(this.storage,this.storageKey));const{data:h,error:p}=await pt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Fs});if(p)throw p;return a.user=h.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(lt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Rs;const t=Date.now()/1e3;let n=t,s=!0,i=null;const{payload:a}=Vu(e.access_token);if(a.exp&&(n=a.exp,s=n<=t),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(lt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:a,error:l}=t;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Rs;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(lt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Pn())throw new Xl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new vf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xl("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new vf("No code detected.");const{data:A,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:h}=e;if(!i||!l||!a||!h)throw new Xl("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(l);let y=p+g;c&&(y=parseInt(c));const m=y-p;m*1e3<=ha&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${g}s`);const _=y-g;p-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,y,p):p-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,y,p);const{data:w,error:N}=await this._getUser(i);if(N)throw N;const x={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:g,expires_at:y,refresh_token:a,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(lt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ql(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(Ty(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Zl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=zy(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,s;try{const{data:{session:i},error:a}=t;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await sa(this.storage,this.storageKey,!0));try{return await pt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(lt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(lt(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,h,p;const{data:g,error:y}=i;if(y)throw y;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await pt(this.fetch,"GET",m,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return Pn()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(lt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)throw a;return await pt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(lt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await Gy(async s=>(s>0&&await Wy(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await pt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ps})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Hu(i)&&Date.now()+a-n<ha})}catch(n){if(this._debug(t,"error",n),lt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Pn()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await Ql(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<zu;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${zu}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Hu(i)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Rs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bc;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Rs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),lt(i)){const a={session:null,error:i};return Hu(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await F0(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Zl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ha);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/ha);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ha}ms, refresh threshold is ${vd} ticks`),s<=vd&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof D0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const s=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await sa(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await pt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(lt(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:h}=await pt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(lt(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:l}=await pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(t){if(lt(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(lt(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Vu(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(t=s.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const p=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(a=>a.kid===e);if(n||(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Cy>Date.now()))return n;const{data:s,error:i}=await pt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ro("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===e),!n)throw new Ro("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:m,error:_}=await this.getSession();if(_||!m.session)return{data:null,error:_};n=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=Vu(n);if(eb(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const h=tb(s.alg),p=await this.fetchJwk(s.kid,t),g=await crypto.subtle.importKey("jwk",p,h,!0,["verify"]);if(!await crypto.subtle.verify(h,g,a,qy(`${l}.${c}`)))throw new Ro("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}}}Bo.nextInstanceID=0;const yb=Bo;class bb extends yb{constructor(e){super(e)}}var wb=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(p){try{h(n.next(p))}catch(g){a(g)}}function c(p){try{h(n.throw(p))}catch(g){a(g)}}function h(p){p.done?i(p.value):s(p.value).then(l,c)}h((n=n.apply(r,e||[])).next())})};class xb{constructor(e,t,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const l=Sy(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const h=`sb-${c.hostname.split(".")[0]}-auth-token`,p={db:gy,realtime:yy,auth:Object.assign(Object.assign({},vy),{storageKey:h}),global:my},g=jy(n??{},p);this.storageKey=(s=g.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=g.global.headers)!==null&&i!==void 0?i:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(y,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=g.auth)!==null&&a!==void 0?a:{},this.headers,g.global.fetch),this.fetch=_y(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new Mv(new URL("rest/v1",c).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new pv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new hy(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return wb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:l,debug:c},h,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bb({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),h),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,flowType:a,lock:l,debug:c,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Qv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _b=(r,e,t)=>new xb(r,e,t),Nb="https://pfyenibrmpnsugvrrbym.supabase.co",Sb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBmeWVuaWJybXBuc3VndnJyYnltIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3MzA5NDIsImV4cCI6MjA2NTMwNjk0Mn0.GMhZ-vegqGf69HEFnyXQ0v3r4PPnVpZx4bVkKsk27Dc",fa=_b(Nb,Sb),M0=O.createContext(void 0);function jb({children:r}){const[e,t]=O.useState(null),[n,s]=O.useState(null),[i,a]=O.useState(!0);O.useEffect(()=>{const{data:{subscription:g}}=fa.auth.onAuthStateChange((y,m)=>{var _;console.log("Auth state changed:",y,(_=m==null?void 0:m.user)==null?void 0:_.email),s(m),t((m==null?void 0:m.user)??null),a(!1)});return fa.auth.getSession().then(({data:{session:y}})=>{s(y),t((y==null?void 0:y.user)??null),a(!1)}),()=>g.unsubscribe()},[]);const p={user:e,session:n,loading:i,signUp:async(g,y,m,_,w)=>{const N=`${window.location.origin}/`,x=_||(w?"Empresa Temporal":"Sin definir"),{error:A}=await fa.auth.signUp({email:g,password:y,options:{emailRedirectTo:N,data:{name:m,company:x,isTemporaryCompany:w||!1}}});return{error:A}},signIn:async(g,y)=>{const{error:m}=await fa.auth.signInWithPassword({email:g,password:y});return{error:m}},signOut:async()=>{await fa.auth.signOut()}};return u.jsx(M0.Provider,{value:p,children:r})}function ah(){const r=O.useContext(M0);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}const Vt=O.forwardRef(({className:r,...e},t)=>u.jsx("div",{ref:t,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",r),...e}));Vt.displayName="Card";const xr=O.forwardRef(({className:r,...e},t)=>u.jsx("div",{ref:t,className:Ee("flex flex-col space-y-1.5 p-6",r),...e}));xr.displayName="CardHeader";const _r=O.forwardRef(({className:r,...e},t)=>u.jsx("h3",{ref:t,className:Ee("text-2xl font-semibold leading-none tracking-tight",r),...e}));_r.displayName="CardTitle";const wd=O.forwardRef(({className:r,...e},t)=>u.jsx("p",{ref:t,className:Ee("text-sm text-muted-foreground",r),...e}));wd.displayName="CardDescription";const Wt=O.forwardRef(({className:r,...e},t)=>u.jsx("div",{ref:t,className:Ee("p-6 pt-0",r),...e}));Wt.displayName="CardContent";const xd=O.forwardRef(({className:r,...e},t)=>u.jsx("div",{ref:t,className:Ee("flex items-center p-6 pt-0",r),...e}));xd.displayName="CardFooter";function oa({children:r}){const{user:e,loading:t}=ah();return t?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx(Vt,{className:"w-full max-w-md",children:u.jsxs(Wt,{className:"flex flex-col items-center justify-center p-8",children:[u.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mb-4 animate-pulse",children:u.jsx(On,{className:"w-8 h-8 text-primary-foreground"})}),u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Inventory Smart"}),u.jsx("p",{className:"text-muted-foreground text-center",children:"Cargando..."})]})})}):e?u.jsx(u.Fragment,{children:r}):u.jsx(Mg,{to:"/auth",replace:!0})}const Gu=768;function Ab(){const[r,e]=O.useState(void 0);return O.useEffect(()=>{const t=window.matchMedia(`(max-width: ${Gu-1}px)`),n=()=>{e(window.innerWidth<Gu)};return t.addEventListener("change",n),e(window.innerWidth<Gu),()=>t.removeEventListener("change",n)},[]),!!r}const Pb=ji("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),zt=O.forwardRef(({className:r,variant:e,size:t,asChild:n=!1,...s},i)=>{const a=n?Js:"button";return u.jsx(a,{className:Ee(Pb({variant:e,size:t,className:r})),ref:i,...s})});zt.displayName="Button";const xt=O.forwardRef(({className:r,type:e,...t},n)=>u.jsx("input",{type:e,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:n,...t}));xt.displayName="Input";var kb="Separator",Af="horizontal",Lb=["horizontal","vertical"],B0=O.forwardRef((r,e)=>{const{decorative:t,orientation:n=Af,...s}=r,i=Cb(n)?n:Af,l=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return u.jsx(Et.div,{"data-orientation":i,...l,...s,ref:e})});B0.displayName=kb;function Cb(r){return Lb.includes(r)}var q0=B0;const U0=O.forwardRef(({className:r,orientation:e="horizontal",decorative:t=!0,...n},s)=>u.jsx(q0,{ref:s,decorative:t,orientation:e,className:Ee("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r),...n}));U0.displayName=q0.displayName;const $0=lp,Eb=cp,z0=O.forwardRef(({className:r,...e},t)=>u.jsx(yc,{className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...e,ref:t}));z0.displayName=yc.displayName;const Tb=ji("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),oh=O.forwardRef(({side:r="right",className:e,children:t,...n},s)=>u.jsxs(Eb,{children:[u.jsx(z0,{}),u.jsxs(bc,{ref:s,className:Ee(Tb({side:r}),e),...n,children:[t,u.jsxs(op,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(Ac,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));oh.displayName=bc.displayName;const H0=({className:r,...e})=>u.jsx("div",{className:Ee("flex flex-col space-y-2 text-center sm:text-left",r),...e});H0.displayName="SheetHeader";const V0=O.forwardRef(({className:r,...e},t)=>u.jsx(wc,{ref:t,className:Ee("text-lg font-semibold text-foreground",r),...e}));V0.displayName=wc.displayName;const W0=O.forwardRef(({className:r,...e},t)=>u.jsx(xc,{ref:t,className:Ee("text-sm text-muted-foreground",r),...e}));W0.displayName=xc.displayName;function Pf({className:r,...e}){return u.jsx("div",{className:Ee("animate-pulse rounded-md bg-muted",r),...e})}const Ib="sidebar:state",Rb=60*60*24*7,Ob="16rem",Fb="18rem",Db="3rem",Mb="b",G0=O.createContext(null);function Qo(){const r=O.useContext(G0);if(!r)throw new Error("useSidebar must be used within a SidebarProvider.");return r}const K0=O.forwardRef(({defaultOpen:r=!0,open:e,onOpenChange:t,className:n,style:s,children:i,...a},l)=>{const c=Ab(),[h,p]=O.useState(!1),[g,y]=O.useState(r),m=e??g,_=O.useCallback(A=>{const T=typeof A=="function"?A(m):A;t?t(T):y(T),document.cookie=`${Ib}=${T}; path=/; max-age=${Rb}`},[t,m]),w=O.useCallback(()=>c?p(A=>!A):_(A=>!A),[c,_,p]);O.useEffect(()=>{const A=T=>{T.key===Mb&&(T.metaKey||T.ctrlKey)&&(T.preventDefault(),w())};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[w]);const N=m?"expanded":"collapsed",x=O.useMemo(()=>({state:N,open:m,setOpen:_,isMobile:c,openMobile:h,setOpenMobile:p,toggleSidebar:w}),[N,m,_,c,h,p,w]);return u.jsx(G0.Provider,{value:x,children:u.jsx(i0,{delayDuration:0,children:u.jsx("div",{style:{"--sidebar-width":Ob,"--sidebar-width-icon":Db,...s},className:Ee("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...a,children:i})})})});K0.displayName="SidebarProvider";const J0=O.forwardRef(({side:r="left",variant:e="sidebar",collapsible:t="offcanvas",className:n,children:s,...i},a)=>{const{isMobile:l,state:c,openMobile:h,setOpenMobile:p}=Qo();return t==="none"?u.jsx("div",{className:Ee("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:a,...i,children:s}):l?u.jsx($0,{open:h,onOpenChange:p,...i,children:u.jsx(oh,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Fb},side:r,children:u.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):u.jsxs("div",{ref:a,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?t:"","data-variant":e,"data-side":r,children:[u.jsx("div",{className:Ee("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),u.jsx("div",{className:Ee("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",r==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:u.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});J0.displayName="Sidebar";const lh=O.forwardRef(({className:r,onClick:e,...t},n)=>{const{toggleSidebar:s}=Qo();return u.jsxs(zt,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Ee("h-7 w-7",r),onClick:i=>{e==null||e(i),s()},...t,children:[u.jsx(T2,{}),u.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});lh.displayName="SidebarTrigger";const Bb=O.forwardRef(({className:r,...e},t)=>{const{toggleSidebar:n}=Qo();return u.jsx("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:Ee("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",r),...e})});Bb.displayName="SidebarRail";const qb=O.forwardRef(({className:r,...e},t)=>u.jsx("main",{ref:t,className:Ee("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",r),...e}));qb.displayName="SidebarInset";const Ub=O.forwardRef(({className:r,...e},t)=>u.jsx(xt,{ref:t,"data-sidebar":"input",className:Ee("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",r),...e}));Ub.displayName="SidebarInput";const Y0=O.forwardRef(({className:r,...e},t)=>u.jsx("div",{ref:t,"data-sidebar":"header",className:Ee("flex flex-col gap-2 p-2",r),...e}));Y0.displayName="SidebarHeader";const X0=O.forwardRef(({className:r,...e},t)=>u.jsx("div",{ref:t,"data-sidebar":"footer",className:Ee("flex flex-col gap-2 p-2",r),...e}));X0.displayName="SidebarFooter";const $b=O.forwardRef(({className:r,...e},t)=>u.jsx(U0,{ref:t,"data-sidebar":"separator",className:Ee("mx-2 w-auto bg-sidebar-border",r),...e}));$b.displayName="SidebarSeparator";const Q0=O.forwardRef(({className:r,...e},t)=>u.jsx("div",{ref:t,"data-sidebar":"content",className:Ee("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",r),...e}));Q0.displayName="SidebarContent";const Z0=O.forwardRef(({className:r,...e},t)=>u.jsx("div",{ref:t,"data-sidebar":"group",className:Ee("relative flex w-full min-w-0 flex-col p-2",r),...e}));Z0.displayName="SidebarGroup";const zb=O.forwardRef(({className:r,asChild:e=!1,...t},n)=>{const s=e?Js:"div";return u.jsx(s,{ref:n,"data-sidebar":"group-label",className:Ee("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",r),...t})});zb.displayName="SidebarGroupLabel";const Hb=O.forwardRef(({className:r,asChild:e=!1,...t},n)=>{const s=e?Js:"button";return u.jsx(s,{ref:n,"data-sidebar":"group-action",className:Ee("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",r),...t})});Hb.displayName="SidebarGroupAction";const e1=O.forwardRef(({className:r,...e},t)=>u.jsx("div",{ref:t,"data-sidebar":"group-content",className:Ee("w-full text-sm",r),...e}));e1.displayName="SidebarGroupContent";const t1=O.forwardRef(({className:r,...e},t)=>u.jsx("ul",{ref:t,"data-sidebar":"menu",className:Ee("flex w-full min-w-0 flex-col gap-1",r),...e}));t1.displayName="SidebarMenu";const r1=O.forwardRef(({className:r,...e},t)=>u.jsx("li",{ref:t,"data-sidebar":"menu-item",className:Ee("group/menu-item relative",r),...e}));r1.displayName="SidebarMenuItem";const Vb=ji("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),n1=O.forwardRef(({asChild:r=!1,isActive:e=!1,variant:t="default",size:n="default",tooltip:s,className:i,...a},l)=>{const c=r?Js:"button",{isMobile:h,state:p}=Qo(),g=u.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":e,className:Ee(Vb({variant:t,size:n}),i),...a});return s?(typeof s=="string"&&(s={children:s}),u.jsxs(O5,{children:[u.jsx(F5,{asChild:!0,children:g}),u.jsx(a0,{side:"right",align:"center",hidden:p!=="collapsed"||h,...s})]})):g});n1.displayName="SidebarMenuButton";const Wb=O.forwardRef(({className:r,asChild:e=!1,showOnHover:t=!1,...n},s)=>{const i=e?Js:"button";return u.jsx(i,{ref:s,"data-sidebar":"menu-action",className:Ee("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",r),...n})});Wb.displayName="SidebarMenuAction";const Gb=O.forwardRef(({className:r,...e},t)=>u.jsx("div",{ref:t,"data-sidebar":"menu-badge",className:Ee("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r),...e}));Gb.displayName="SidebarMenuBadge";const Kb=O.forwardRef(({className:r,showIcon:e=!1,...t},n)=>{const s=O.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return u.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:Ee("rounded-md h-8 flex gap-2 px-2 items-center",r),...t,children:[e&&u.jsx(Pf,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),u.jsx(Pf,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});Kb.displayName="SidebarMenuSkeleton";const Jb=O.forwardRef(({className:r,...e},t)=>u.jsx("ul",{ref:t,"data-sidebar":"menu-sub",className:Ee("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",r),...e}));Jb.displayName="SidebarMenuSub";const Yb=O.forwardRef(({...r},e)=>u.jsx("li",{ref:e,...r}));Yb.displayName="SidebarMenuSubItem";const Xb=O.forwardRef(({asChild:r=!1,size:e="md",isActive:t,className:n,...s},i)=>{const a=r?Js:"a";return u.jsx(a,{ref:i,"data-sidebar":"menu-sub-button","data-size":e,"data-active":t,className:Ee("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});Xb.displayName="SidebarMenuSubButton";const Qb=[{title:"Dashboard",url:"/",icon:L2},{title:"Inventario",url:"/inventory",icon:On},{title:"Ventas",url:"/sales",icon:Eo},{title:"Reportes",url:"/reports",icon:qp},{title:"Calendario",url:"/calendar",icon:uc}];function Zb(){const{state:r}=Qo(),e=yp(),{user:t,signOut:n}=ah(),[s,i]=O.useState(null),a=e.pathname,l=r==="collapsed";O.useEffect(()=>{t&&c()},[t]);const c=async()=>{var g;try{const{data:y,error:m}=await fa.from("profiles").select("name, email, company").eq("id",t==null?void 0:t.id).single();m?(console.error("Error fetching profile:",m),i({name:((g=t==null?void 0:t.email)==null?void 0:g.split("@")[0])||"Usuario",email:(t==null?void 0:t.email)||"",company:"Sin empresa"})):i(y)}catch(y){console.error("Error:",y)}},h=g=>a===g,p=async()=>{try{await n(),$t({title:"Sesin cerrada",description:"Has cerrado sesin exitosamente"})}catch{$t({title:"Error",description:"Error al cerrar sesin",variant:"destructive"})}};return u.jsxs(J0,{className:`${l?"w-16":"w-64"} transition-all duration-300 border-r border-border bg-sidebar`,collapsible:"offcanvas",children:[u.jsxs(Y0,{className:"p-4 border-b border-border",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:u.jsx(On,{className:"w-5 h-5 text-primary-foreground"})}),!l&&u.jsxs("div",{children:[u.jsx("h2",{className:"font-semibold text-sidebar-foreground",children:"Inventory"}),u.jsx("p",{className:"text-sm text-sidebar-foreground/70",children:"Smart"})]})]}),l&&u.jsx(lh,{className:"self-end",children:u.jsx(zp,{className:"w-4 h-4"})})]}),u.jsx(Q0,{className:"px-2 py-4",children:u.jsx(Z0,{children:u.jsx(e1,{children:u.jsx(t1,{children:Qb.map(g=>u.jsx(r1,{children:u.jsx(n1,{asChild:!0,children:u.jsxs(Wh,{to:g.url,end:!0,className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${h(g.url)?"bg-primary text-primary-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"}`,children:[u.jsx(g.icon,{className:"w-5 h-5"}),!l&&u.jsx("span",{children:g.title})]})})},g.title))})})})}),u.jsx(X0,{className:"p-4 border-t border-border",children:s&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Wh,{to:"/profile",className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${h("/profile")?"bg-primary text-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent"}`,children:[u.jsx(Hp,{className:"w-5 h-5"}),!l&&u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium truncate",children:s.name}),u.jsx("p",{className:"text-sm text-sidebar-foreground/70 truncate",children:s.company||"Sin empresa"})]})]}),u.jsxs(zt,{variant:"ghost",size:"sm",onClick:p,className:"w-full justify-start text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",children:[u.jsx(C2,{className:"w-4 h-4"}),!l&&u.jsx("span",{className:"ml-2",children:"Cerrar Sesin"})]})]})})]})}const ew=ji("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function In({className:r,variant:e,...t}){return u.jsx("div",{className:Ee(ew({variant:e}),r),...t})}var ch="Popover",[s1,Z4]=$a(ch,[za]),Zo=za(),[tw,Xs]=s1(ch),i1=r=>{const{__scopePopover:e,children:t,open:n,defaultOpen:s,onOpenChange:i,modal:a=!1}=r,l=Zo(e),c=O.useRef(null),[h,p]=O.useState(!1),[g=!1,y]=Ea({prop:n,defaultProp:s,onChange:i});return u.jsx(Wd,{...l,children:u.jsx(tw,{scope:e,contentId:Ko(),triggerRef:c,open:g,onOpenChange:y,onOpenToggle:O.useCallback(()=>y(m=>!m),[y]),hasCustomAnchor:h,onCustomAnchorAdd:O.useCallback(()=>p(!0),[]),onCustomAnchorRemove:O.useCallback(()=>p(!1),[]),modal:a,children:t})})};i1.displayName=ch;var a1="PopoverAnchor",rw=O.forwardRef((r,e)=>{const{__scopePopover:t,...n}=r,s=Xs(a1,t),i=Zo(t),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return O.useEffect(()=>(a(),()=>l()),[a,l]),u.jsx(vc,{...i,...n,ref:e})});rw.displayName=a1;var o1="PopoverTrigger",l1=O.forwardRef((r,e)=>{const{__scopePopover:t,...n}=r,s=Xs(o1,t),i=Zo(t),a=Nr(e,s.triggerRef),l=u.jsx(Et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":f1(s.open),...n,ref:a,onClick:ft(r.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:u.jsx(vc,{asChild:!0,...i,children:l})});l1.displayName=o1;var uh="PopoverPortal",[nw,sw]=s1(uh,{forceMount:void 0}),c1=r=>{const{__scopePopover:e,forceMount:t,children:n,container:s}=r,i=Xs(uh,e);return u.jsx(nw,{scope:e,forceMount:t,children:u.jsx(Go,{present:t||i.open,children:u.jsx($d,{asChild:!0,container:s,children:n})})})};c1.displayName=uh;var Fa="PopoverContent",u1=O.forwardRef((r,e)=>{const t=sw(Fa,r.__scopePopover),{forceMount:n=t.forceMount,...s}=r,i=Xs(Fa,r.__scopePopover);return u.jsx(Go,{present:n||i.open,children:i.modal?u.jsx(iw,{...s,ref:e}):u.jsx(aw,{...s,ref:e})})});u1.displayName=Fa;var iw=O.forwardRef((r,e)=>{const t=Xs(Fa,r.__scopePopover),n=O.useRef(null),s=Nr(e,n),i=O.useRef(!1);return O.useEffect(()=>{const a=n.current;if(a)return up(a)},[]),u.jsx(dp,{as:Js,allowPinchZoom:!0,children:u.jsx(d1,{...r,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(r.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ft(r.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,h=l.button===2||c;i.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:ft(r.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),aw=O.forwardRef((r,e)=>{const t=Xs(Fa,r.__scopePopover),n=O.useRef(!1),s=O.useRef(!1);return u.jsx(d1,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=r.onCloseAutoFocus)==null||a.call(r,i),i.defaultPrevented||(n.current||(l=t.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,h;(c=r.onInteractOutside)==null||c.call(r,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((h=t.triggerRef.current)==null?void 0:h.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),d1=O.forwardRef((r,e)=>{const{__scopePopover:t,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:h,onInteractOutside:p,...g}=r,y=Xs(Fa,t),m=Zo(t);return hp(),u.jsx(fp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(zd,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:p,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:h,onDismiss:()=>y.onOpenChange(!1),children:u.jsx(Hd,{"data-state":f1(y.open),role:"dialog",id:y.contentId,...m,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),h1="PopoverClose",ow=O.forwardRef((r,e)=>{const{__scopePopover:t,...n}=r,s=Xs(h1,t);return u.jsx(Et.button,{type:"button",...n,ref:e,onClick:ft(r.onClick,()=>s.onOpenChange(!1))})});ow.displayName=h1;var lw="PopoverArrow",cw=O.forwardRef((r,e)=>{const{__scopePopover:t,...n}=r,s=Zo(t);return u.jsx(Vd,{...s,...n,ref:e})});cw.displayName=lw;function f1(r){return r?"open":"closed"}var uw=i1,dw=l1,hw=c1,p1=u1;const fw=uw,pw=dw,m1=O.forwardRef(({className:r,align:e="center",sideOffset:t=4,...n},s)=>u.jsx(hw,{children:u.jsx(p1,{ref:s,align:e,sideOffset:t,className:Ee("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...n})}));m1.displayName=p1.displayName;const kf=r=>{let e;const t=new Set,n=(h,p)=>{const g=typeof h=="function"?h(e):h;if(!Object.is(g,e)){const y=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(m=>m(e,y))}},s=()=>e,l={setState:n,getState:s,getInitialState:()=>c,subscribe:h=>(t.add(h),()=>t.delete(h))},c=e=r(n,s,l);return l},mw=r=>r?kf(r):kf,gw=r=>r;function vw(r,e=gw){const t=Oe.useSyncExternalStore(r.subscribe,()=>e(r.getState()),()=>e(r.getInitialState()));return Oe.useDebugValue(t),t}const Lf=r=>{const e=mw(r),t=n=>vw(e,n);return Object.assign(t,e),t},yw=r=>r?Lf(r):Lf,wr=[];for(let r=0;r<256;++r)wr.push((r+256).toString(16).slice(1));function bw(r,e=0){return(wr[r[e+0]]+wr[r[e+1]]+wr[r[e+2]]+wr[r[e+3]]+"-"+wr[r[e+4]]+wr[r[e+5]]+"-"+wr[r[e+6]]+wr[r[e+7]]+"-"+wr[r[e+8]]+wr[r[e+9]]+"-"+wr[r[e+10]]+wr[r[e+11]]+wr[r[e+12]]+wr[r[e+13]]+wr[r[e+14]]+wr[r[e+15]]).toLowerCase()}let Ku;const ww=new Uint8Array(16);function xw(){if(!Ku){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ku=crypto.getRandomValues.bind(crypto)}return Ku(ww)}const _w=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Cf={randomUUID:_w};function jo(r,e,t){var s;if(Cf.randomUUID&&!e&&!r)return Cf.randomUUID();r=r||{};const n=r.random??((s=r.rng)==null?void 0:s.call(r))??xw();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,bw(n)}const la=(r,e)=>{const t=e.reduce((m,_)=>m+_.totalPrice,0),n=e.reduce((m,_)=>{const w=r.find(N=>N.id===_.productId);return m+(w?w.purchasePrice*_.quantity:0)},0),s=t-n,i=t>0?s/t*100:0,a=r.filter(m=>m.stock<=m.minStock),c=r.map(m=>{const _=e.filter(x=>x.productId===m.id),w=_.reduce((x,A)=>x+A.quantity,0),N=_.reduce((x,A)=>x+A.totalPrice,0);return{productId:m.id,productName:m.name,totalQuantity:w,totalRevenue:N}}).sort((m,_)=>_.totalQuantity-m.totalQuantity).slice(0,5),h=e.reduce((m,_)=>{var N;const w=((N=r.find(x=>x.id===_.productId))==null?void 0:N.category)||"Sin categora";return m[w]=(m[w]||0)+_.totalPrice,m},{}),p=new Date,g=new Date(p.getFullYear(),p.getMonth()-1,p.getDate()),y=e.filter(m=>m.date>=g&&m.date<=p).reduce((m,_)=>m+_.totalPrice,0);return{totalRevenue:t,totalCost:n,totalProfit:s,profitMargin:i,lowStockProducts:a,topSellingProducts:c,salesByCategory:h,salesLastMonth:y}},es=yw((r,e)=>({products:[{id:"1",name:"Camiseta Algodn",category:"Ropa",stock:50,minStock:10,purchasePrice:7500,salePrice:15e3,lastUpdated:new Date,description:"Camiseta 100% algodn, suave y cmoda.",supplier:"Textiles S.A."},{id:"2",name:"Pantaln Jean",category:"Ropa",stock:30,minStock:5,purchasePrice:25e3,salePrice:5e4,lastUpdated:new Date,description:"Pantaln jean de corte moderno y duradero.",supplier:"Textiles S.A."},{id:"3",name:"Zapatos Deportivos",category:"Calzado",stock:20,minStock:3,purchasePrice:3e4,salePrice:6e4,lastUpdated:new Date,description:"Zapatos ideales para el deporte y el uso diario.",supplier:"Calzados Ltda."},{id:"4",name:"Gorra de Bisbol",category:"Accesorios",stock:40,minStock:8,purchasePrice:5e3,salePrice:1e4,lastUpdated:new Date,description:"Gorra de bisbol ajustable, varios colores.",supplier:"Accesorios S.A."},{id:"5",name:"Bolso Deportivo",category:"Accesorios",stock:15,minStock:2,purchasePrice:15e3,salePrice:3e4,lastUpdated:new Date,description:"Bolso deportivo con mltiples compartimentos.",supplier:"Accesorios S.A."}],categories:["Ropa","Calzado","Accesorios"],sales:[{id:"1",productId:"1",productName:"Camiseta Algodn",quantity:2,unitPrice:15e3,totalPrice:3e4,date:new Date("2024-01-20"),customer:"Cliente A"},{id:"2",productId:"2",productName:"Pantaln Jean",quantity:1,unitPrice:5e4,totalPrice:5e4,date:new Date("2024-01-20"),customer:"Cliente B"},{id:"3",productId:"3",productName:"Zapatos Deportivos",quantity:1,unitPrice:6e4,totalPrice:6e4,date:new Date("2024-02-05"),customer:"Cliente C"},{id:"4",productId:"4",productName:"Gorra de Bisbol",quantity:3,unitPrice:1e4,totalPrice:3e4,date:new Date("2024-02-10"),customer:"Cliente D"},{id:"5",productId:"5",productName:"Bolso Deportivo",quantity:1,unitPrice:3e4,totalPrice:3e4,date:new Date("2024-03-01"),customer:"Cliente E"},{id:"6",productId:"1",productName:"Camiseta Algodn",quantity:1,unitPrice:15e3,totalPrice:15e3,date:new Date("2024-03-15"),customer:"Cliente F"},{id:"7",productId:"2",productName:"Pantaln Jean",quantity:2,unitPrice:5e4,totalPrice:1e5,date:new Date("2024-03-20"),customer:"Cliente G"},{id:"8",productId:"3",productName:"Zapatos Deportivos",quantity:1,unitPrice:6e4,totalPrice:6e4,date:new Date("2024-04-01"),customer:"Cliente H"},{id:"9",productId:"4",productName:"Gorra de Bisbol",quantity:2,unitPrice:1e4,totalPrice:2e4,date:new Date("2024-04-10"),customer:"Cliente I"},{id:"10",productId:"5",productName:"Bolso Deportivo",quantity:1,unitPrice:3e4,totalPrice:3e4,date:new Date("2024-04-15"),customer:"Cliente J"}],calendarEvents:[],events:[],user:{id:"1",name:"Usuario",email:"usuario@example.com",company:"Mi Empresa",role:"Administrador",avatar:""},kpis:[{id:"1",title:"Ventas Totales",value:0,trend:"up",percentage:12,icon:"dollar-sign"},{id:"2",title:"Productos en Stock",value:0,trend:"stable",icon:"package"},{id:"3",title:"Alertas de Stock Bajo",value:0,trend:"down",percentage:4,icon:"alert-triangle"},{id:"4",title:"Nuevos Productos",value:0,trend:"up",percentage:20,icon:"box"}],computed:{totalRevenue:0,totalCost:0,totalProfit:0,profitMargin:0,lowStockProducts:[],topSellingProducts:[],salesByCategory:{},salesLastMonth:0},addProduct:t=>r(n=>{const s={products:[...n.products,{id:jo(),...t,lastUpdated:new Date}]},i=la(s.products,n.sales);return{...s,computed:i}}),updateProduct:(t,n)=>r(s=>{const i={products:s.products.map(l=>l.id===t?{...l,...n,lastUpdated:new Date}:l)},a=la(i.products,s.sales);return{...i,computed:a}}),deleteProduct:t=>r(n=>{const s={products:n.products.filter(a=>a.id!==t)},i=la(s.products,n.sales);return{...s,computed:i}}),addSale:t=>r(n=>{const s=n.products.map(l=>l.id===t.productId?{...l,stock:l.stock-t.quantity}:l),i={sales:[...n.sales,{id:jo(),...t}],products:s},a=la(i.products,i.sales);return{...i,computed:a}}),deleteSale:t=>r(n=>{const s={sales:n.sales.filter(a=>a.id!==t)},i=la(n.products,s.sales);return{...s,computed:i}}),addCategory:t=>r(n=>({categories:[...n.categories,t]})),removeCategory:t=>r(n=>({categories:n.categories.filter(s=>s!==t)})),searchProducts:t=>{const n=e().products;return t?n.filter(s=>s.name.toLowerCase().includes(t.toLowerCase())||s.category.toLowerCase().includes(t.toLowerCase())||s.description&&s.description.toLowerCase().includes(t.toLowerCase())):n},addEvent:t=>r(n=>({events:[...n.events,{id:jo(),...t}],calendarEvents:[...n.calendarEvents,{id:jo(),...t}]})),getSalesByDate:t=>e().sales.filter(s=>s.date.toDateString()===t.toDateString()),getProductPerformanceData:t=>{const{sales:n,products:s}=e(),i=s.find(c=>c.id===t);if(!i)return[];const l=n.filter(c=>c.productId===t).reduce((c,h)=>{const p=h.date.toISOString().split("T")[0];return c[p]||(c[p]={date:p,sales:0,revenue:0,profit:0}),c[p].sales+=h.quantity,c[p].revenue+=h.totalPrice,c[p].profit+=h.totalPrice-i.purchasePrice*h.quantity,c},{});return Object.values(l).sort((c,h)=>new Date(c.date).getTime()-new Date(h.date).getTime())},getAllProductsForChart:()=>{const{products:t}=e();return t.map(n=>({id:n.id,name:n.name}))},addCalendarEvent:t=>r(n=>({calendarEvents:[...n.calendarEvents,{id:jo(),...t}]})),updateCalendarEvent:(t,n)=>r(s=>({calendarEvents:s.calendarEvents.map(i=>i.id===t?{...i,...n}:i)})),deleteCalendarEvent:t=>r(n=>({calendarEvents:n.calendarEvents.filter(s=>s.id!==t)})),setUser:t=>r({user:t}),updateComputedValues:()=>r(t=>({computed:la(t.products,t.sales)}))})),Nw=es.getState();Nw.updateComputedValues();function Sw(){const{computed:r}=es(),e=r.lowStockProducts,t=Gd(),[n,s]=O.useState(!1);if(e.length===0)return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(To,{className:"w-5 h-5 text-success"}),u.jsx("span",{className:"text-sm text-success hidden sm:inline",children:"Stock OK"})]});const i=e.length>5?"text-destructive":"text-warning",a=e.length>5?"destructive":"secondary";return u.jsxs(fw,{open:n,onOpenChange:s,children:[u.jsx(pw,{asChild:!0,children:u.jsxs(zt,{variant:"ghost",size:"sm",className:"flex items-center gap-2 hover:bg-muted/50",children:[u.jsx(To,{className:`w-5 h-5 ${i}`}),u.jsx(In,{variant:a,className:"text-xs",children:e.length}),u.jsx("span",{className:"text-sm hidden sm:inline",children:"Stock Bajo"})]})}),u.jsx(m1,{className:"w-80",align:"end",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(To,{className:`w-5 h-5 ${i}`}),u.jsx("h3",{className:"font-semibold",children:"Alerta de Stock Bajo"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length," producto(s) necesitan reabastecimiento:"]}),u.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[e.slice(0,5).map(l=>u.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-md border",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium text-sm truncate",children:l.name}),u.jsx("p",{className:"text-xs text-muted-foreground",children:l.category})]}),u.jsxs("div",{className:"text-right ml-2",children:[u.jsx(In,{variant:"destructive",className:"text-xs",children:l.stock}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Mn: ",l.minStock]})]})]},l.id)),e.length>5&&u.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Y ",e.length-5," ms..."]})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(zt,{size:"sm",onClick:()=>{t("/inventory"),s(!1)},className:"flex-1",children:[u.jsx(On,{className:"w-4 h-4 mr-2"}),"Ver Inventario"]})})]})})]})}function ca({children:r}){return u.jsxs(K0,{children:[u.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[u.jsx(Zb,{}),u.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[u.jsxs("header",{className:"h-16 border-b border-border bg-card px-6 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(lh,{className:"lg:hidden",children:u.jsx(zp,{className:"w-5 h-5"})}),u.jsx("div",{className:"flex items-center gap-3"})]}),u.jsx("div",{className:"flex items-center gap-4",children:u.jsx(Sw,{})})]}),u.jsx("main",{className:"flex-1 overflow-auto",children:r})]})]}),u.jsx(Yp,{})]})}const jw={package:On,box:x2,"alert-triangle":To,"dollar-sign":Xd},Aw={up:Ia,down:M2,stable:E2},Pw={up:"text-success",down:"text-destructive",stable:"text-muted-foreground"};function kw({kpi:r}){const e=jw[r.icon]||On,t=Aw[r.trend];return u.jsx(Vt,{className:"hover-scale animate-fade-in",children:u.jsx(Wt,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:r.title}),u.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.value}),r.percentage&&u.jsxs("div",{className:`flex items-center gap-1 text-sm ${Pw[r.trend]}`,children:[u.jsx(t,{className:"w-3 h-3"}),u.jsxs("span",{children:[r.percentage,"% vs ltimo mes"]})]})]}),u.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:u.jsx(e,{className:"w-6 h-6 text-primary"})})]})})})}function Lw(){const r=Gd(),e=[{title:"Control de Inventario",description:"Gestiona productos y stock",icon:On,onClick:()=>r("/inventory"),color:"bg-blue-500 hover:bg-blue-600"},{title:"Ventas",description:"Registra nueva venta",icon:Eo,onClick:()=>r("/sales"),color:"bg-green-500 hover:bg-green-600"},{title:"Dashboard",description:"Prximamente",icon:qp,onClick:()=>r("/"),color:"bg-purple-500 hover:bg-purple-600"},{title:"Calendario",description:"Programar eventos",icon:uc,onClick:()=>r("/calendar"),color:"bg-orange-500 hover:bg-orange-600"},{title:"Generador de Reporte",description:"Crear informes detallados",icon:k2,onClick:()=>r("/reports"),color:"bg-teal-500 hover:bg-teal-600"}];return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6",children:e.map((t,n)=>u.jsx(Vt,{className:"hover-scale animate-fade-in cursor-pointer group",style:{animationDelay:`${n*100}ms`},onClick:t.onClick,children:u.jsxs(Wt,{className:"p-6 text-center",children:[u.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full ${t.color} flex items-center justify-center transition-transform group-hover:scale-110`,children:u.jsx(t.icon,{className:"w-8 h-8 text-white"})}),u.jsx("h3",{className:"font-semibold text-foreground mb-2",children:t.title}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]})},t.title))})}function Cw({earnings:r}){const e=[{title:"Ingresos Totales",value:`$${r.totalRevenue.toLocaleString("es-CO")}`,icon:Xd,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Costos Totales",value:`$${r.totalCost.toLocaleString("es-CO")}`,icon:N2,color:"text-red-600",bgColor:"bg-red-100"},{title:"Ganancia Total",value:`$${r.totalProfit.toLocaleString("es-CO")}`,icon:Ia,color:"text-green-600",bgColor:"bg-green-100"},{title:"Margen de Ganancia",value:`${r.profitMargin.toFixed(1)}%`,icon:I2,color:"text-purple-600",bgColor:"bg-purple-100"}];return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((t,n)=>u.jsxs(Vt,{className:"hover-scale animate-fade-in",style:{animationDelay:`${n*100}ms`},children:[u.jsxs(xr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(_r,{className:"text-sm font-medium text-muted-foreground",children:t.title}),u.jsx("div",{className:`w-8 h-8 ${t.bgColor} rounded-lg flex items-center justify-center`,children:u.jsx(t.icon,{className:`w-4 h-4 ${t.color}`})})]}),u.jsx(Wt,{children:u.jsx("div",{className:`text-2xl font-bold ${t.color}`,children:t.value})})]},t.title))})}function Ef(r,[e,t]){return Math.min(t,Math.max(e,r))}function g1(r){const e=O.useRef({value:r,previous:r});return O.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var Ew=[" ","Enter","ArrowUp","ArrowDown"],Tw=[" ","Enter"],el="Select",[qc,Uc,Iw]=ap(el),[Wa,e3]=$a(el,[Iw,za]),$c=za(),[Rw,Qs]=Wa(el),[Ow,Fw]=Wa(el),v1=r=>{const{__scopeSelect:e,children:t,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:h,name:p,autoComplete:g,disabled:y,required:m,form:_}=r,w=$c(e),[N,x]=O.useState(null),[A,T]=O.useState(null),[z,G]=O.useState(!1),te=Eg(h),[V=!1,E]=Ea({prop:n,defaultProp:s,onChange:i}),[ne,re]=Ea({prop:a,defaultProp:l,onChange:c}),I=O.useRef(null),F=N?_||!!N.closest("form"):!0,[H,B]=O.useState(new Set),oe=Array.from(H).map(ie=>ie.props.value).join(";");return u.jsx(Wd,{...w,children:u.jsxs(Rw,{required:m,scope:e,trigger:N,onTriggerChange:x,valueNode:A,onValueNodeChange:T,valueNodeHasChildren:z,onValueNodeHasChildrenChange:G,contentId:Ko(),value:ne,onValueChange:re,open:V,onOpenChange:E,dir:te,triggerPointerDownPosRef:I,disabled:y,children:[u.jsx(qc.Provider,{scope:e,children:u.jsx(Ow,{scope:r.__scopeSelect,onNativeOptionAdd:O.useCallback(ie=>{B(fe=>new Set(fe).add(ie))},[]),onNativeOptionRemove:O.useCallback(ie=>{B(fe=>{const Y=new Set(fe);return Y.delete(ie),Y})},[]),children:t})}),F?u.jsxs($1,{"aria-hidden":!0,required:m,tabIndex:-1,name:p,autoComplete:g,value:ne,onChange:ie=>re(ie.target.value),disabled:y,form:_,children:[ne===void 0?u.jsx("option",{value:""}):null,Array.from(H)]},oe):null]})})};v1.displayName=el;var y1="SelectTrigger",b1=O.forwardRef((r,e)=>{const{__scopeSelect:t,disabled:n=!1,...s}=r,i=$c(t),a=Qs(y1,t),l=a.disabled||n,c=Nr(e,a.onTriggerChange),h=Uc(t),p=O.useRef("touch"),[g,y,m]=z1(w=>{const N=h().filter(T=>!T.disabled),x=N.find(T=>T.value===a.value),A=H1(N,w,x);A!==void 0&&a.onValueChange(A.value)}),_=w=>{l||(a.onOpenChange(!0),m()),w&&(a.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return u.jsx(vc,{asChild:!0,...i,children:u.jsx(Et.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":U1(a.value)?"":void 0,...s,ref:c,onClick:ft(s.onClick,w=>{w.currentTarget.focus(),p.current!=="mouse"&&_(w)}),onPointerDown:ft(s.onPointerDown,w=>{p.current=w.pointerType;const N=w.target;N.hasPointerCapture(w.pointerId)&&N.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(_(w),w.preventDefault())}),onKeyDown:ft(s.onKeyDown,w=>{const N=g.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&y(w.key),!(N&&w.key===" ")&&Ew.includes(w.key)&&(_(),w.preventDefault())})})})});b1.displayName=y1;var w1="SelectValue",x1=O.forwardRef((r,e)=>{const{__scopeSelect:t,className:n,style:s,children:i,placeholder:a="",...l}=r,c=Qs(w1,t),{onValueNodeHasChildrenChange:h}=c,p=i!==void 0,g=Nr(e,c.onValueNodeChange);return Rn(()=>{h(p)},[h,p]),u.jsx(Et.span,{...l,ref:g,style:{pointerEvents:"none"},children:U1(c.value)?u.jsx(u.Fragment,{children:a}):i})});x1.displayName=w1;var Dw="SelectIcon",_1=O.forwardRef((r,e)=>{const{__scopeSelect:t,children:n,...s}=r;return u.jsx(Et.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});_1.displayName=Dw;var Mw="SelectPortal",N1=r=>u.jsx($d,{asChild:!0,...r});N1.displayName=Mw;var _i="SelectContent",S1=O.forwardRef((r,e)=>{const t=Qs(_i,r.__scopeSelect),[n,s]=O.useState();if(Rn(()=>{s(new DocumentFragment)},[]),!t.open){const i=n;return i?_c.createPortal(u.jsx(j1,{scope:r.__scopeSelect,children:u.jsx(qc.Slot,{scope:r.__scopeSelect,children:u.jsx("div",{children:r.children})})}),i):null}return u.jsx(A1,{...r,ref:e})});S1.displayName=_i;var kn=10,[j1,Zs]=Wa(_i),Bw="SelectContentImpl",A1=O.forwardRef((r,e)=>{const{__scopeSelect:t,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:m,sticky:_,hideWhenDetached:w,avoidCollisions:N,...x}=r,A=Qs(_i,t),[T,z]=O.useState(null),[G,te]=O.useState(null),V=Nr(e,Z=>z(Z)),[E,ne]=O.useState(null),[re,I]=O.useState(null),F=Uc(t),[H,B]=O.useState(!1),oe=O.useRef(!1);O.useEffect(()=>{if(T)return up(T)},[T]),hp();const ie=O.useCallback(Z=>{const[ae,...ce]=F().map(Pe=>Pe.ref.current),[be]=ce.slice(-1),ye=document.activeElement;for(const Pe of Z)if(Pe===ye||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===ae&&G&&(G.scrollTop=0),Pe===be&&G&&(G.scrollTop=G.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==ye))return},[F,G]),fe=O.useCallback(()=>ie([E,T]),[ie,E,T]);O.useEffect(()=>{H&&fe()},[H,fe]);const{onOpenChange:Y,triggerPointerDownPosRef:he}=A;O.useEffect(()=>{if(T){let Z={x:0,y:0};const ae=be=>{var ye,Pe;Z={x:Math.abs(Math.round(be.pageX)-(((ye=he.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(be.pageY)-(((Pe=he.current)==null?void 0:Pe.y)??0))}},ce=be=>{Z.x<=10&&Z.y<=10?be.preventDefault():T.contains(be.target)||Y(!1),document.removeEventListener("pointermove",ae),he.current=null};return he.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",ce,{capture:!0})}}},[T,Y,he]),O.useEffect(()=>{const Z=()=>Y(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[Y]);const[pe,Ae]=z1(Z=>{const ae=F().filter(ye=>!ye.disabled),ce=ae.find(ye=>ye.ref.current===document.activeElement),be=H1(ae,Z,ce);be&&setTimeout(()=>be.ref.current.focus())}),P=O.useCallback((Z,ae,ce)=>{const be=!oe.current&&!ce;(A.value!==void 0&&A.value===ae||be)&&(ne(Z),be&&(oe.current=!0))},[A.value]),D=O.useCallback(()=>T==null?void 0:T.focus(),[T]),U=O.useCallback((Z,ae,ce)=>{const be=!oe.current&&!ce;(A.value!==void 0&&A.value===ae||be)&&I(Z)},[A.value]),W=n==="popper"?_d:P1,J=W===_d?{side:l,sideOffset:c,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:m,sticky:_,hideWhenDetached:w,avoidCollisions:N}:{};return u.jsx(j1,{scope:t,content:T,viewport:G,onViewportChange:te,itemRefCallback:P,selectedItem:E,onItemLeave:D,itemTextRefCallback:U,focusSelectedItem:fe,selectedItemText:re,position:n,isPositioned:H,searchRef:pe,children:u.jsx(dp,{as:Js,allowPinchZoom:!0,children:u.jsx(fp,{asChild:!0,trapped:A.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:ft(s,Z=>{var ae;(ae=A.trigger)==null||ae.focus({preventScroll:!0}),Z.preventDefault()}),children:u.jsx(zd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:u.jsx(W,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:Z=>Z.preventDefault(),...x,...J,onPlaced:()=>B(!0),ref:V,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ft(x.onKeyDown,Z=>{const ae=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!ae&&Z.key.length===1&&Ae(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let be=F().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const ye=Z.target,Pe=be.indexOf(ye);be=be.slice(Pe+1)}setTimeout(()=>ie(be)),Z.preventDefault()}})})})})})})});A1.displayName=Bw;var qw="SelectItemAlignedPosition",P1=O.forwardRef((r,e)=>{const{__scopeSelect:t,onPlaced:n,...s}=r,i=Qs(_i,t),a=Zs(_i,t),[l,c]=O.useState(null),[h,p]=O.useState(null),g=Nr(e,V=>p(V)),y=Uc(t),m=O.useRef(!1),_=O.useRef(!0),{viewport:w,selectedItem:N,selectedItemText:x,focusSelectedItem:A}=a,T=O.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&h&&w&&N&&x){const V=i.trigger.getBoundingClientRect(),E=h.getBoundingClientRect(),ne=i.valueNode.getBoundingClientRect(),re=x.getBoundingClientRect();if(i.dir!=="rtl"){const ye=re.left-E.left,Pe=ne.left-ye,Le=V.left-Pe,ze=V.width+Le,ge=Math.max(ze,E.width),$=window.innerWidth-kn,Je=Ef(Pe,[kn,Math.max(kn,$-ge)]);l.style.minWidth=ze+"px",l.style.left=Je+"px"}else{const ye=E.right-re.right,Pe=window.innerWidth-ne.right-ye,Le=window.innerWidth-V.right-Pe,ze=V.width+Le,ge=Math.max(ze,E.width),$=window.innerWidth-kn,Je=Ef(Pe,[kn,Math.max(kn,$-ge)]);l.style.minWidth=ze+"px",l.style.right=Je+"px"}const I=y(),F=window.innerHeight-kn*2,H=w.scrollHeight,B=window.getComputedStyle(h),oe=parseInt(B.borderTopWidth,10),ie=parseInt(B.paddingTop,10),fe=parseInt(B.borderBottomWidth,10),Y=parseInt(B.paddingBottom,10),he=oe+ie+H+Y+fe,pe=Math.min(N.offsetHeight*5,he),Ae=window.getComputedStyle(w),P=parseInt(Ae.paddingTop,10),D=parseInt(Ae.paddingBottom,10),U=V.top+V.height/2-kn,W=F-U,J=N.offsetHeight/2,Z=N.offsetTop+J,ae=oe+ie+Z,ce=he-ae;if(ae<=U){const ye=I.length>0&&N===I[I.length-1].ref.current;l.style.bottom="0px";const Pe=h.clientHeight-w.offsetTop-w.offsetHeight,Le=Math.max(W,J+(ye?D:0)+Pe+fe),ze=ae+Le;l.style.height=ze+"px"}else{const ye=I.length>0&&N===I[0].ref.current;l.style.top="0px";const Le=Math.max(U,oe+w.offsetTop+(ye?P:0)+J)+ce;l.style.height=Le+"px",w.scrollTop=ae-U+w.offsetTop}l.style.margin=`${kn}px 0`,l.style.minHeight=pe+"px",l.style.maxHeight=F+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[y,i.trigger,i.valueNode,l,h,w,N,x,i.dir,n]);Rn(()=>T(),[T]);const[z,G]=O.useState();Rn(()=>{h&&G(window.getComputedStyle(h).zIndex)},[h]);const te=O.useCallback(V=>{V&&_.current===!0&&(T(),A==null||A(),_.current=!1)},[T,A]);return u.jsx($w,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:te,children:u.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:u.jsx(Et.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});P1.displayName=qw;var Uw="SelectPopperPosition",_d=O.forwardRef((r,e)=>{const{__scopeSelect:t,align:n="start",collisionPadding:s=kn,...i}=r,a=$c(t);return u.jsx(Hd,{...a,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_d.displayName=Uw;var[$w,dh]=Wa(_i,{}),Nd="SelectViewport",k1=O.forwardRef((r,e)=>{const{__scopeSelect:t,nonce:n,...s}=r,i=Zs(Nd,t),a=dh(Nd,t),l=Nr(e,i.onViewportChange),c=O.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),u.jsx(qc.Slot,{scope:t,children:u.jsx(Et.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ft(s.onScroll,h=>{const p=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=a;if(y!=null&&y.current&&g){const m=Math.abs(c.current-p.scrollTop);if(m>0){const _=window.innerHeight-kn*2,w=parseFloat(g.style.minHeight),N=parseFloat(g.style.height),x=Math.max(w,N);if(x<_){const A=x+m,T=Math.min(_,A),z=A-T;g.style.height=T+"px",g.style.bottom==="0px"&&(p.scrollTop=z>0?z:0,g.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});k1.displayName=Nd;var L1="SelectGroup",[zw,Hw]=Wa(L1),Vw=O.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,s=Ko();return u.jsx(zw,{scope:t,id:s,children:u.jsx(Et.div,{role:"group","aria-labelledby":s,...n,ref:e})})});Vw.displayName=L1;var C1="SelectLabel",E1=O.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,s=Hw(C1,t);return u.jsx(Et.div,{id:s.id,...n,ref:e})});E1.displayName=C1;var pc="SelectItem",[Ww,T1]=Wa(pc),I1=O.forwardRef((r,e)=>{const{__scopeSelect:t,value:n,disabled:s=!1,textValue:i,...a}=r,l=Qs(pc,t),c=Zs(pc,t),h=l.value===n,[p,g]=O.useState(i??""),[y,m]=O.useState(!1),_=Nr(e,A=>{var T;return(T=c.itemRefCallback)==null?void 0:T.call(c,A,n,s)}),w=Ko(),N=O.useRef("touch"),x=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Ww,{scope:t,value:n,disabled:s,textId:w,isSelected:h,onItemTextChange:O.useCallback(A=>{g(T=>T||((A==null?void 0:A.textContent)??"").trim())},[]),children:u.jsx(qc.ItemSlot,{scope:t,value:n,disabled:s,textValue:p,children:u.jsx(Et.div,{role:"option","aria-labelledby":w,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:_,onFocus:ft(a.onFocus,()=>m(!0)),onBlur:ft(a.onBlur,()=>m(!1)),onClick:ft(a.onClick,()=>{N.current!=="mouse"&&x()}),onPointerUp:ft(a.onPointerUp,()=>{N.current==="mouse"&&x()}),onPointerDown:ft(a.onPointerDown,A=>{N.current=A.pointerType}),onPointerMove:ft(a.onPointerMove,A=>{var T;N.current=A.pointerType,s?(T=c.onItemLeave)==null||T.call(c):N.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ft(a.onPointerLeave,A=>{var T;A.currentTarget===document.activeElement&&((T=c.onItemLeave)==null||T.call(c))}),onKeyDown:ft(a.onKeyDown,A=>{var z;((z=c.searchRef)==null?void 0:z.current)!==""&&A.key===" "||(Tw.includes(A.key)&&x(),A.key===" "&&A.preventDefault())})})})})});I1.displayName=pc;var Lo="SelectItemText",R1=O.forwardRef((r,e)=>{const{__scopeSelect:t,className:n,style:s,...i}=r,a=Qs(Lo,t),l=Zs(Lo,t),c=T1(Lo,t),h=Fw(Lo,t),[p,g]=O.useState(null),y=Nr(e,x=>g(x),c.onItemTextChange,x=>{var A;return(A=l.itemTextRefCallback)==null?void 0:A.call(l,x,c.value,c.disabled)}),m=p==null?void 0:p.textContent,_=O.useMemo(()=>u.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:w,onNativeOptionRemove:N}=h;return Rn(()=>(w(_),()=>N(_)),[w,N,_]),u.jsxs(u.Fragment,{children:[u.jsx(Et.span,{id:c.textId,...i,ref:y}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?_c.createPortal(i.children,a.valueNode):null]})});R1.displayName=Lo;var O1="SelectItemIndicator",F1=O.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r;return T1(O1,t).isSelected?u.jsx(Et.span,{"aria-hidden":!0,...n,ref:e}):null});F1.displayName=O1;var Sd="SelectScrollUpButton",D1=O.forwardRef((r,e)=>{const t=Zs(Sd,r.__scopeSelect),n=dh(Sd,r.__scopeSelect),[s,i]=O.useState(!1),a=Nr(e,n.onScrollButtonChange);return Rn(()=>{if(t.viewport&&t.isPositioned){let l=function(){const h=c.scrollTop>0;i(h)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?u.jsx(B1,{...r,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});D1.displayName=Sd;var jd="SelectScrollDownButton",M1=O.forwardRef((r,e)=>{const t=Zs(jd,r.__scopeSelect),n=dh(jd,r.__scopeSelect),[s,i]=O.useState(!1),a=Nr(e,n.onScrollButtonChange);return Rn(()=>{if(t.viewport&&t.isPositioned){let l=function(){const h=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<h;i(p)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?u.jsx(B1,{...r,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});M1.displayName=jd;var B1=O.forwardRef((r,e)=>{const{__scopeSelect:t,onAutoScroll:n,...s}=r,i=Zs("SelectScrollButton",t),a=O.useRef(null),l=Uc(t),c=O.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return O.useEffect(()=>()=>c(),[c]),Rn(()=>{var p;const h=l().find(g=>g.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[l]),u.jsx(Et.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ft(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:ft(s.onPointerMove,()=>{var h;(h=i.onItemLeave)==null||h.call(i),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:ft(s.onPointerLeave,()=>{c()})})}),Gw="SelectSeparator",q1=O.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r;return u.jsx(Et.div,{"aria-hidden":!0,...n,ref:e})});q1.displayName=Gw;var Ad="SelectArrow",Kw=O.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,s=$c(t),i=Qs(Ad,t),a=Zs(Ad,t);return i.open&&a.position==="popper"?u.jsx(Vd,{...s,...n,ref:e}):null});Kw.displayName=Ad;function U1(r){return r===""||r===void 0}var $1=O.forwardRef((r,e)=>{const{value:t,...n}=r,s=O.useRef(null),i=Nr(e,s),a=g1(t);return O.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&p){const g=new Event("change",{bubbles:!0});p.call(l,t),l.dispatchEvent(g)}},[a,t]),u.jsx(Jo,{asChild:!0,children:u.jsx("select",{...n,ref:i,defaultValue:t})})});$1.displayName="BubbleSelect";function z1(r){const e=Ta(r),t=O.useRef(""),n=O.useRef(0),s=O.useCallback(a=>{const l=t.current+a;e(l),function c(h){t.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=O.useCallback(()=>{t.current="",window.clearTimeout(n.current)},[]);return O.useEffect(()=>()=>window.clearTimeout(n.current),[]),[t,s,i]}function H1(r,e,t){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=t?r.indexOf(t):-1;let a=Jw(r,Math.max(i,0));s.length===1&&(a=a.filter(h=>h!==t));const c=a.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==t?c:void 0}function Jw(r,e){return r.map((t,n)=>r[(e+n)%r.length])}var Yw=v1,V1=b1,Xw=x1,Qw=_1,Zw=N1,W1=S1,ex=k1,G1=E1,K1=I1,tx=R1,rx=F1,J1=D1,Y1=M1,X1=q1;const Ni=Yw,Si=Xw,Vs=O.forwardRef(({className:r,children:e,...t},n)=>u.jsxs(V1,{ref:n,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...t,children:[e,u.jsx(Qw,{asChild:!0,children:u.jsx($p,{className:"h-4 w-4 opacity-50"})})]}));Vs.displayName=V1.displayName;const Q1=O.forwardRef(({className:r,...e},t)=>u.jsx(J1,{ref:t,className:Ee("flex cursor-default items-center justify-center py-1",r),...e,children:u.jsx(S2,{className:"h-4 w-4"})}));Q1.displayName=J1.displayName;const Z1=O.forwardRef(({className:r,...e},t)=>u.jsx(Y1,{ref:t,className:Ee("flex cursor-default items-center justify-center py-1",r),...e,children:u.jsx($p,{className:"h-4 w-4"})}));Z1.displayName=Y1.displayName;const Ws=O.forwardRef(({className:r,children:e,position:t="popper",...n},s)=>u.jsx(Zw,{children:u.jsxs(W1,{ref:s,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:t,...n,children:[u.jsx(Q1,{}),u.jsx(ex,{className:Ee("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(Z1,{})]})}));Ws.displayName=W1.displayName;const nx=O.forwardRef(({className:r,...e},t)=>u.jsx(G1,{ref:t,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...e}));nx.displayName=G1.displayName;const Br=O.forwardRef(({className:r,children:e,...t},n)=>u.jsxs(K1,{ref:n,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...t,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(rx,{children:u.jsx(Up,{className:"h-4 w-4"})})}),u.jsx(tx,{children:e})]}));Br.displayName=K1.displayName;const sx=O.forwardRef(({className:r,...e},t)=>u.jsx(X1,{ref:t,className:Ee("-mx-1 my-1 h-px bg-muted",r),...e}));sx.displayName=X1.displayName;function ix({products:r,onProductSelect:e}){const[t,n]=O.useState(""),[s,i]=O.useState([]),a=c=>{n(c);const h=e(c);i(h)},l=c=>new Date(c).toLocaleDateString("es-ES",{month:"short",day:"numeric"});return u.jsxs(Vt,{className:"col-span-full",children:[u.jsxs(xr,{children:[u.jsxs(_r,{className:"flex items-center gap-2",children:[u.jsx(Ia,{className:"w-5 h-5"}),"Rendimiento de Productos"]}),u.jsx("div",{className:"w-full max-w-xs",children:u.jsxs(Ni,{value:t,onValueChange:a,children:[u.jsx(Vs,{children:u.jsx(Si,{placeholder:"Selecciona un producto"})}),u.jsx(Ws,{children:r.map(c=>u.jsx(Br,{value:c.id,children:c.name},c.id))})]})})]}),u.jsx(Wt,{children:s.length>0?u.jsx("div",{className:"w-full h-80",children:u.jsx(Ug,{width:"100%",height:"100%",children:u.jsxs($g,{data:s,children:[u.jsx(zg,{strokeDasharray:"3 3"}),u.jsx(Hg,{dataKey:"date",tickFormatter:l}),u.jsx(Vg,{}),u.jsx(Wg,{labelFormatter:c=>`Fecha: ${l(c)}`,formatter:(c,h)=>h==="sales"?[c,"Ventas (unidades)"]:h==="revenue"?[`$${c.toFixed(2)}`,"Ingresos"]:h==="profit"?[`$${c.toFixed(2)}`,"Ganancia"]:[c,h]}),u.jsx(Fu,{type:"monotone",dataKey:"sales",stroke:"#3b82f6",strokeWidth:2,name:"sales"}),u.jsx(Fu,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,name:"revenue"}),u.jsx(Fu,{type:"monotone",dataKey:"profit",stroke:"#8b5cf6",strokeWidth:2,name:"profit"})]})})}):u.jsx("div",{className:"flex items-center justify-center h-80 text-muted-foreground",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Ia,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"Selecciona un producto para ver su rendimiento"})]})})})]})}function ax(){const{user:r,computed:e,getProductPerformanceData:t,getAllProductsForChart:n}=es(),s=n(),i=O.useMemo(()=>{const{totalRevenue:a,lowStockProducts:l,salesLastMonth:c}=e,h=es.getState().products,p=(a-c)/c*100||0,g=p>0?"up":p<0?"down":"stable";return[{id:"1",title:"Ventas Totales",value:a,trend:g,percentage:Math.abs(p),icon:"dollar-sign"},{id:"2",title:"Productos en Stock",value:h.reduce((y,m)=>y+m.stock,0),trend:"stable",icon:"package"},{id:"3",title:"Alertas de Stock Bajo",value:l.length,trend:l.length>5?"down":"stable",icon:"alert-triangle"},{id:"4",title:"Nuevos Productos",value:h.length,trend:"up",percentage:20,icon:"box"}]},[e]);return u.jsxs("div",{className:"p-6 space-y-8",children:[u.jsxs("div",{className:"animate-fade-in",children:[u.jsxs("h1",{className:"text-3xl font-bold text-foreground mb-2",children:["Hola ",(r==null?void 0:r.name)||"Usuario","! "]}),u.jsx("p",{className:"text-muted-foreground",children:"Panel de control completo de tu empresa"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Resumen Financiero"}),u.jsx(Cw,{earnings:e})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Indicadores Clave"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((a,l)=>u.jsx("div",{style:{animationDelay:`${l*100}ms`},children:u.jsx(kw,{kpi:a})},a.id))})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Anlisis de Productos"}),u.jsx(ix,{products:s,onProductSelect:t})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Acciones Rpidas"}),u.jsx(Lw,{})]})]})}var ox="Label",em=O.forwardRef((r,e)=>u.jsx(Et.label,{...r,ref:e,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=r.onMouseDown)==null||s.call(r,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));em.displayName=ox;var tm=em;const lx=ji("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ht=O.forwardRef(({className:r,...e},t)=>u.jsx(tm,{ref:t,className:Ee(lx(),r),...e}));ht.displayName=tm.displayName;const qo=lp,zc=Tg,cx=cp,rm=O.forwardRef(({className:r,...e},t)=>u.jsx(yc,{ref:t,className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...e}));rm.displayName=yc.displayName;const Da=O.forwardRef(({className:r,children:e,...t},n)=>u.jsxs(cx,{children:[u.jsx(rm,{}),u.jsxs(bc,{ref:n,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...t,children:[e,u.jsxs(op,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Ac,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Da.displayName=bc.displayName;const Ma=({className:r,...e})=>u.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",r),...e});Ma.displayName="DialogHeader";const Ba=({className:r,...e})=>u.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...e});Ba.displayName="DialogFooter";const qa=O.forwardRef(({className:r,...e},t)=>u.jsx(wc,{ref:t,className:Ee("text-lg font-semibold leading-none tracking-tight",r),...e}));qa.displayName=wc.displayName;const Ua=O.forwardRef(({className:r,...e},t)=>u.jsx(xc,{ref:t,className:Ee("text-sm text-muted-foreground",r),...e}));Ua.displayName=xc.displayName;const Uo=O.forwardRef(({className:r,...e},t)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:t,className:Ee("w-full caption-bottom text-sm",r),...e})}));Uo.displayName="Table";const $o=O.forwardRef(({className:r,...e},t)=>u.jsx("thead",{ref:t,className:Ee("[&_tr]:border-b",r),...e}));$o.displayName="TableHeader";const zo=O.forwardRef(({className:r,...e},t)=>u.jsx("tbody",{ref:t,className:Ee("[&_tr:last-child]:border-0",r),...e}));zo.displayName="TableBody";const ux=O.forwardRef(({className:r,...e},t)=>u.jsx("tfoot",{ref:t,className:Ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...e}));ux.displayName="TableFooter";const Xn=O.forwardRef(({className:r,...e},t)=>u.jsx("tr",{ref:t,className:Ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...e}));Xn.displayName="TableRow";const qt=O.forwardRef(({className:r,...e},t)=>u.jsx("th",{ref:t,className:Ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...e}));qt.displayName="TableHead";const Ft=O.forwardRef(({className:r,...e},t)=>u.jsx("td",{ref:t,className:Ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...e}));Ft.displayName="TableCell";const dx=O.forwardRef(({className:r,...e},t)=>u.jsx("caption",{ref:t,className:Ee("mt-4 text-sm text-muted-foreground",r),...e}));dx.displayName="TableCaption";function hx(){const{categories:r,addCategory:e,removeCategory:t}=es(),[n,s]=O.useState(!1),[i,a]=O.useState(""),l=()=>{if(!i.trim()){$t({title:"Error",description:"El nombre de la categora no puede estar vaco.",variant:"destructive"});return}if(r.includes(i.trim())){$t({title:"Error",description:"Esta categora ya existe.",variant:"destructive"});return}e(i.trim()),a(""),s(!1),$t({title:"Categora agregada",description:`${i} ha sido agregada exitosamente.`})},c=h=>{t(h),$t({title:"Categora eliminada",description:`${h} ha sido eliminada.`})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-medium",children:"Categoras"}),u.jsxs(qo,{open:n,onOpenChange:s,children:[u.jsx(zc,{asChild:!0,children:u.jsxs(zt,{size:"sm",className:"gap-2",children:[u.jsx(jc,{className:"w-4 h-4"}),"Nueva Categora"]})}),u.jsxs(Da,{children:[u.jsxs(Ma,{children:[u.jsx(qa,{children:"Agregar Nueva Categora"}),u.jsx(Ua,{children:"Ingresa el nombre de la nueva categora para tus productos."})]}),u.jsx("div",{className:"grid gap-4 py-4",children:u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"category-name",className:"text-right",children:"Nombre"}),u.jsx(xt,{id:"category-name",value:i,onChange:h=>a(h.target.value),className:"col-span-3",placeholder:"Ej: Electrnicos",onKeyDown:h=>{h.key==="Enter"&&l()}})]})}),u.jsx(Ba,{children:u.jsx(zt,{onClick:l,children:"Agregar Categora"})})]})]})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(h=>u.jsxs(In,{variant:"secondary",className:"flex items-center gap-2",children:[h,u.jsx("button",{onClick:()=>c(h),className:"hover:bg-destructive hover:text-destructive-foreground rounded-full p-1",children:u.jsx(Ac,{className:"w-3 h-3"})})]},h))})]})}function fx({onSearch:r,placeholder:e="Buscar productos..."}){const[t,n]=O.useState("");return O.useEffect(()=>{const s=setTimeout(()=>{r(t)},300);return()=>clearTimeout(s)},[t,r]),u.jsxs("div",{className:"relative",children:[u.jsx(O2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),u.jsx(xt,{type:"text",placeholder:e,value:t,onChange:s=>n(s.target.value),className:"pl-10"})]})}function px(){const{products:r,categories:e,addProduct:t,updateProduct:n,deleteProduct:s,searchProducts:i}=es(),[a,l]=O.useState(!1),[c,h]=O.useState(!1),[p,g]=O.useState(null),[y,m]=O.useState(""),[_,w]=O.useState({name:"",category:"",stock:0,minStock:0,purchasePrice:0,salePrice:0,description:"",supplier:""}),N=y?i(y):r,x=O.useCallback(E=>{m(E)},[]),A=()=>{if(!_.name||!_.category||_.stock<0){$t({title:"Error",description:"Por favor completa todos los campos requeridos. El stock no puede ser negativo.",variant:"destructive"});return}if(_.purchasePrice<=0||_.salePrice<=0){$t({title:"Error",description:"Los precios deben ser mayores a cero.",variant:"destructive"});return}t(_),w({name:"",category:"",stock:0,minStock:0,purchasePrice:0,salePrice:0,description:"",supplier:""}),l(!1),$t({title:"Producto agregado",description:`${_.name} ha sido agregado al inventario.`})},T=()=>{if(!_.name||!_.category||_.stock<0){$t({title:"Error",description:"Por favor completa todos los campos requeridos. El stock no puede ser negativo.",variant:"destructive"});return}if(_.purchasePrice<=0||_.salePrice<=0){$t({title:"Error",description:"Los precios deben ser mayores a cero.",variant:"destructive"});return}n(p.id,_),h(!1),g(null),$t({title:"Producto actualizado",description:`${_.name} ha sido actualizado.`})},z=(E,ne)=>{s(E),$t({title:"Producto eliminado",description:`${ne} ha sido eliminado del inventario.`})},G=E=>{g(E),w({name:E.name,category:E.category,stock:E.stock,minStock:E.minStock,purchasePrice:E.purchasePrice,salePrice:E.salePrice,description:E.description||"",supplier:E.supplier||""}),h(!0)},te=(E,ne)=>E<=ne?{label:"Bajo",variant:"destructive"}:E<=ne*1.5?{label:"Medio",variant:"secondary"}:{label:"Alto",variant:"default"},V=(E,ne)=>((ne-E)/E*100).toFixed(1);return u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Control de Inventario"}),u.jsx("p",{className:"text-muted-foreground",children:"Gestiona tus productos y stock"})]}),u.jsxs(qo,{open:a,onOpenChange:l,children:[u.jsx(zc,{asChild:!0,children:u.jsxs(zt,{className:"gap-2",children:[u.jsx(jc,{className:"w-4 h-4"}),"Agregar Producto"]})}),u.jsxs(Da,{className:"max-w-2xl",children:[u.jsxs(Ma,{children:[u.jsx(qa,{children:"Agregar Nuevo Producto"}),u.jsx(Ua,{children:"Completa la informacin del producto que deseas agregar al inventario."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"name",className:"text-right",children:"Nombre"}),u.jsx(xt,{id:"name",value:_.name,onChange:E=>w({..._,name:E.target.value}),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"category",className:"text-right",children:"Categora"}),u.jsxs(Ni,{value:_.category,onValueChange:E=>w({..._,category:E}),children:[u.jsx(Vs,{className:"col-span-3",children:u.jsx(Si,{placeholder:"Selecciona una categora"})}),u.jsx(Ws,{children:e.map(E=>u.jsx(Br,{value:E,children:E},E))})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"stock",className:"text-right",children:"Stock"}),u.jsx(xt,{id:"stock",type:"number",min:"0",value:_.stock,onChange:E=>w({..._,stock:Math.max(0,parseInt(E.target.value)||0)}),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"minStock",className:"text-right",children:"Stock Mnimo"}),u.jsx(xt,{id:"minStock",type:"number",min:"0",value:_.minStock,onChange:E=>w({..._,minStock:Math.max(0,parseInt(E.target.value)||0)}),className:"col-span-3"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"purchasePrice",className:"text-right",children:"Precio Compra"}),u.jsx(xt,{id:"purchasePrice",type:"number",min:"0",step:"0.01",value:_.purchasePrice,onChange:E=>w({..._,purchasePrice:parseFloat(E.target.value)||0}),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"salePrice",className:"text-right",children:"Precio Venta"}),u.jsx(xt,{id:"salePrice",type:"number",min:"0",step:"0.01",value:_.salePrice,onChange:E=>w({..._,salePrice:parseFloat(E.target.value)||0}),className:"col-span-3"})]})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"description",className:"text-right",children:"Descripcin"}),u.jsx(xt,{id:"description",value:_.description,onChange:E=>w({..._,description:E.target.value}),className:"col-span-3",placeholder:"Descripcin opcional"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"supplier",className:"text-right",children:"Proveedor"}),u.jsx(xt,{id:"supplier",value:_.supplier,onChange:E=>w({..._,supplier:E.target.value}),className:"col-span-3",placeholder:"Proveedor opcional"})]})]}),u.jsx(Ba,{children:u.jsx(zt,{onClick:A,children:"Agregar Producto"})})]})]})]}),u.jsxs(Vt,{children:[u.jsx(xr,{children:u.jsx(_r,{children:"Gestin de Categoras"})}),u.jsx(Wt,{children:u.jsx(hx,{})})]}),u.jsxs(Vt,{children:[u.jsx(xr,{children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsx(_r,{children:"Lista de Productos"}),u.jsx("div",{className:"w-full sm:w-80",children:u.jsx(fx,{onSearch:x})})]})}),u.jsx(Wt,{children:u.jsxs(Uo,{children:[u.jsx($o,{children:u.jsxs(Xn,{children:[u.jsx(qt,{children:"Producto"}),u.jsx(qt,{children:"Categora"}),u.jsx(qt,{children:"Stock"}),u.jsx(qt,{children:"Estado"}),u.jsx(qt,{children:"Precio Compra"}),u.jsx(qt,{children:"Precio Venta"}),u.jsx(qt,{children:"Margen"}),u.jsx(qt,{children:"Acciones"})]})}),u.jsx(zo,{children:N.map(E=>{const ne=te(E.stock,E.minStock),re=V(E.purchasePrice,E.salePrice);return u.jsxs(Xn,{children:[u.jsx(Ft,{children:u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:E.name}),E.description&&u.jsx("p",{className:"text-sm text-muted-foreground",children:E.description})]})}),u.jsx(Ft,{children:E.category}),u.jsx(Ft,{children:u.jsxs("div",{className:"flex items-center gap-2",children:[E.stock<=E.minStock&&u.jsx(To,{className:"w-4 h-4 text-warning"}),E.stock]})}),u.jsx(Ft,{children:u.jsx(In,{variant:ne.variant,children:ne.label})}),u.jsxs(Ft,{children:["$",E.purchasePrice.toFixed(2)]}),u.jsxs(Ft,{children:["$",E.salePrice.toFixed(2)]}),u.jsx(Ft,{children:u.jsxs(In,{variant:parseFloat(re)>20?"default":"secondary",children:[re,"%"]})}),u.jsx(Ft,{children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(zt,{size:"sm",variant:"outline",onClick:()=>G(E),children:u.jsx(F2,{className:"w-4 h-4"})}),u.jsx(zt,{size:"sm",variant:"outline",onClick:()=>z(E.id,E.name),children:u.jsx(D2,{className:"w-4 h-4"})})]})})]},E.id)})})]})})]}),u.jsx(qo,{open:c,onOpenChange:h,children:u.jsxs(Da,{className:"max-w-2xl",children:[u.jsxs(Ma,{children:[u.jsx(qa,{children:"Editar Producto"}),u.jsx(Ua,{children:"Modifica la informacin del producto."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"edit-name",className:"text-right",children:"Nombre"}),u.jsx(xt,{id:"edit-name",value:_.name,onChange:E=>w({..._,name:E.target.value}),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"edit-category",className:"text-right",children:"Categora"}),u.jsxs(Ni,{value:_.category,onValueChange:E=>w({..._,category:E}),children:[u.jsx(Vs,{className:"col-span-3",children:u.jsx(Si,{})}),u.jsx(Ws,{children:e.map(E=>u.jsx(Br,{value:E,children:E},E))})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"edit-stock",className:"text-right",children:"Stock"}),u.jsx(xt,{id:"edit-stock",type:"number",min:"0",value:_.stock,onChange:E=>w({..._,stock:Math.max(0,parseInt(E.target.value)||0)}),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"edit-minStock",className:"text-right",children:"Stock Mnimo"}),u.jsx(xt,{id:"edit-minStock",type:"number",min:"0",value:_.minStock,onChange:E=>w({..._,minStock:Math.max(0,parseInt(E.target.value)||0)}),className:"col-span-3"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"edit-purchasePrice",className:"text-right",children:"Precio Compra"}),u.jsx(xt,{id:"edit-purchasePrice",type:"number",min:"0",step:"0.01",value:_.purchasePrice,onChange:E=>w({..._,purchasePrice:parseFloat(E.target.value)||0}),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"edit-salePrice",className:"text-right",children:"Precio Venta"}),u.jsx(xt,{id:"edit-salePrice",type:"number",min:"0",step:"0.01",value:_.salePrice,onChange:E=>w({..._,salePrice:parseFloat(E.target.value)||0}),className:"col-span-3"})]})]})]}),u.jsx(Ba,{children:u.jsx(zt,{onClick:T,children:"Guardar Cambios"})})]})})]})}function mx(){const{products:r,sales:e,addSale:t}=es(),[n,s]=O.useState(!1),[i,a]=O.useState({productId:"",quantity:1,customer:""}),l=r.find(p=>p.id===i.productId),c=l?l.salePrice*i.quantity:0,h=()=>{if(!i.productId||i.quantity<=0){$t({title:"Error",description:"Por favor selecciona un producto y cantidad vlida.",variant:"destructive"});return}const p=r.find(g=>g.id===i.productId);if(!p){$t({title:"Error",description:"Producto no encontrado.",variant:"destructive"});return}if(p.stock<i.quantity){$t({title:"Stock insuficiente",description:`Solo hay ${p.stock} unidades disponibles de ${p.name}.`,variant:"destructive"});return}t({productId:i.productId,productName:p.name,quantity:i.quantity,unitPrice:p.salePrice,totalPrice:c,date:new Date,customer:i.customer}),a({productId:"",quantity:1,customer:""}),s(!1),$t({title:"Venta registrada",description:`Venta de ${p.name} registrada exitosamente.`})};return u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Ventas"}),u.jsx("p",{className:"text-muted-foreground",children:"Registra y gestiona las ventas"})]}),u.jsxs(qo,{open:n,onOpenChange:s,children:[u.jsx(zc,{asChild:!0,children:u.jsxs(zt,{className:"gap-2",children:[u.jsx(jc,{className:"w-4 h-4"}),"Nueva Venta"]})}),u.jsxs(Da,{children:[u.jsxs(Ma,{children:[u.jsx(qa,{children:"Registrar Nueva Venta"}),u.jsx(Ua,{children:"Selecciona el producto y cantidad para registrar la venta."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"product",className:"text-right",children:"Producto"}),u.jsxs(Ni,{value:i.productId,onValueChange:p=>a({...i,productId:p}),children:[u.jsx(Vs,{className:"col-span-3",children:u.jsx(Si,{placeholder:"Selecciona un producto"})}),u.jsx(Ws,{children:r.filter(p=>p.stock>0).map(p=>u.jsxs(Br,{value:p.id,children:[p.name," - Stock: ",p.stock," - $",p.salePrice]},p.id))})]})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"quantity",className:"text-right",children:"Cantidad"}),u.jsx(xt,{id:"quantity",type:"number",min:"1",max:(l==null?void 0:l.stock)||1,value:i.quantity,onChange:p=>a({...i,quantity:parseInt(p.target.value)||1}),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"customer",className:"text-right",children:"Cliente"}),u.jsx(xt,{id:"customer",value:i.customer,onChange:p=>a({...i,customer:p.target.value}),className:"col-span-3",placeholder:"Nombre del cliente (opcional)"})]}),l&&u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{className:"text-right",children:"Total"}),u.jsxs("div",{className:"col-span-3",children:[u.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",c.toFixed(2)]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",l.salePrice," x ",i.quantity]})]})]})]}),u.jsx(Ba,{children:u.jsx(zt,{onClick:h,disabled:!l,children:"Registrar Venta"})})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx(Vt,{children:u.jsx(Wt,{className:"p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:u.jsx(Eo,{className:"w-6 h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Ventas"}),u.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})})}),u.jsx(Vt,{children:u.jsx(Wt,{className:"p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-success/10 rounded-lg flex items-center justify-center",children:u.jsx(Eo,{className:"w-6 h-6 text-success"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Ingresos Totales"}),u.jsxs("p",{className:"text-2xl font-bold",children:["$",e.reduce((p,g)=>p+g.totalPrice,0).toFixed(2)]})]})]})})}),u.jsx(Vt,{children:u.jsx(Wt,{className:"p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-warning/10 rounded-lg flex items-center justify-center",children:u.jsx(Eo,{className:"w-6 h-6 text-warning"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Promedio por Venta"}),u.jsxs("p",{className:"text-2xl font-bold",children:["$",e.length>0?(e.reduce((p,g)=>p+g.totalPrice,0)/e.length).toFixed(2):"0.00"]})]})]})})})]}),u.jsxs(Vt,{children:[u.jsx(xr,{children:u.jsx(_r,{children:"Historial de Ventas"})}),u.jsx(Wt,{children:u.jsxs(Uo,{children:[u.jsx($o,{children:u.jsxs(Xn,{children:[u.jsx(qt,{children:"Fecha"}),u.jsx(qt,{children:"Producto"}),u.jsx(qt,{children:"Cliente"}),u.jsx(qt,{children:"Cantidad"}),u.jsx(qt,{children:"Precio Unit."}),u.jsx(qt,{children:"Total"})]})}),u.jsxs(zo,{children:[e.map(p=>u.jsxs(Xn,{children:[u.jsx(Ft,{children:p.date.toLocaleDateString()}),u.jsx(Ft,{children:p.productName}),u.jsx(Ft,{children:p.customer||"Cliente annimo"}),u.jsx(Ft,{children:p.quantity}),u.jsxs(Ft,{children:["$",p.unitPrice.toFixed(2)]}),u.jsxs(Ft,{className:"font-medium",children:["$",p.totalPrice.toFixed(2)]})]},p.id)),e.length===0&&u.jsx(Xn,{children:u.jsx(Ft,{colSpan:6,className:"text-center text-muted-foreground",children:"No hay ventas registradas"})})]})]})})]})]})}function Ct(r){"@babel/helpers - typeof";return Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(r)}var Tr=Uint8Array,nn=Uint16Array,hh=Int32Array,Hc=new Tr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vc=new Tr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Pd=new Tr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nm=function(r,e){for(var t=new nn(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var s=new hh(t[30]),n=1;n<30;++n)for(var i=t[n];i<t[n+1];++i)s[i]=i-t[n]<<5|n;return{b:t,r:s}},sm=nm(Hc,2),im=sm.b,kd=sm.r;im[28]=258,kd[258]=28;var am=nm(Vc,0),gx=am.b,Tf=am.r,Ld=new nn(32768);for(var Ut=0;Ut<32768;++Ut){var Es=(Ut&43690)>>1|(Ut&21845)<<1;Es=(Es&52428)>>2|(Es&13107)<<2,Es=(Es&61680)>>4|(Es&3855)<<4,Ld[Ut]=((Es&65280)>>8|(Es&255)<<8)>>1}var Zn=function(r,e,t){for(var n=r.length,s=0,i=new nn(e);s<n;++s)r[s]&&++i[r[s]-1];var a=new nn(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var l;if(t){l=new nn(1<<e);var c=15-e;for(s=0;s<n;++s)if(r[s])for(var h=s<<4|r[s],p=e-r[s],g=a[r[s]-1]++<<p,y=g|(1<<p)-1;g<=y;++g)l[Ld[g]>>c]=h}else for(l=new nn(n),s=0;s<n;++s)r[s]&&(l[s]=Ld[a[r[s]-1]++]>>15-r[s]);return l},Gs=new Tr(288);for(var Ut=0;Ut<144;++Ut)Gs[Ut]=8;for(var Ut=144;Ut<256;++Ut)Gs[Ut]=9;for(var Ut=256;Ut<280;++Ut)Gs[Ut]=7;for(var Ut=280;Ut<288;++Ut)Gs[Ut]=8;var Ho=new Tr(32);for(var Ut=0;Ut<32;++Ut)Ho[Ut]=5;var vx=Zn(Gs,9,0),yx=Zn(Gs,9,1),bx=Zn(Ho,5,0),wx=Zn(Ho,5,1),Ju=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},jn=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},Yu=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},fh=function(r){return(r+7)/8|0},om=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Tr(r.subarray(e,t))},xx=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Cn=function(r,e,t){var n=new Error(e||xx[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,Cn),!t)throw n;return n},_x=function(r,e,t,n){var s=r.length,i=0;if(!s||e.f&&!e.l)return t||new Tr(0);var a=!t,l=a||e.i!=2,c=e.i;a&&(t=new Tr(s*3));var h=function(ye){var Pe=t.length;if(ye>Pe){var Le=new Tr(Math.max(Pe*2,ye));Le.set(t),t=Le}},p=e.f||0,g=e.p||0,y=e.b||0,m=e.l,_=e.d,w=e.m,N=e.n,x=s*8;do{if(!m){p=jn(r,g,1);var A=jn(r,g+1,3);if(g+=3,A)if(A==1)m=yx,_=wx,w=9,N=5;else if(A==2){var te=jn(r,g,31)+257,V=jn(r,g+10,15)+4,E=te+jn(r,g+5,31)+1;g+=14;for(var ne=new Tr(E),re=new Tr(19),I=0;I<V;++I)re[Pd[I]]=jn(r,g+I*3,7);g+=V*3;for(var F=Ju(re),H=(1<<F)-1,B=Zn(re,F,1),I=0;I<E;){var oe=B[jn(r,g,H)];g+=oe&15;var T=oe>>4;if(T<16)ne[I++]=T;else{var ie=0,fe=0;for(T==16?(fe=3+jn(r,g,3),g+=2,ie=ne[I-1]):T==17?(fe=3+jn(r,g,7),g+=3):T==18&&(fe=11+jn(r,g,127),g+=7);fe--;)ne[I++]=ie}}var Y=ne.subarray(0,te),he=ne.subarray(te);w=Ju(Y),N=Ju(he),m=Zn(Y,w,1),_=Zn(he,N,1)}else Cn(1);else{var T=fh(g)+4,z=r[T-4]|r[T-3]<<8,G=T+z;if(G>s){c&&Cn(0);break}l&&h(y+z),t.set(r.subarray(T,G),y),e.b=y+=z,e.p=g=G*8,e.f=p;continue}if(g>x){c&&Cn(0);break}}l&&h(y+131072);for(var pe=(1<<w)-1,Ae=(1<<N)-1,P=g;;P=g){var ie=m[Yu(r,g)&pe],D=ie>>4;if(g+=ie&15,g>x){c&&Cn(0);break}if(ie||Cn(2),D<256)t[y++]=D;else if(D==256){P=g,m=null;break}else{var U=D-254;if(D>264){var I=D-257,W=Hc[I];U=jn(r,g,(1<<W)-1)+im[I],g+=W}var J=_[Yu(r,g)&Ae],Z=J>>4;J||Cn(3),g+=J&15;var he=gx[Z];if(Z>3){var W=Vc[Z];he+=Yu(r,g)&(1<<W)-1,g+=W}if(g>x){c&&Cn(0);break}l&&h(y+131072);var ae=y+U;if(y<he){var ce=i-he,be=Math.min(he,ae);for(ce+y<0&&Cn(3);y<be;++y)t[y]=n[ce+y]}for(;y<ae;++y)t[y]=t[y-he]}}e.l=m,e.p=P,e.b=y,e.f=p,m&&(p=1,e.m=w,e.d=_,e.n=N)}while(!p);return y!=t.length&&a?om(t,0,y):t.subarray(0,y)},hs=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},Ao=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},Xu=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var s=t.length,i=t.slice();if(!s)return{t:cm,l:0};if(s==1){var a=new Tr(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(G,te){return G.f-te.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],h=0,p=1,g=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};p!=s-1;)l=t[t[h].f<t[g].f?h++:g++],c=t[h!=p&&t[h].f<t[g].f?h++:g++],t[p++]={s:-1,f:l.f+c.f,l,r:c};for(var y=i[0].s,n=1;n<s;++n)i[n].s>y&&(y=i[n].s);var m=new nn(y+1),_=Cd(t[p-1],m,0);if(_>e){var n=0,w=0,N=_-e,x=1<<N;for(i.sort(function(te,V){return m[V.s]-m[te.s]||te.f-V.f});n<s;++n){var A=i[n].s;if(m[A]>e)w+=x-(1<<_-m[A]),m[A]=e;else break}for(w>>=N;w>0;){var T=i[n].s;m[T]<e?w-=1<<e-m[T]++-1:++n}for(;n>=0&&w;--n){var z=i[n].s;m[z]==e&&(--m[z],++w)}_=e}return{t:new Tr(m),l:_}},Cd=function(r,e,t){return r.s==-1?Math.max(Cd(r.l,e,t+1),Cd(r.r,e,t+1)):e[r.s]=t},If=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new nn(++e),n=0,s=r[0],i=1,a=function(c){t[n++]=c},l=1;l<=e;++l)if(r[l]==s&&l!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=r[l]}return{c:t.subarray(0,n),n:e}},Po=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},lm=function(r,e,t){var n=t.length,s=fh(e+2);r[s]=n&255,r[s+1]=n>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var i=0;i<n;++i)r[s+i+4]=t[i];return(s+4+n)*8},Rf=function(r,e,t,n,s,i,a,l,c,h,p){hs(e,p++,t),++s[256];for(var g=Xu(s,15),y=g.t,m=g.l,_=Xu(i,15),w=_.t,N=_.l,x=If(y),A=x.c,T=x.n,z=If(w),G=z.c,te=z.n,V=new nn(19),E=0;E<A.length;++E)++V[A[E]&31];for(var E=0;E<G.length;++E)++V[G[E]&31];for(var ne=Xu(V,7),re=ne.t,I=ne.l,F=19;F>4&&!re[Pd[F-1]];--F);var H=h+5<<3,B=Po(s,Gs)+Po(i,Ho)+a,oe=Po(s,y)+Po(i,w)+a+14+3*F+Po(V,re)+2*V[16]+3*V[17]+7*V[18];if(c>=0&&H<=B&&H<=oe)return lm(e,p,r.subarray(c,c+h));var ie,fe,Y,he;if(hs(e,p,1+(oe<B)),p+=2,oe<B){ie=Zn(y,m,0),fe=y,Y=Zn(w,N,0),he=w;var pe=Zn(re,I,0);hs(e,p,T-257),hs(e,p+5,te-1),hs(e,p+10,F-4),p+=14;for(var E=0;E<F;++E)hs(e,p+3*E,re[Pd[E]]);p+=3*F;for(var Ae=[A,G],P=0;P<2;++P)for(var D=Ae[P],E=0;E<D.length;++E){var U=D[E]&31;hs(e,p,pe[U]),p+=re[U],U>15&&(hs(e,p,D[E]>>5&127),p+=D[E]>>12)}}else ie=vx,fe=Gs,Y=bx,he=Ho;for(var E=0;E<l;++E){var W=n[E];if(W>255){var U=W>>18&31;Ao(e,p,ie[U+257]),p+=fe[U+257],U>7&&(hs(e,p,W>>23&31),p+=Hc[U]);var J=W&31;Ao(e,p,Y[J]),p+=he[J],J>3&&(Ao(e,p,W>>5&8191),p+=Vc[J])}else Ao(e,p,ie[W]),p+=fe[W]}return Ao(e,p,ie[256]),p+fe[256]},Nx=new hh([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cm=new Tr(0),Sx=function(r,e,t,n,s,i){var a=i.z||r.length,l=new Tr(n+a+5*(1+Math.ceil(a/7e3))+s),c=l.subarray(n,l.length-s),h=i.l,p=(i.r||0)&7;if(e){p&&(c[0]=i.r>>3);for(var g=Nx[e-1],y=g>>13,m=g&8191,_=(1<<t)-1,w=i.p||new nn(32768),N=i.h||new nn(_+1),x=Math.ceil(t/3),A=2*x,T=function(ze){return(r[ze]^r[ze+1]<<x^r[ze+2]<<A)&_},z=new hh(25e3),G=new nn(288),te=new nn(32),V=0,E=0,ne=i.i||0,re=0,I=i.w||0,F=0;ne+2<a;++ne){var H=T(ne),B=ne&32767,oe=N[H];if(w[B]=oe,N[H]=B,I<=ne){var ie=a-ne;if((V>7e3||re>24576)&&(ie>423||!h)){p=Rf(r,c,0,z,G,te,E,re,F,ne-F,p),re=V=E=0,F=ne;for(var fe=0;fe<286;++fe)G[fe]=0;for(var fe=0;fe<30;++fe)te[fe]=0}var Y=2,he=0,pe=m,Ae=B-oe&32767;if(ie>2&&H==T(ne-Ae))for(var P=Math.min(y,ie)-1,D=Math.min(32767,ne),U=Math.min(258,ie);Ae<=D&&--pe&&B!=oe;){if(r[ne+Y]==r[ne+Y-Ae]){for(var W=0;W<U&&r[ne+W]==r[ne+W-Ae];++W);if(W>Y){if(Y=W,he=Ae,W>P)break;for(var J=Math.min(Ae,W-2),Z=0,fe=0;fe<J;++fe){var ae=ne-Ae+fe&32767,ce=w[ae],be=ae-ce&32767;be>Z&&(Z=be,oe=ae)}}}B=oe,oe=w[B],Ae+=B-oe&32767}if(he){z[re++]=268435456|kd[Y]<<18|Tf[he];var ye=kd[Y]&31,Pe=Tf[he]&31;E+=Hc[ye]+Vc[Pe],++G[257+ye],++te[Pe],I=ne+Y,++V}else z[re++]=r[ne],++G[r[ne]]}}for(ne=Math.max(ne,I);ne<a;++ne)z[re++]=r[ne],++G[r[ne]];p=Rf(r,c,h,z,G,te,E,re,F,ne-F,p),h||(i.r=p&7|c[p/8|0]<<3,p-=7,i.h=N,i.p=w,i.i=ne,i.w=I)}else{for(var ne=i.w||0;ne<a+h;ne+=65535){var Le=ne+65535;Le>=a&&(c[p/8|0]=h,Le=a),p=lm(c,p+1,r.subarray(ne,Le))}i.i=a}return om(l,0,n+fh(p)+s)},um=function(){var r=1,e=0;return{p:function(t){for(var n=r,s=e,i=t.length|0,a=0;a!=i;){for(var l=Math.min(a+2655,i);a<l;++a)s+=n+=t[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}r=n,e=s},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},jx=function(r,e,t,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new Tr(i.length+r.length);a.set(i),a.set(r,i.length),r=a,s.w=i.length}return Sx(r,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,s)},dm=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},Ax=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var s=um();s.p(e.dictionary),dm(r,2,s.d())}},Px=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&Cn(6,"invalid zlib data"),(r[1]>>5&1)==+!e&&Cn(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function Ed(r,e){e||(e={});var t=um();t.p(r);var n=jx(r,e,e.dictionary?6:2,4);return Ax(n,e),dm(n,n.length-4,t.d()),n}function kx(r,e){return _x(r.subarray(Px(r,e),-4),{i:2},e,e)}var Lx=typeof TextDecoder<"u"&&new TextDecoder,Cx=0;try{Lx.decode(cm,{stream:!0}),Cx=1}catch{}var Qe=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Qu(){Qe.console&&typeof Qe.console.log=="function"&&Qe.console.log.apply(Qe.console,arguments)}var Ot={log:Qu,warn:function(r){Qe.console&&(typeof Qe.console.warn=="function"?Qe.console.warn.apply(Qe.console,arguments):Qu.call(null,arguments))},error:function(r){Qe.console&&(typeof Qe.console.error=="function"?Qe.console.error.apply(Qe.console,arguments):Qu(r))}};function Zu(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){pi(n.response,e,t)},n.onerror=function(){Ot.error("could not download file")},n.send()}function Of(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function ec(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Fo,Td,pi=Qe.saveAs||((typeof window>"u"?"undefined":Ct(window))!=="object"||window!==Qe?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=Qe.URL||Qe.webkitURL,s=document.createElement("a");e=e||r.name||"download",s.download=e,s.rel="noopener",typeof r=="string"?(s.href=r,s.origin!==location.origin?Of(s.href)?Zu(r,e,t):ec(s,s.target="_blank"):ec(s)):(s.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){ec(s)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(Of(r))Zu(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){ec(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Ct(i)!=="object"&&(Ot.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return Zu(r,e,t);var s=r.type==="application/octet-stream",i=/constructor/i.test(Qe.HTMLElement)||Qe.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Ct(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var p=l.result;p=a?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},l.readAsDataURL(r)}else{var c=Qe.URL||Qe.webkitURL,h=c.createObjectURL(r);n?n.location=h:location.href=h,n=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hm(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<t.length;n++){var s=t[n].re,i=t[n].process,a=s.exec(r);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+l+c+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ed(r,e){var t=r[0],n=r[1],s=r[2],i=r[3];t=Pr(t,n,s,i,e[0],7,-680876936),i=Pr(i,t,n,s,e[1],12,-389564586),s=Pr(s,i,t,n,e[2],17,606105819),n=Pr(n,s,i,t,e[3],22,-1044525330),t=Pr(t,n,s,i,e[4],7,-176418897),i=Pr(i,t,n,s,e[5],12,1200080426),s=Pr(s,i,t,n,e[6],17,-1473231341),n=Pr(n,s,i,t,e[7],22,-45705983),t=Pr(t,n,s,i,e[8],7,1770035416),i=Pr(i,t,n,s,e[9],12,-1958414417),s=Pr(s,i,t,n,e[10],17,-42063),n=Pr(n,s,i,t,e[11],22,-1990404162),t=Pr(t,n,s,i,e[12],7,1804603682),i=Pr(i,t,n,s,e[13],12,-40341101),s=Pr(s,i,t,n,e[14],17,-1502002290),t=kr(t,n=Pr(n,s,i,t,e[15],22,1236535329),s,i,e[1],5,-165796510),i=kr(i,t,n,s,e[6],9,-1069501632),s=kr(s,i,t,n,e[11],14,643717713),n=kr(n,s,i,t,e[0],20,-373897302),t=kr(t,n,s,i,e[5],5,-701558691),i=kr(i,t,n,s,e[10],9,38016083),s=kr(s,i,t,n,e[15],14,-660478335),n=kr(n,s,i,t,e[4],20,-405537848),t=kr(t,n,s,i,e[9],5,568446438),i=kr(i,t,n,s,e[14],9,-1019803690),s=kr(s,i,t,n,e[3],14,-187363961),n=kr(n,s,i,t,e[8],20,1163531501),t=kr(t,n,s,i,e[13],5,-1444681467),i=kr(i,t,n,s,e[2],9,-51403784),s=kr(s,i,t,n,e[7],14,1735328473),t=Lr(t,n=kr(n,s,i,t,e[12],20,-1926607734),s,i,e[5],4,-378558),i=Lr(i,t,n,s,e[8],11,-2022574463),s=Lr(s,i,t,n,e[11],16,1839030562),n=Lr(n,s,i,t,e[14],23,-35309556),t=Lr(t,n,s,i,e[1],4,-1530992060),i=Lr(i,t,n,s,e[4],11,1272893353),s=Lr(s,i,t,n,e[7],16,-155497632),n=Lr(n,s,i,t,e[10],23,-1094730640),t=Lr(t,n,s,i,e[13],4,681279174),i=Lr(i,t,n,s,e[0],11,-358537222),s=Lr(s,i,t,n,e[3],16,-722521979),n=Lr(n,s,i,t,e[6],23,76029189),t=Lr(t,n,s,i,e[9],4,-640364487),i=Lr(i,t,n,s,e[12],11,-421815835),s=Lr(s,i,t,n,e[15],16,530742520),t=Cr(t,n=Lr(n,s,i,t,e[2],23,-995338651),s,i,e[0],6,-198630844),i=Cr(i,t,n,s,e[7],10,1126891415),s=Cr(s,i,t,n,e[14],15,-1416354905),n=Cr(n,s,i,t,e[5],21,-57434055),t=Cr(t,n,s,i,e[12],6,1700485571),i=Cr(i,t,n,s,e[3],10,-1894986606),s=Cr(s,i,t,n,e[10],15,-1051523),n=Cr(n,s,i,t,e[1],21,-2054922799),t=Cr(t,n,s,i,e[8],6,1873313359),i=Cr(i,t,n,s,e[15],10,-30611744),s=Cr(s,i,t,n,e[6],15,-1560198380),n=Cr(n,s,i,t,e[13],21,1309151649),t=Cr(t,n,s,i,e[4],6,-145523070),i=Cr(i,t,n,s,e[11],10,-1120210379),s=Cr(s,i,t,n,e[2],15,718787259),n=Cr(n,s,i,t,e[9],21,-343485551),r[0]=$s(t,r[0]),r[1]=$s(n,r[1]),r[2]=$s(s,r[2]),r[3]=$s(i,r[3])}function Wc(r,e,t,n,s,i){return e=$s($s(e,r),$s(n,i)),$s(e<<s|e>>>32-s,t)}function Pr(r,e,t,n,s,i,a){return Wc(e&t|~e&n,r,e,s,i,a)}function kr(r,e,t,n,s,i,a){return Wc(e&n|t&~n,r,e,s,i,a)}function Lr(r,e,t,n,s,i,a){return Wc(e^t^n,r,e,s,i,a)}function Cr(r,e,t,n,s,i,a){return Wc(t^(e|~n),r,e,s,i,a)}function fm(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)ed(n,Ex(r.substring(e-64,e)));r=r.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)s[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(ed(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,ed(n,s),n}function Ex(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}Fo=Qe.atob.bind(Qe),Td=Qe.btoa.bind(Qe);var Ff="0123456789abcdef".split("");function Tx(r){for(var e="",t=0;t<4;t++)e+=Ff[r>>8*t+4&15]+Ff[r>>8*t&15];return e}function Ix(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function Id(r){return fm(r).map(Ix).join("")}var Rx=function(r){for(var e=0;e<r.length;e++)r[e]=Tx(r[e]);return r.join("")}(fm("hello"))!="5d41402abc4b2a76b9719d911017c592";function $s(r,e){if(Rx){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Rd(r,e){var t,n,s,i;if(r!==t){for(var a=(s=r,i=1+(256/r.length>>0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var h=0;for(c=0;c<256;c++){var p=l[c];h=(h+p+a.charCodeAt(c))%256,l[c]=l[h],l[h]=p}t=r,n=l}else l=n;var g=e.length,y=0,m=0,_="";for(c=0;c<g;c++)m=(m+(p=l[y=(y+1)%256]))%256,l[y]=l[m],l[m]=p,a=l[(l[y]+l[m])%256],_+=String.fromCharCode(e.charCodeAt(c)^a);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Df={print:4,modify:8,copy:16,"annot-forms":32};function pa(r,e,t,n){this.v=1,this.r=2;var s=192;r.forEach(function(l){if(Df.perm!==void 0)throw new Error("Invalid permission: "+l);s+=Df[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=Id(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Rd(this.encryptionKey,this.padding)}function ma(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var s=r.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=r[n]}return e}function Mf(r){if(Ct(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,s){if(s=s||!1,typeof t!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[n,!!s],i},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[t]){var a=e[t][i];try{a[0].apply(r,n)}catch(l){Qe.console&&Ot.error("jsPDF PubSub Error",l.message,l)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function mc(r){if(!(this instanceof mc))return new mc(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function pm(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function gi(r,e,t,n,s){if(!(this instanceof gi))return new gi(r,e,t,n,s);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,pm.call(this,n,s)}function ga(r,e,t,n,s){if(!(this instanceof ga))return new ga(r,e,t,n,s);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,pm.call(this,n,s)}function Xe(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],l=1,c=16,h="S",p=null;Ct(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,s=r.format||s,i=r.compress||r.compressPdf||i,(p=r.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),h=r.defaultPathOperation||"S"),a=r.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",t=(""+(t||"P")).toLowerCase();var g=r.putOnlyUsedFonts||!1,y={},m={internal:{},__private__:{}};m.__private__.PubSub=Mf;var _="1.3",w=m.__private__.getPdfVersion=function(){return _};m.__private__.setPdfVersion=function(f){_=f};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return N};var x=m.__private__.getPageFormat=function(f){return N[f]};s=s||"a4";var A={COMPAT:"compat",ADVANCED:"advanced"},T=A.COMPAT;function z(){this.saveGraphicsState(),$(new Ke(De,0,0,-De,0,ys()*De).toString()+" cm"),this.setFontSize(this.getFontSize()/De),h="n",T=A.ADVANCED}function G(){this.restoreGraphicsState(),h="S",T=A.COMPAT}var te=m.__private__.combineFontStyleAndFontWeight=function(f,j){if(f=="bold"&&j=="normal"||f=="bold"&&j==400||f=="normal"&&j=="italic"||f=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(f=j==400||j==="normal"?f==="italic"?"italic":"normal":j!=700&&j!=="bold"||f!=="normal"?(j==700?"bold":j)+""+f:"bold"),f};m.advancedAPI=function(f){var j=T===A.COMPAT;return j&&z.call(this),typeof f!="function"||(f(this),j&&G.call(this)),this},m.compatAPI=function(f){var j=T===A.ADVANCED;return j&&G.call(this),typeof f!="function"||(f(this),j&&z.call(this)),this},m.isAdvancedAPI=function(){return T===A.ADVANCED};var V,E=function(f){if(T!==A.ADVANCED)throw new Error(f+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ne=m.roundToPrecision=m.__private__.roundToPrecision=function(f,j){var q=e||j;if(isNaN(f)||isNaN(q))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return f.toFixed(q).replace(/0+$/,"")};V=m.hpf=m.__private__.hpf=typeof c=="number"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(f,c)}:c==="smart"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(f,f>-1&&f<1?16:5)}:function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(f,16)};var re=m.f2=m.__private__.f2=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f2");return ne(f,2)},I=m.__private__.f3=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f3");return ne(f,3)},F=m.scale=m.__private__.scale=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.scale");return T===A.COMPAT?f*De:T===A.ADVANCED?f:void 0},H=function(f){return T===A.COMPAT?ys()-f:T===A.ADVANCED?f:void 0},B=function(f){return F(H(f))};m.__private__.setPrecision=m.setPrecision=function(f){typeof parseInt(f,10)=="number"&&(e=parseInt(f,10))};var oe,ie="00000000000000000000000000000000",fe=m.__private__.getFileId=function(){return ie},Y=m.__private__.setFileId=function(f){return ie=f!==void 0&&/^[a-fA-F0-9]{32}$/.test(f)?f.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Sr=new pa(p.userPermissions,p.userPassword,p.ownerPassword,ie)),ie};m.setFileId=function(f){return Y(f),this},m.getFileId=function(){return fe()};var he=m.__private__.convertDateToPDFDate=function(f){var j=f.getTimezoneOffset(),q=j<0?"+":"-",K=Math.floor(Math.abs(j/60)),le=Math.abs(j%60),ve=[q,U(K),"'",U(le),"'"].join("");return["D:",f.getFullYear(),U(f.getMonth()+1),U(f.getDate()),U(f.getHours()),U(f.getMinutes()),U(f.getSeconds()),ve].join("")},pe=m.__private__.convertPDFDateToDate=function(f){var j=parseInt(f.substr(2,4),10),q=parseInt(f.substr(6,2),10)-1,K=parseInt(f.substr(8,2),10),le=parseInt(f.substr(10,2),10),ve=parseInt(f.substr(12,2),10),ke=parseInt(f.substr(14,2),10);return new Date(j,q,K,le,ve,ke,0)},Ae=m.__private__.setCreationDate=function(f){var j;if(f===void 0&&(f=new Date),f instanceof Date)j=he(f);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(f))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=f}return oe=j},P=m.__private__.getCreationDate=function(f){var j=oe;return f==="jsDate"&&(j=pe(oe)),j};m.setCreationDate=function(f){return Ae(f),this},m.getCreationDate=function(f){return P(f)};var D,U=m.__private__.padd2=function(f){return("0"+parseInt(f)).slice(-2)},W=m.__private__.padd2Hex=function(f){return("00"+(f=f.toString())).substr(f.length)},J=0,Z=[],ae=[],ce=0,be=[],ye=[],Pe=!1,Le=ae,ze=function(){J=0,ce=0,ae=[],Z=[],be=[],rs=ir(),vn=ir()};m.__private__.setCustomOutputDestination=function(f){Pe=!0,Le=f};var ge=function(f){Pe||(Le=f)};m.__private__.resetCustomOutputDestination=function(){Pe=!1,Le=ae};var $=m.__private__.out=function(f){return f=f.toString(),ce+=f.length+1,Le.push(f),Le},Je=m.__private__.write=function(f){return $(arguments.length===1?f.toString():Array.prototype.join.call(arguments," "))},$e=m.__private__.getArrayBuffer=function(f){for(var j=f.length,q=new ArrayBuffer(j),K=new Uint8Array(q);j--;)K[j]=f.charCodeAt(j);return q},Se=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Se};var Ce=r.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(f){return Ce=T===A.ADVANCED?f/De:f,this};var Fe,Ie=m.__private__.getFontSize=m.getFontSize=function(){return T===A.COMPAT?Ce:Ce*De},He=r.R2L||!1;m.__private__.setR2L=m.setR2L=function(f){return He=f,this},m.__private__.getR2L=m.getR2L=function(){return He};var Ze,rt=m.__private__.setZoomMode=function(f){var j=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(f))Fe=f;else if(isNaN(f)){if(j.indexOf(f)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+f+'" is not recognized.');Fe=f}else Fe=parseInt(f,10)};m.__private__.getZoomMode=function(){return Fe};var at,ct=m.__private__.setPageMode=function(f){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(f)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+f+'" is not recognized.');Ze=f};m.__private__.getPageMode=function(){return Ze};var Nt=m.__private__.setLayoutMode=function(f){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(f)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+f+'" is not recognized.');at=f};m.__private__.getLayoutMode=function(){return at},m.__private__.setDisplayMode=m.setDisplayMode=function(f,j,q){return rt(f),Nt(j),ct(q),this};var We={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(f){if(Object.keys(We).indexOf(f)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return We[f]},m.__private__.getDocumentProperties=function(){return We},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(f){for(var j in We)We.hasOwnProperty(j)&&f[j]&&(We[j]=f[j]);return this},m.__private__.setDocumentProperty=function(f,j){if(Object.keys(We).indexOf(f)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return We[f]=j};var ut,De,cr,gt,Jr,St={},yt={},sn=[],Me={},bt={},Ye={},Gt={},sr=null,It=0,et=[],At=new Mf(m),ei=r.hotfixes||[],vr={},Mn={},Bn=[],Ke=function f(j,q,K,le,ve,ke){if(!(this instanceof f))return new f(j,q,K,le,ve,ke);isNaN(j)&&(j=1),isNaN(q)&&(q=0),isNaN(K)&&(K=0),isNaN(le)&&(le=1),isNaN(ve)&&(ve=0),isNaN(ke)&&(ke=0),this._matrix=[j,q,K,le,ve,ke]};Object.defineProperty(Ke.prototype,"sx",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(Ke.prototype,"shy",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(Ke.prototype,"shx",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(Ke.prototype,"sy",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(Ke.prototype,"tx",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(Ke.prototype,"ty",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(Ke.prototype,"a",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(Ke.prototype,"b",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(Ke.prototype,"c",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(Ke.prototype,"d",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(Ke.prototype,"e",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(Ke.prototype,"f",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(Ke.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ke.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ke.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ke.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ke.prototype.join=function(f){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(V).join(f)},Ke.prototype.multiply=function(f){var j=f.sx*this.sx+f.shy*this.shx,q=f.sx*this.shy+f.shy*this.sy,K=f.shx*this.sx+f.sy*this.shx,le=f.shx*this.shy+f.sy*this.sy,ve=f.tx*this.sx+f.ty*this.shx+this.tx,ke=f.tx*this.shy+f.ty*this.sy+this.ty;return new Ke(j,q,K,le,ve,ke)},Ke.prototype.decompose=function(){var f=this.sx,j=this.shy,q=this.shx,K=this.sy,le=this.tx,ve=this.ty,ke=Math.sqrt(f*f+j*j),Be=(f/=ke)*q+(j/=ke)*K;q-=f*Be,K-=j*Be;var Ve=Math.sqrt(q*q+K*K);return Be/=Ve,f*(K/=Ve)<j*(q/=Ve)&&(f=-f,j=-j,Be=-Be,ke=-ke),{scale:new Ke(ke,0,0,Ve,0,0),translate:new Ke(1,0,0,1,le,ve),rotate:new Ke(f,j,-j,f,0,0),skew:new Ke(1,0,Be,1,0,0)}},Ke.prototype.toString=function(f){return this.join(" ")},Ke.prototype.inversed=function(){var f=this.sx,j=this.shy,q=this.shx,K=this.sy,le=this.tx,ve=this.ty,ke=1/(f*K-j*q),Be=K*ke,Ve=-j*ke,it=-q*ke,nt=f*ke;return new Ke(Be,Ve,it,nt,-Be*le-it*ve,-Ve*le-nt*ve)},Ke.prototype.applyToPoint=function(f){var j=f.x*this.sx+f.y*this.shx+this.tx,q=f.x*this.shy+f.y*this.sy+this.ty;return new Ui(j,q)},Ke.prototype.applyToRectangle=function(f){var j=this.applyToPoint(f),q=this.applyToPoint(new Ui(f.x+f.w,f.y+f.h));return new no(j.x,j.y,q.x-j.x,q.y-j.y)},Ke.prototype.clone=function(){var f=this.sx,j=this.shy,q=this.shx,K=this.sy,le=this.tx,ve=this.ty;return new Ke(f,j,q,K,le,ve)},m.Matrix=Ke;var gn=m.matrixMult=function(f,j){return j.multiply(f)},qn=new Ke(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=qn;var qr=function(f,j){if(!bt[f]){var q=(j instanceof gi?"Sh":"P")+(Object.keys(Me).length+1).toString(10);j.id=q,bt[f]=q,Me[q]=j,At.publish("addPattern",j)}};m.ShadingPattern=gi,m.TilingPattern=ga,m.addShadingPattern=function(f,j){return E("addShadingPattern()"),qr(f,j),this},m.beginTilingPattern=function(f){E("beginTilingPattern()"),bl(f.boundingBox[0],f.boundingBox[1],f.boundingBox[2]-f.boundingBox[0],f.boundingBox[3]-f.boundingBox[1],f.matrix)},m.endTilingPattern=function(f,j){E("endTilingPattern()"),j.stream=ye[D].join(`
`),qr(f,j),At.publish("endTilingPattern",j),Bn.pop().restore()};var ur=m.__private__.newObject=function(){var f=ir();return Yr(f,!0),f},ir=m.__private__.newObjectDeferred=function(){return J++,Z[J]=function(){return ce},J},Yr=function(f,j){return j=typeof j=="boolean"&&j,Z[f]=ce,j&&$(f+" 0 obj"),f},ki=m.__private__.newAdditionalObject=function(){var f={objId:ir(),content:""};return be.push(f),f},rs=ir(),vn=ir(),yn=m.__private__.decodeColorString=function(f){var j=f.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length===5&&(j[4]==="k"||j[4]==="K")&&(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var q=parseFloat(j[0]);j=[q,q,q,"r"]}for(var K="#",le=0;le<3;le++)K+=("0"+Math.floor(255*parseFloat(j[le])).toString(16)).slice(-2);return K},bn=m.__private__.encodeColorString=function(f){var j;typeof f=="string"&&(f={ch1:f});var q=f.ch1,K=f.ch2,le=f.ch3,ve=f.ch4,ke=f.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof q=="string"&&q.charAt(0)!=="#"){var Be=new hm(q);if(Be.ok)q=Be.toHex();else if(!/^\d*\.?\d*$/.test(q))throw new Error('Invalid color "'+q+'" passed to jsPDF.encodeColorString.')}if(typeof q=="string"&&/^#[0-9A-Fa-f]{3}$/.test(q)&&(q="#"+q[1]+q[1]+q[2]+q[2]+q[3]+q[3]),typeof q=="string"&&/^#[0-9A-Fa-f]{6}$/.test(q)){var Ve=parseInt(q.substr(1),16);q=Ve>>16&255,K=Ve>>8&255,le=255&Ve}if(K===void 0||ve===void 0&&q===K&&K===le)if(typeof q=="string")j=q+" "+ke[0];else switch(f.precision){case 2:j=re(q/255)+" "+ke[0];break;case 3:default:j=I(q/255)+" "+ke[0]}else if(ve===void 0||Ct(ve)==="object"){if(ve&&!isNaN(ve.a)&&ve.a===0)return j=["1.","1.","1.",ke[1]].join(" ");if(typeof q=="string")j=[q,K,le,ke[1]].join(" ");else switch(f.precision){case 2:j=[re(q/255),re(K/255),re(le/255),ke[1]].join(" ");break;default:case 3:j=[I(q/255),I(K/255),I(le/255),ke[1]].join(" ")}}else if(typeof q=="string")j=[q,K,le,ve,ke[2]].join(" ");else switch(f.precision){case 2:j=[re(q),re(K),re(le),re(ve),ke[2]].join(" ");break;case 3:default:j=[I(q),I(K),I(le),I(ve),ke[2]].join(" ")}return j},Un=m.__private__.getFilters=function(){return a},an=m.__private__.putStream=function(f){var j=(f=f||{}).data||"",q=f.filters||Un(),K=f.alreadyAppliedFilters||[],le=f.addLength1||!1,ve=j.length,ke=f.objectId,Be=function(jr){return jr};if(p!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Be=Sr.encryptor(ke,0));var Ve={};q===!0&&(q=["FlateEncode"]);var it=f.additionalKeyValues||[],nt=(Ve=Xe.API.processDataByFilters!==void 0?Xe.API.processDataByFilters(j,q):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(K)?K.join(" "):K.toString());if(Ve.data.length!==0&&(it.push({key:"Length",value:Ve.data.length}),le===!0&&it.push({key:"Length1",value:ve})),nt.length!=0)if(nt.split("/").length-1==1)it.push({key:"Filter",value:nt});else{it.push({key:"Filter",value:"["+nt+"]"});for(var vt=0;vt<it.length;vt+=1)if(it[vt].key==="DecodeParms"){for(var Ht=[],Kt=0;Kt<Ve.reverseChain.split("/").length-1;Kt+=1)Ht.push("null");Ht.push(it[vt].value),it[vt].value="["+Ht.join(" ")+"]"}}$("<<");for(var ar=0;ar<it.length;ar++)$("/"+it[ar].key+" "+it[ar].value);$(">>"),Ve.data.length!==0&&($("stream"),$(Be(Ve.data)),$("endstream"))},$n=m.__private__.putPage=function(f){var j=f.number,q=f.data,K=f.objId,le=f.contentsObjId;Yr(K,!0),$("<</Type /Page"),$("/Parent "+f.rootDictionaryObjId+" 0 R"),$("/Resources "+f.resourceDictionaryObjId+" 0 R"),$("/MediaBox ["+parseFloat(V(f.mediaBox.bottomLeftX))+" "+parseFloat(V(f.mediaBox.bottomLeftY))+" "+V(f.mediaBox.topRightX)+" "+V(f.mediaBox.topRightY)+"]"),f.cropBox!==null&&$("/CropBox ["+V(f.cropBox.bottomLeftX)+" "+V(f.cropBox.bottomLeftY)+" "+V(f.cropBox.topRightX)+" "+V(f.cropBox.topRightY)+"]"),f.bleedBox!==null&&$("/BleedBox ["+V(f.bleedBox.bottomLeftX)+" "+V(f.bleedBox.bottomLeftY)+" "+V(f.bleedBox.topRightX)+" "+V(f.bleedBox.topRightY)+"]"),f.trimBox!==null&&$("/TrimBox ["+V(f.trimBox.bottomLeftX)+" "+V(f.trimBox.bottomLeftY)+" "+V(f.trimBox.topRightX)+" "+V(f.trimBox.topRightY)+"]"),f.artBox!==null&&$("/ArtBox ["+V(f.artBox.bottomLeftX)+" "+V(f.artBox.bottomLeftY)+" "+V(f.artBox.topRightX)+" "+V(f.artBox.topRightY)+"]"),typeof f.userUnit=="number"&&f.userUnit!==1&&$("/UserUnit "+f.userUnit),At.publish("putPage",{objId:K,pageContext:et[j],pageNumber:j,page:q}),$("/Contents "+le+" 0 R"),$(">>"),$("endobj");var ve=q.join(`
`);return T===A.ADVANCED&&(ve+=`
Q`),Yr(le,!0),an({data:ve,filters:Un(),objectId:le}),$("endobj"),K},ti=m.__private__.putPages=function(){var f,j,q=[];for(f=1;f<=It;f++)et[f].objId=ir(),et[f].contentsObjId=ir();for(f=1;f<=It;f++)q.push($n({number:f,data:ye[f],objId:et[f].objId,contentsObjId:et[f].contentsObjId,mediaBox:et[f].mediaBox,cropBox:et[f].cropBox,bleedBox:et[f].bleedBox,trimBox:et[f].trimBox,artBox:et[f].artBox,userUnit:et[f].userUnit,rootDictionaryObjId:rs,resourceDictionaryObjId:vn}));Yr(rs,!0),$("<</Type /Pages");var K="/Kids [";for(j=0;j<It;j++)K+=q[j]+" 0 R ";$(K+"]"),$("/Count "+It),$(">>"),$("endobj"),At.publish("postPutPages")},Li=function(f){At.publish("putFont",{font:f,out:$,newObject:ur,putStream:an}),f.isAlreadyPutted!==!0&&(f.objectNumber=ur(),$("<<"),$("/Type /Font"),$("/BaseFont /"+ma(f.postScriptName)),$("/Subtype /Type1"),typeof f.encoding=="string"&&$("/Encoding /"+f.encoding),$("/FirstChar 32"),$("/LastChar 255"),$(">>"),$("endobj"))},Ci=function(){for(var f in St)St.hasOwnProperty(f)&&(g===!1||g===!0&&y.hasOwnProperty(f))&&Li(St[f])},Ei=function(f){f.objectNumber=ur();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[V(f.x),V(f.y),V(f.x+f.width),V(f.y+f.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+f.matrix.toString()+"]"});var q=f.pages[1].join(`
`);an({data:q,additionalKeyValues:j,objectId:f.objectNumber}),$("endobj")},Ti=function(){for(var f in vr)vr.hasOwnProperty(f)&&Ei(vr[f])},tl=function(f,j){var q,K=[],le=1/(j-1);for(q=0;q<1;q+=le)K.push(q);if(K.push(1),f[0].offset!=0){var ve={offset:0,color:f[0].color};f.unshift(ve)}if(f[f.length-1].offset!=1){var ke={offset:1,color:f[f.length-1].color};f.push(ke)}for(var Be="",Ve=0,it=0;it<K.length;it++){for(q=K[it];q>f[Ve+1].offset;)Ve++;var nt=f[Ve].offset,vt=(q-nt)/(f[Ve+1].offset-nt),Ht=f[Ve].color,Kt=f[Ve+1].color;Be+=W(Math.round((1-vt)*Ht[0]+vt*Kt[0]).toString(16))+W(Math.round((1-vt)*Ht[1]+vt*Kt[1]).toString(16))+W(Math.round((1-vt)*Ht[2]+vt*Kt[2]).toString(16))}return Be.trim()},Gc=function(f,j){j||(j=21);var q=ur(),K=tl(f.colors,j),le=[];le.push({key:"FunctionType",value:"0"}),le.push({key:"Domain",value:"[0.0 1.0]"}),le.push({key:"Size",value:"["+j+"]"}),le.push({key:"BitsPerSample",value:"8"}),le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),an({data:K,additionalKeyValues:le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:q}),$("endobj"),f.objectNumber=ur(),$("<< /ShadingType "+f.type),$("/ColorSpace /DeviceRGB");var ve="/Coords ["+V(parseFloat(f.coords[0]))+" "+V(parseFloat(f.coords[1]))+" ";f.type===2?ve+=V(parseFloat(f.coords[2]))+" "+V(parseFloat(f.coords[3])):ve+=V(parseFloat(f.coords[2]))+" "+V(parseFloat(f.coords[3]))+" "+V(parseFloat(f.coords[4]))+" "+V(parseFloat(f.coords[5])),$(ve+="]"),f.matrix&&$("/Matrix ["+f.matrix.toString()+"]"),$("/Function "+q+" 0 R"),$("/Extend [true true]"),$(">>"),$("endobj")},Kc=function(f,j){var q=ir(),K=ur();j.push({resourcesOid:q,objectOid:K}),f.objectNumber=K;var le=[];le.push({key:"Type",value:"/Pattern"}),le.push({key:"PatternType",value:"1"}),le.push({key:"PaintType",value:"1"}),le.push({key:"TilingType",value:"1"}),le.push({key:"BBox",value:"["+f.boundingBox.map(V).join(" ")+"]"}),le.push({key:"XStep",value:V(f.xStep)}),le.push({key:"YStep",value:V(f.yStep)}),le.push({key:"Resources",value:q+" 0 R"}),f.matrix&&le.push({key:"Matrix",value:"["+f.matrix.toString()+"]"}),an({data:f.stream,additionalKeyValues:le,objectId:f.objectNumber}),$("endobj")},Ii=function(f){var j;for(j in Me)Me.hasOwnProperty(j)&&(Me[j]instanceof gi?Gc(Me[j]):Me[j]instanceof ga&&Kc(Me[j],f))},rl=function(f){for(var j in f.objectNumber=ur(),$("<<"),f)switch(j){case"opacity":$("/ca "+re(f[j]));break;case"stroke-opacity":$("/CA "+re(f[j]))}$(">>"),$("endobj")},Jc=function(){var f;for(f in Ye)Ye.hasOwnProperty(f)&&rl(Ye[f])},Ga=function(){for(var f in $("/XObject <<"),vr)vr.hasOwnProperty(f)&&vr[f].objectNumber>=0&&$("/"+f+" "+vr[f].objectNumber+" 0 R");At.publish("putXobjectDict"),$(">>")},Yc=function(){Sr.oid=ur(),$("<<"),$("/Filter /Standard"),$("/V "+Sr.v),$("/R "+Sr.r),$("/U <"+Sr.toHexString(Sr.U)+">"),$("/O <"+Sr.toHexString(Sr.O)+">"),$("/P "+Sr.P),$(">>"),$("endobj")},nl=function(){for(var f in $("/Font <<"),St)St.hasOwnProperty(f)&&(g===!1||g===!0&&y.hasOwnProperty(f))&&$("/"+f+" "+St[f].objectNumber+" 0 R");$(">>")},Xc=function(){if(Object.keys(Me).length>0){for(var f in $("/Shading <<"),Me)Me.hasOwnProperty(f)&&Me[f]instanceof gi&&Me[f].objectNumber>=0&&$("/"+f+" "+Me[f].objectNumber+" 0 R");At.publish("putShadingPatternDict"),$(">>")}},Ri=function(f){if(Object.keys(Me).length>0){for(var j in $("/Pattern <<"),Me)Me.hasOwnProperty(j)&&Me[j]instanceof m.TilingPattern&&Me[j].objectNumber>=0&&Me[j].objectNumber<f&&$("/"+j+" "+Me[j].objectNumber+" 0 R");At.publish("putTilingPatternDict"),$(">>")}},Qc=function(){if(Object.keys(Ye).length>0){var f;for(f in $("/ExtGState <<"),Ye)Ye.hasOwnProperty(f)&&Ye[f].objectNumber>=0&&$("/"+f+" "+Ye[f].objectNumber+" 0 R");At.publish("putGStateDict"),$(">>")}},Qt=function(f){Yr(f.resourcesOid,!0),$("<<"),$("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),nl(),Xc(),Ri(f.objectOid),Qc(),Ga(),$(">>"),$("endobj")},sl=function(){var f=[];Ci(),Jc(),Ti(),Ii(f),At.publish("putResources"),f.forEach(Qt),Qt({resourcesOid:vn,objectOid:Number.MAX_SAFE_INTEGER}),At.publish("postPutResources")},il=function(){At.publish("putAdditionalObjects");for(var f=0;f<be.length;f++){var j=be[f];Yr(j.objId,!0),$(j.content),$("endobj")}At.publish("postPutAdditionalObjects")},al=function(f){yt[f.fontName]=yt[f.fontName]||{},yt[f.fontName][f.fontStyle]=f.id},Ka=function(f,j,q,K,le){var ve={id:"F"+(Object.keys(St).length+1).toString(10),postScriptName:f,fontName:j,fontStyle:q,encoding:K,isStandardFont:le||!1,metadata:{}};return At.publish("addFont",{font:ve,instance:this}),St[ve.id]=ve,al(ve),ve.id},Zc=function(f){for(var j=0,q=Se.length;j<q;j++){var K=Ka.call(this,f[j][0],f[j][1],f[j][2],Se[j][3],!0);g===!1&&(y[K]=!0);var le=f[j][0].split("-");al({id:K,fontName:le[0],fontStyle:le[1]||""})}At.publish("addFonts",{fonts:St,dictionary:yt})},wn=function(f){return f.foo=function(){try{return f.apply(this,arguments)}catch(K){var j=K.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var q="Error in function "+j.split(`
`)[0].split("<")[0]+": "+K.message;if(!Qe.console)throw new Error(q);Qe.console.error(q,K),Qe.alert&&alert(q)}},f.foo.bar=f,f.foo},Oi=function(f,j){var q,K,le,ve,ke,Be,Ve,it,nt;if(le=(j=j||{}).sourceEncoding||"Unicode",ke=j.outputEncoding,(j.autoencode||ke)&&St[ut].metadata&&St[ut].metadata[le]&&St[ut].metadata[le].encoding&&(ve=St[ut].metadata[le].encoding,!ke&&St[ut].encoding&&(ke=St[ut].encoding),!ke&&ve.codePages&&(ke=ve.codePages[0]),typeof ke=="string"&&(ke=ve[ke]),ke)){for(Ve=!1,Be=[],q=0,K=f.length;q<K;q++)(it=ke[f.charCodeAt(q)])?Be.push(String.fromCharCode(it)):Be.push(f[q]),Be[q].charCodeAt(0)>>8&&(Ve=!0);f=Be.join("")}for(q=f.length;Ve===void 0&&q!==0;)f.charCodeAt(q-1)>>8&&(Ve=!0),q--;if(!Ve)return f;for(Be=j.noBOM?[]:[254,255],q=0,K=f.length;q<K;q++){if((nt=(it=f.charCodeAt(q))>>8)>>8)throw new Error("Character at position "+q+" of string '"+f+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Be.push(nt),Be.push(it-(nt<<8))}return String.fromCharCode.apply(void 0,Be)},Ur=m.__private__.pdfEscape=m.pdfEscape=function(f,j){return Oi(f,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ja=m.__private__.beginPage=function(f){ye[++It]=[],et[It]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(f[0]),topRightY:Number(f[1])}},ll(It),ge(ye[D])},ol=function(f,j){var q,K,le;switch(t=j||t,typeof f=="string"&&(q=x(f.toLowerCase()),Array.isArray(q)&&(K=q[0],le=q[1])),Array.isArray(f)&&(K=f[0]*De,le=f[1]*De),isNaN(K)&&(K=s[0],le=s[1]),(K>14400||le>14400)&&(Ot.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),K=Math.min(14400,K),le=Math.min(14400,le)),s=[K,le],t.substr(0,1)){case"l":le>K&&(s=[le,K]);break;case"p":K>le&&(s=[le,K])}Ja(s),pl(Za),$(xn),to!==0&&$(to+" J"),ro!==0&&$(ro+" j"),At.publish("addPage",{pageNumber:It})},eu=function(f){f>0&&f<=It&&(ye.splice(f,1),et.splice(f,1),It--,D>It&&(D=It),this.setPage(D))},ll=function(f){f>0&&f<=It&&(D=f)},tu=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return ye.length-1},cl=function(f,j,q){var K,le=void 0;return q=q||{},f=f!==void 0?f:St[ut].fontName,j=j!==void 0?j:St[ut].fontStyle,K=f.toLowerCase(),yt[K]!==void 0&&yt[K][j]!==void 0?le=yt[K][j]:yt[f]!==void 0&&yt[f][j]!==void 0?le=yt[f][j]:q.disableWarning===!1&&Ot.warn("Unable to look up font label for font '"+f+"', '"+j+"'. Refer to getFontList() for available fonts."),le||q.noFallback||(le=yt.times[j])==null&&(le=yt.times.normal),le},ru=m.__private__.putInfo=function(){var f=ur(),j=function(K){return K};for(var q in p!==null&&(j=Sr.encryptor(f,0)),$("<<"),$("/Producer ("+Ur(j("jsPDF "+Xe.version))+")"),We)We.hasOwnProperty(q)&&We[q]&&$("/"+q.substr(0,1).toUpperCase()+q.substr(1)+" ("+Ur(j(We[q]))+")");$("/CreationDate ("+Ur(j(oe))+")"),$(">>"),$("endobj")},Ya=m.__private__.putCatalog=function(f){var j=(f=f||{}).rootDictionaryObjId||rs;switch(ur(),$("<<"),$("/Type /Catalog"),$("/Pages "+j+" 0 R"),Fe||(Fe="fullwidth"),Fe){case"fullwidth":$("/OpenAction [3 0 R /FitH null]");break;case"fullheight":$("/OpenAction [3 0 R /FitV null]");break;case"fullpage":$("/OpenAction [3 0 R /Fit]");break;case"original":$("/OpenAction [3 0 R /XYZ null null 1]");break;default:var q=""+Fe;q.substr(q.length-1)==="%"&&(Fe=parseInt(Fe)/100),typeof Fe=="number"&&$("/OpenAction [3 0 R /XYZ null null "+re(Fe)+"]")}switch(at||(at="continuous"),at){case"continuous":$("/PageLayout /OneColumn");break;case"single":$("/PageLayout /SinglePage");break;case"two":case"twoleft":$("/PageLayout /TwoColumnLeft");break;case"tworight":$("/PageLayout /TwoColumnRight")}Ze&&$("/PageMode /"+Ze),At.publish("putCatalog"),$(">>"),$("endobj")},nu=m.__private__.putTrailer=function(){$("trailer"),$("<<"),$("/Size "+(J+1)),$("/Root "+J+" 0 R"),$("/Info "+(J-1)+" 0 R"),p!==null&&$("/Encrypt "+Sr.oid+" 0 R"),$("/ID [ <"+ie+"> <"+ie+"> ]"),$(">>")},su=m.__private__.putHeader=function(){$("%PDF-"+_),$("%")},iu=m.__private__.putXRef=function(){var f="0000000000";$("xref"),$("0 "+(J+1)),$("0000000000 65535 f ");for(var j=1;j<=J;j++)typeof Z[j]=="function"?$((f+Z[j]()).slice(-10)+" 00000 n "):Z[j]!==void 0?$((f+Z[j]).slice(-10)+" 00000 n "):$("0000000000 00000 n ")},ns=m.__private__.buildDocument=function(){ze(),ge(ae),At.publish("buildDocument"),su(),ti(),il(),sl(),p!==null&&Yc(),ru(),Ya();var f=ce;return iu(),nu(),$("startxref"),$(""+f),$("%%EOF"),ge(ye[D]),ae.join(`
`)},Fi=m.__private__.getBlob=function(f){return new Blob([$e(f)],{type:"application/pdf"})},Di=m.output=m.__private__.output=wn(function(f,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",f){case void 0:return ns();case"save":m.save(j.filename);break;case"arraybuffer":return $e(ns());case"blob":return Fi(ns());case"bloburi":case"bloburl":if(Qe.URL!==void 0&&typeof Qe.URL.createObjectURL=="function")return Qe.URL&&Qe.URL.createObjectURL(Fi(ns()))||void 0;Ot.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var q="",K=ns();try{q=Td(K)}catch{q=Td(unescape(encodeURIComponent(K)))}return"data:application/pdf;filename="+j.filename+";base64,"+q;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qe)==="[object Window]"){var le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(le=j.pdfObjectUrl,ve="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+le+'"'+ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",Be=Qe.open();return Be!==null&&Be.document.write(ke),Be}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qe)==="[object Window]"){var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',it=Qe.open();if(it!==null){it.document.write(Ve);var nt=this;it.document.documentElement.querySelector("#pdfViewer").onload=function(){it.document.title=j.filename,it.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(nt.output("bloburl"))}}return it}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qe)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',Ht=Qe.open();if(Ht!==null&&(Ht.document.write(vt),Ht.document.title=j.filename),Ht||typeof safari>"u")return Ht;break;case"datauri":case"dataurl":return Qe.document.location.href=this.output("datauristring",j);default:return null}}),ul=function(f){return Array.isArray(ei)===!0&&ei.indexOf(f)>-1};switch(n){case"pt":De=1;break;case"mm":De=72/25.4;break;case"cm":De=72/2.54;break;case"in":De=72;break;case"px":De=ul("px_scaling")==1?.75:96/72;break;case"pc":case"em":De=12;break;case"ex":De=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);De=n}var Sr=null;Ae(),Y();var au=function(f){return p!==null?Sr.encryptor(f,0):function(j){return j}},dl=m.__private__.getPageInfo=m.getPageInfo=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:et[f].objId,pageNumber:f,pageContext:et[f]}},tt=m.__private__.getPageInfoByObjId=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in et)if(et[j].objId===f)break;return dl(j)},ou=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:et[D].objId,pageNumber:D,pageContext:et[D]}};m.addPage=function(){return ol.apply(this,arguments),this},m.setPage=function(){return ll.apply(this,arguments),ge.call(this,ye[D]),this},m.insertPage=function(f){return this.addPage(),this.movePage(D,f),this},m.movePage=function(f,j){var q,K;if(f>j){q=ye[f],K=et[f];for(var le=f;le>j;le--)ye[le]=ye[le-1],et[le]=et[le-1];ye[j]=q,et[j]=K,this.setPage(j)}else if(f<j){q=ye[f],K=et[f];for(var ve=f;ve<j;ve++)ye[ve]=ye[ve+1],et[ve]=et[ve+1];ye[j]=q,et[j]=K,this.setPage(j)}return this},m.deletePage=function(){return eu.apply(this,arguments),this},m.__private__.text=m.text=function(f,j,q,K,le){var ve,ke,Be,Ve,it,nt,vt,Ht,Kt,ar=(K=K||{}).scope||this;if(typeof f=="number"&&typeof j=="number"&&(typeof q=="string"||Array.isArray(q))){var jr=q;q=j,j=f,f=jr}if(arguments[3]instanceof Ke?(E("The transform parameter of text() with a Matrix value"),Kt=le):(Be=arguments[4],Ve=arguments[5],Ct(vt=arguments[3])==="object"&&vt!==null||(typeof Be=="string"&&(Ve=Be,Be=null),typeof vt=="string"&&(Ve=vt,vt=null),typeof vt=="number"&&(Be=vt,vt=null),K={flags:vt,angle:Be,align:Ve})),isNaN(j)||isNaN(q)||f==null)throw new Error("Invalid arguments passed to jsPDF.text");if(f.length===0)return ar;var hr="",_n=!1,Xr=typeof K.lineHeightFactor=="number"?K.lineHeightFactor:ni,Vn=ar.internal.scaleFactor;function wl(Dt){return Dt=Dt.split("	").join(Array(K.TabLen||9).join(" ")),Ur(Dt,vt)}function oo(Dt){for(var Mt,er=Dt.concat(),dr=[],ls=er.length;ls--;)typeof(Mt=er.shift())=="string"?dr.push(Mt):Array.isArray(Dt)&&(Mt.length===1||Mt[1]===void 0&&Mt[2]===void 0)?dr.push(Mt[0]):dr.push([Mt[0],Mt[1],Mt[2]]);return dr}function lo(Dt,Mt){var er;if(typeof Dt=="string")er=Mt(Dt)[0];else if(Array.isArray(Dt)){for(var dr,ls,vo=Dt.concat(),Qi=[],jl=vo.length;jl--;)typeof(dr=vo.shift())=="string"?Qi.push(Mt(dr)[0]):Array.isArray(dr)&&typeof dr[0]=="string"&&(ls=Mt(dr[0],dr[1],dr[2]),Qi.push([ls[0],ls[1],ls[2]]));er=Qi}return er}var zi=!1,co=!0;if(typeof f=="string")zi=!0;else if(Array.isArray(f)){var uo=f.concat();ke=[];for(var Hi,yr=uo.length;yr--;)(typeof(Hi=uo.shift())!="string"||Array.isArray(Hi)&&typeof Hi[0]!="string")&&(co=!1);zi=co}if(zi===!1)throw new Error('Type of text must be string or Array. "'+f+'" is not recognized.');typeof f=="string"&&(f=f.match(/[\r?\n]/)?f.split(/\r\n|\r|\n/g):[f]);var Vi=Ce/ar.internal.scaleFactor,Wi=Vi*(Xr-1);switch(K.baseline){case"bottom":q-=Wi;break;case"top":q+=Vi-Wi;break;case"hanging":q+=Vi-2*Wi;break;case"middle":q+=Vi/2-Wi}if((nt=K.maxWidth||0)>0&&(typeof f=="string"?f=ar.splitTextToSize(f,nt):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(Dt,Mt){return Dt.concat(ar.splitTextToSize(Mt,nt))},[]))),ve={text:f,x:j,y:q,options:K,mutex:{pdfEscape:Ur,activeFontKey:ut,fonts:St,activeFontSize:Ce}},At.publish("preProcessText",ve),f=ve.text,Be=(K=ve.options).angle,!(Kt instanceof Ke)&&Be&&typeof Be=="number"){Be*=Math.PI/180,K.rotationDirection===0&&(Be=-Be),T===A.ADVANCED&&(Be=-Be);var Gi=Math.cos(Be),ho=Math.sin(Be);Kt=new Ke(Gi,ho,-ho,Gi,0,0)}else Be&&Be instanceof Ke&&(Kt=Be);T!==A.ADVANCED||Kt||(Kt=qn),(it=K.charSpace||qi)!==void 0&&(hr+=V(F(it))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ht=K.horizontalScale)!==void 0&&(hr+=V(100*Ht)+` Tz
`),K.lang;var $r=-1,vu=K.renderingMode!==void 0?K.renderingMode:K.stroke,fo=ar.internal.getCurrentPageInfo().pageContext;switch(vu){case 0:case!1:case"fill":$r=0;break;case 1:case!0:case"stroke":$r=1;break;case 2:case"fillThenStroke":$r=2;break;case 3:case"invisible":$r=3;break;case 4:case"fillAndAddForClipping":$r=4;break;case 5:case"strokeAndAddPathForClipping":$r=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$r=6;break;case 7:case"addToPathForClipping":$r=7}var xl=fo.usedRenderingMode!==void 0?fo.usedRenderingMode:-1;$r!==-1?hr+=$r+` Tr
`:xl!==-1&&(hr+=`0 Tr
`),$r!==-1&&(fo.usedRenderingMode=$r),Ve=K.align||"left";var on,Ki=Ce*Xr,_l=ar.internal.pageSize.getWidth(),Nl=St[ut];it=K.charSpace||qi,nt=K.maxWidth||0,vt=Object.assign({autoencode:!0,noBOM:!0},K.flags);var bs=[],ai=function(Dt){return ar.getStringUnitWidth(Dt,{font:Nl,charSpace:it,fontSize:Ce,doKerning:!1})*Ce/Vn};if(Object.prototype.toString.call(f)==="[object Array]"){var zr;ke=oo(f),Ve!=="left"&&(on=ke.map(ai));var Ir,ws=0;if(Ve==="right"){j-=on[0],f=[],yr=ke.length;for(var is=0;is<yr;is++)is===0?(Ir=Hn(j),zr=ss(q)):(Ir=F(ws-on[is]),zr=-Ki),f.push([ke[is],Ir,zr]),ws=on[is]}else if(Ve==="center"){j-=on[0]/2,f=[],yr=ke.length;for(var as=0;as<yr;as++)as===0?(Ir=Hn(j),zr=ss(q)):(Ir=F((ws-on[as])/2),zr=-Ki),f.push([ke[as],Ir,zr]),ws=on[as]}else if(Ve==="left"){f=[],yr=ke.length;for(var Ji=0;Ji<yr;Ji++)f.push(ke[Ji])}else if(Ve==="justify"&&Nl.encoding==="Identity-H"){f=[],yr=ke.length,nt=nt!==0?nt:_l;for(var os=0,Zt=0;Zt<yr;Zt++)if(zr=Zt===0?ss(q):-Ki,Ir=Zt===0?Hn(j):os,Zt<yr-1){var po=F((nt-on[Zt])/(ke[Zt].split(" ").length-1)),Rr=ke[Zt].split(" ");f.push([Rr[0]+" ",Ir,zr]),os=0;for(var ln=1;ln<Rr.length;ln++){var Yi=(ai(Rr[ln-1]+" "+Rr[ln])-ai(Rr[ln]))*Vn+po;ln==Rr.length-1?f.push([Rr[ln],Yi,0]):f.push([Rr[ln]+" ",Yi,0]),os-=Yi}}else f.push([ke[Zt],Ir,zr]);f.push(["",os,0])}else{if(Ve!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(f=[],yr=ke.length,nt=nt!==0?nt:_l,Zt=0;Zt<yr;Zt++)zr=Zt===0?ss(q):-Ki,Ir=Zt===0?Hn(j):0,Zt<yr-1?bs.push(V(F((nt-on[Zt])/(ke[Zt].split(" ").length-1)))):bs.push(0),f.push([ke[Zt],Ir,zr])}}var Sl=typeof K.R2L=="boolean"?K.R2L:He;Sl===!0&&(f=lo(f,function(Dt,Mt,er){return[Dt.split("").reverse().join(""),Mt,er]})),ve={text:f,x:j,y:q,options:K,mutex:{pdfEscape:Ur,activeFontKey:ut,fonts:St,activeFontSize:Ce}},At.publish("postProcessText",ve),f=ve.text,_n=ve.mutex.isHex||!1;var mo=St[ut].encoding;mo!=="WinAnsiEncoding"&&mo!=="StandardEncoding"||(f=lo(f,function(Dt,Mt,er){return[wl(Dt),Mt,er]})),ke=oo(f),f=[];for(var oi,li,xs,ci=0,Xi=1,ui=Array.isArray(ke[0])?Xi:ci,_s="",go=function(Dt,Mt,er){var dr="";return er instanceof Ke?(er=typeof K.angle=="number"?gn(er,new Ke(1,0,0,1,Dt,Mt)):gn(new Ke(1,0,0,1,Dt,Mt),er),T===A.ADVANCED&&(er=gn(new Ke(1,0,0,-1,0,0),er)),dr=er.join(" ")+` Tm
`):dr=V(Dt)+" "+V(Mt)+` Td
`,dr},cn=0;cn<ke.length;cn++){switch(_s="",ui){case Xi:xs=(_n?"<":"(")+ke[cn][0]+(_n?">":")"),oi=parseFloat(ke[cn][1]),li=parseFloat(ke[cn][2]);break;case ci:xs=(_n?"<":"(")+ke[cn]+(_n?">":")"),oi=Hn(j),li=ss(q)}bs!==void 0&&bs[cn]!==void 0&&(_s=bs[cn]+` Tw
`),cn===0?f.push(_s+go(oi,li,Kt)+xs):ui===ci?f.push(_s+xs):ui===Xi&&f.push(_s+go(oi,li,Kt)+xs)}f=ui===ci?f.join(` Tj
T* `):f.join(` Tj
`),f+=` Tj
`;var un=`BT
/`;return un+=ut+" "+Ce+` Tf
`,un+=V(Ce*Xr)+` TL
`,un+=si+`
`,un+=hr,un+=f,$(un+="ET"),y[ut]=!0,ar};var lu=m.__private__.clip=m.clip=function(f){return $(f==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return lu("evenodd")},m.__private__.discardPath=m.discardPath=function(){return $("n"),this};var zn=m.__private__.isValidStyle=function(f){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(f)!==-1&&(j=!0),j};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(f){return zn(f)&&(h=f),this};var hl=m.__private__.getStyle=m.getStyle=function(f){var j=h;switch(f){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=f}return j},fl=m.close=function(){return $("h"),this};m.stroke=function(){return $("S"),this},m.fill=function(f){return Mi("f",f),this},m.fillEvenOdd=function(f){return Mi("f*",f),this},m.fillStroke=function(f){return Mi("B",f),this},m.fillStrokeEvenOdd=function(f){return Mi("B*",f),this};var Mi=function(f,j){Ct(j)==="object"?uu(j,f):$(f)},Xa=function(f){f===null||T===A.ADVANCED&&f===void 0||(f=hl(f),$(f))};function cu(f,j,q,K,le){var ve=new ga(j||this.boundingBox,q||this.xStep,K||this.yStep,this.gState,le||this.matrix);ve.stream=this.stream;var ke=f+"$$"+this.cloneIndex+++"$$";return qr(ke,ve),ve}var uu=function(f,j){var q=bt[f.key],K=Me[q];if(K instanceof gi)$("q"),$(du(j)),K.gState&&m.setGState(K.gState),$(f.matrix.toString()+" cm"),$("/"+q+" sh"),$("Q");else if(K instanceof ga){var le=new Ke(1,0,0,-1,0,ys());f.matrix&&(le=le.multiply(f.matrix||qn),q=cu.call(K,f.key,f.boundingBox,f.xStep,f.yStep,le).id),$("q"),$("/Pattern cs"),$("/"+q+" scn"),K.gState&&m.setGState(K.gState),$(j),$("Q")}},du=function(f){switch(f){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Qa=m.moveTo=function(f,j){return $(V(F(f))+" "+V(B(j))+" m"),this},ri=m.lineTo=function(f,j){return $(V(F(f))+" "+V(B(j))+" l"),this},gs=m.curveTo=function(f,j,q,K,le,ve){return $([V(F(f)),V(B(j)),V(F(q)),V(B(K)),V(F(le)),V(B(ve)),"c"].join(" ")),this};m.__private__.line=m.line=function(f,j,q,K,le){if(isNaN(f)||isNaN(j)||isNaN(q)||isNaN(K)||!zn(le))throw new Error("Invalid arguments passed to jsPDF.line");return T===A.COMPAT?this.lines([[q-f,K-j]],f,j,[1,1],le||"S"):this.lines([[q-f,K-j]],f,j,[1,1]).stroke()},m.__private__.lines=m.lines=function(f,j,q,K,le,ve){var ke,Be,Ve,it,nt,vt,Ht,Kt,ar,jr,hr,_n;if(typeof f=="number"&&(_n=q,q=j,j=f,f=_n),K=K||[1,1],ve=ve||!1,isNaN(j)||isNaN(q)||!Array.isArray(f)||!Array.isArray(K)||!zn(le)||typeof ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Qa(j,q),ke=K[0],Be=K[1],it=f.length,jr=j,hr=q,Ve=0;Ve<it;Ve++)(nt=f[Ve]).length===2?(jr=nt[0]*ke+jr,hr=nt[1]*Be+hr,ri(jr,hr)):(vt=nt[0]*ke+jr,Ht=nt[1]*Be+hr,Kt=nt[2]*ke+jr,ar=nt[3]*Be+hr,jr=nt[4]*ke+jr,hr=nt[5]*Be+hr,gs(vt,Ht,Kt,ar,jr,hr));return ve&&fl(),Xa(le),this},m.path=function(f){for(var j=0;j<f.length;j++){var q=f[j],K=q.c;switch(q.op){case"m":Qa(K[0],K[1]);break;case"l":ri(K[0],K[1]);break;case"c":gs.apply(this,K);break;case"h":fl()}}return this},m.__private__.rect=m.rect=function(f,j,q,K,le){if(isNaN(f)||isNaN(j)||isNaN(q)||isNaN(K)||!zn(le))throw new Error("Invalid arguments passed to jsPDF.rect");return T===A.COMPAT&&(K=-K),$([V(F(f)),V(B(j)),V(F(q)),V(F(K)),"re"].join(" ")),Xa(le),this},m.__private__.triangle=m.triangle=function(f,j,q,K,le,ve,ke){if(isNaN(f)||isNaN(j)||isNaN(q)||isNaN(K)||isNaN(le)||isNaN(ve)||!zn(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[q-f,K-j],[le-q,ve-K],[f-le,j-ve]],f,j,[1,1],ke,!0),this},m.__private__.roundedRect=m.roundedRect=function(f,j,q,K,le,ve,ke){if(isNaN(f)||isNaN(j)||isNaN(q)||isNaN(K)||isNaN(le)||isNaN(ve)||!zn(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Be=4/3*(Math.SQRT2-1);return le=Math.min(le,.5*q),ve=Math.min(ve,.5*K),this.lines([[q-2*le,0],[le*Be,0,le,ve-ve*Be,le,ve],[0,K-2*ve],[0,ve*Be,-le*Be,ve,-le,ve],[2*le-q,0],[-le*Be,0,-le,-ve*Be,-le,-ve],[0,2*ve-K],[0,-ve*Be,le*Be,-ve,le,-ve]],f+le,j,[1,1],ke,!0),this},m.__private__.ellipse=m.ellipse=function(f,j,q,K,le){if(isNaN(f)||isNaN(j)||isNaN(q)||isNaN(K)||!zn(le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ve=4/3*(Math.SQRT2-1)*q,ke=4/3*(Math.SQRT2-1)*K;return Qa(f+q,j),gs(f+q,j-ke,f+ve,j-K,f,j-K),gs(f-ve,j-K,f-q,j-ke,f-q,j),gs(f-q,j+ke,f-ve,j+K,f,j+K),gs(f+ve,j+K,f+q,j+ke,f+q,j),Xa(le),this},m.__private__.circle=m.circle=function(f,j,q,K){if(isNaN(f)||isNaN(j)||isNaN(q)||!zn(K))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(f,j,q,q,K)},m.setFont=function(f,j,q){return q&&(j=te(j,q)),ut=cl(f,j,{disableWarning:!1}),this};var hu=m.__private__.getFont=m.getFont=function(){return St[cl.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var f,j,q={};for(f in yt)if(yt.hasOwnProperty(f))for(j in q[f]=[],yt[f])yt[f].hasOwnProperty(j)&&q[f].push(j);return q},m.addFont=function(f,j,q,K,le){var ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ve.indexOf(arguments[3])!==-1?le=arguments[3]:arguments[3]&&ve.indexOf(arguments[3])==-1&&(q=te(q,K)),le=le||"Identity-H",Ka.call(this,f,j,q,le)};var ni,Za=r.lineWidth||.200025,Bi=m.__private__.getLineWidth=m.getLineWidth=function(){return Za},pl=m.__private__.setLineWidth=m.setLineWidth=function(f){return Za=f,$(V(F(f))+" w"),this};m.__private__.setLineDash=Xe.API.setLineDash=Xe.API.setLineDashPattern=function(f,j){if(f=f||[],j=j||0,isNaN(j)||!Array.isArray(f))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return f=f.map(function(q){return V(F(q))}).join(" "),j=V(F(j)),$("["+f+"] "+j+" d"),this};var ml=m.__private__.getLineHeight=m.getLineHeight=function(){return Ce*ni};m.__private__.getLineHeight=m.getLineHeight=function(){return Ce*ni};var gl=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(f){return typeof(f=f||1.15)=="number"&&(ni=f),this},vl=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return ni};gl(r.lineHeight);var Hn=m.__private__.getHorizontalCoordinate=function(f){return F(f)},ss=m.__private__.getVerticalCoordinate=function(f){return T===A.ADVANCED?f:et[D].mediaBox.topRightY-et[D].mediaBox.bottomLeftY-F(f)},fu=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(f){return V(Hn(f))},vs=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(f){return V(ss(f))},xn=r.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return yn(xn)},m.__private__.setStrokeColor=m.setDrawColor=function(f,j,q,K){return xn=bn({ch1:f,ch2:j,ch3:q,ch4:K,pdfColorType:"draw",precision:2}),$(xn),this};var eo=r.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return yn(eo)},m.__private__.setFillColor=m.setFillColor=function(f,j,q,K){return eo=bn({ch1:f,ch2:j,ch3:q,ch4:K,pdfColorType:"fill",precision:2}),$(eo),this};var si=r.textColor||"0 g",pu=m.__private__.getTextColor=m.getTextColor=function(){return yn(si)};m.__private__.setTextColor=m.setTextColor=function(f,j,q,K){return si=bn({ch1:f,ch2:j,ch3:q,ch4:K,pdfColorType:"text",precision:3}),this};var qi=r.charSpace,mu=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(qi||0)};m.__private__.setCharSpace=m.setCharSpace=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return qi=f,this};var to=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(f){var j=m.CapJoinStyles[f];if(j===void 0)throw new Error("Line cap style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return to=j,$(j+" J"),this};var ro=0;m.__private__.setLineJoin=m.setLineJoin=function(f){var j=m.CapJoinStyles[f];if(j===void 0)throw new Error("Line join style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ro=j,$(j+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(f){if(f=f||0,isNaN(f))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return $(V(F(f))+" M"),this},m.GState=mc,m.setGState=function(f){(f=typeof f=="string"?Ye[Gt[f]]:yl(null,f)).equals(sr)||($("/"+f.id+" gs"),sr=f)};var yl=function(f,j){if(!f||!Gt[f]){var q=!1;for(var K in Ye)if(Ye.hasOwnProperty(K)&&Ye[K].equals(j)){q=!0;break}if(q)j=Ye[K];else{var le="GS"+(Object.keys(Ye).length+1).toString(10);Ye[le]=j,j.id=le}return f&&(Gt[f]=j.id),At.publish("addGState",j),j}};m.addGState=function(f,j){return yl(f,j),this},m.saveGraphicsState=function(){return $("q"),sn.push({key:ut,size:Ce,color:si}),this},m.restoreGraphicsState=function(){$("Q");var f=sn.pop();return ut=f.key,Ce=f.size,si=f.color,sr=null,this},m.setCurrentTransformationMatrix=function(f){return $(f.toString()+" cm"),this},m.comment=function(f){return $("#"+f),this};var Ui=function(f,j){var q=f||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return q},set:function(ve){isNaN(ve)||(q=parseFloat(ve))}});var K=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return K},set:function(ve){isNaN(ve)||(K=parseFloat(ve))}});var le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return le},set:function(ve){le=ve.toString()}}),this},no=function(f,j,q,K){Ui.call(this,f,j),this.type="rect";var le=q||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return le},set:function(ke){isNaN(ke)||(le=parseFloat(ke))}});var ve=K||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ve},set:function(ke){isNaN(ke)||(ve=parseFloat(ke))}}),this},so=function(){this.page=It,this.currentPage=D,this.pages=ye.slice(0),this.pagesContext=et.slice(0),this.x=cr,this.y=gt,this.matrix=Jr,this.width=ii(D),this.height=ys(D),this.outputDestination=Le,this.id="",this.objectNumber=-1};so.prototype.restore=function(){It=this.page,D=this.currentPage,et=this.pagesContext,ye=this.pages,cr=this.x,gt=this.y,Jr=this.matrix,io(D,this.width),ao(D,this.height),Le=this.outputDestination};var bl=function(f,j,q,K,le){Bn.push(new so),It=D=0,ye=[],cr=f,gt=j,Jr=le,Ja([q,K])},gu=function(f){if(Mn[f])Bn.pop().restore();else{var j=new so,q="Xo"+(Object.keys(vr).length+1).toString(10);j.id=q,Mn[f]=q,vr[q]=j,At.publish("addFormObject",j),Bn.pop().restore()}};for(var $i in m.beginFormObject=function(f,j,q,K,le){return bl(f,j,q,K,le),this},m.endFormObject=function(f){return gu(f),this},m.doFormObject=function(f,j){var q=vr[Mn[f]];return $("q"),$(j.toString()+" cm"),$("/"+q.id+" Do"),$("Q"),this},m.getFormObject=function(f){var j=vr[Mn[f]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},m.save=function(f,j){return f=f||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(pi(Fi(ns()),f),typeof pi.unload=="function"&&Qe.setTimeout&&setTimeout(pi.unload,911),this):new Promise(function(q,K){try{var le=pi(Fi(ns()),f);typeof pi.unload=="function"&&Qe.setTimeout&&setTimeout(pi.unload,911),q(le)}catch(ve){K(ve.message)}})},Xe.API)Xe.API.hasOwnProperty($i)&&($i==="events"&&Xe.API.events.length?function(f,j){var q,K,le;for(le=j.length-1;le!==-1;le--)q=j[le][0],K=j[le][1],f.subscribe.apply(f,[q].concat(typeof K=="function"?[K]:K))}(At,Xe.API.events):m[$i]=Xe.API[$i]);var ii=m.getPageWidth=function(f){return(et[f=f||D].mediaBox.topRightX-et[f].mediaBox.bottomLeftX)/De},io=m.setPageWidth=function(f,j){et[f].mediaBox.topRightX=j*De+et[f].mediaBox.bottomLeftX},ys=m.getPageHeight=function(f){return(et[f=f||D].mediaBox.topRightY-et[f].mediaBox.bottomLeftY)/De},ao=m.setPageHeight=function(f,j){et[f].mediaBox.topRightY=j*De+et[f].mediaBox.bottomLeftY};return m.internal={pdfEscape:Ur,getStyle:hl,getFont:hu,getFontSize:Ie,getCharSpace:mu,getTextColor:pu,getLineHeight:ml,getLineHeightFactor:vl,getLineWidth:Bi,write:Je,getHorizontalCoordinate:Hn,getVerticalCoordinate:ss,getCoordinateString:fu,getVerticalCoordinateString:vs,collections:{},newObject:ur,newAdditionalObject:ki,newObjectDeferred:ir,newObjectDeferredBegin:Yr,getFilters:Un,putStream:an,events:At,scaleFactor:De,pageSize:{getWidth:function(){return ii(D)},setWidth:function(f){io(D,f)},getHeight:function(){return ys(D)},setHeight:function(f){ao(D,f)}},encryptionOptions:p,encryption:Sr,getEncryptor:au,output:Di,getNumberOfPages:tu,pages:ye,out:$,f2:re,f3:I,getPageInfo:dl,getPageInfoByObjId:tt,getCurrentPageInfo:ou,getPDFVersion:w,Point:Ui,Rectangle:no,Matrix:Ke,hasHotfix:ul},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return ii(D)},set:function(f){io(D,f)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return ys(D)},set:function(f){ao(D,f)},enumerable:!0,configurable:!0}),Zc.call(m,Se),ut="F1",ol(s,t),At.publish("initialized"),m}pa.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},pa.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pa.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},pa.prototype.processOwnerPassword=function(r,e){return Rd(Id(e).substr(0,5),r)},pa.prototype.encryptor=function(r,e){var t=Id(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Rd(t,n)}},mc.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Ct(r)!==Ct(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Xe.API={events:[]},Xe.version="3.0.1";var Xt=Xe.API,ph=1,Pi=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ua=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},st=function(r){return r.toFixed(2)},Ts=function(r){return r.toFixed(5)};Xt.__acroform__={};var Kr=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},Bf=function(r){return r*ph},Gn=function(r){var e=new gm,t=Ue.internal.getHeight(r)||0,n=Ue.internal.getWidth(r)||0;return e.BBox=[0,0,Number(st(n)),Number(st(t))],e},Ox=Xt.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<e},Fx=Xt.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<e)},Dx=Xt.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},tr=Xt.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Dx(r,e-1)},rr=Xt.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ox(r,e-1)},nr=Xt.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Fx(r,e-1)},Mx=Xt.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=r[0],i=r[1],a=r[2],l=r[3],c={};return c.lowerLeft_X=t(s)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=t(s+a)||0,c.upperRight_Y=n(i)||0,[Number(st(c.lowerLeft_X)),Number(st(c.lowerLeft_Y)),Number(st(c.upperRight_X)),Number(st(c.upperRight_Y))]},Bx=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=Od(r,t),s=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+s+" "+st(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Gn(r);return i.scope=r.scope,i.stream=e.join(`
`),i}},Od=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=r.multiline?s.map(function(I){return I.split(`
`)}):s.map(function(I){return[I]});var i=t,a=Ue.internal.getHeight(r)||0;a=a<0?-a:a;var l=Ue.internal.getWidth(r)||0;l=l<0?-l:l;var c=function(I,F,H){if(I+1<s.length){var B=F+" "+s[I+1][0];return tc(B,r,H).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var h,p,g=tc("3",r,i).height,y=r.multiline?a-i:(a-g)/2,m=y+=2,_=0,w=0,N=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+tc(e,r,i=12).width+", FieldWidth:"+l+`
`;break}for(var x="",A=0,T=0;T<s.length;T++)if(s.hasOwnProperty(T)){var z=!1;if(s[T].length!==1&&N!==s[T].length-1){if((g+2)*(A+2)+2>a)continue e;x+=s[T][N],z=!0,w=T,T--}else{x=(x+=s[T][N]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var G=parseInt(T),te=c(G,x,i),V=T>=s.length-1;if(te&&!V){x+=" ",N=0;continue}if(te||V){if(V)w=G;else if(r.multiline&&(g+2)*(A+2)+2>a)continue e}else{if(!r.multiline||(g+2)*(A+2)+2>a)continue e;w=G}}for(var E="",ne=_;ne<=w;ne++){var re=s[ne];if(r.multiline){if(ne===w){E+=re[N]+" ",N=(N+1)%re.length;continue}if(ne===_){E+=re[re.length-1]+" ";continue}}E+=re[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,p=tc(E,r,i).width,r.textAlign){case"right":h=l-p-2;break;case"center":h=(l-p)/2;break;case"left":default:h=2}e+=st(h)+" "+st(m)+` Td
`,e+="("+Pi(E)+`) Tj
`,e+=-st(h)+` 0 Td
`,m=-(i+2),p=0,_=z?w:w+1,A++,x=""}break}return n.text=e,n.fontSize=i,n},tc=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},qx={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ux=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},$x=function(r,e){for(var t in r)if(r.hasOwnProperty(t)){var n=t,s=r[t];e.internal.newObjectDeferredBegin(s.objId,!0),Ct(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete r[n]}},zx=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Fn.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(qx)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ph=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new vm,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&Ux(i,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var l=n[a],c=[],h=l.Rect;if(l.Rect&&(l.Rect=Mx(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ue.createDefaultAppearanceStream(l),Ct(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=h,l.hasAppearanceStream&&!l.appearanceStreamContent){var p=Bx(l);c.push({key:"AP",value:"<</N "+p+">>"}),s.internal.acroformPlugin.xForms.push(p)}if(l.appearanceStreamContent){var g="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var m=l.appearanceStreamContent[y];if(g+="/"+y+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var _=m[a];typeof _=="function"&&(_=_.call(s,l)),g+="/"+a+" "+_+" ",s.internal.acroformPlugin.xForms.indexOf(_)>=0||s.internal.acroformPlugin.xForms.push(_)}}else typeof(_=m)=="function"&&(_=_.call(s,l)),g+="/"+a+" "+_,s.internal.acroformPlugin.xForms.indexOf(_)>=0||s.internal.acroformPlugin.xForms.push(_);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&$x(s.internal.acroformPlugin.xForms,s)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},mm=Xt.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(a){return a};if(Array.isArray(r)){for(var s="[",i=0;i<r.length;i++)switch(i!==0&&(s+=" "),Ct(r[i])){case"boolean":case"number":case"object":s+=r[i].toString();break;case"string":r[i].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),s+="("+Pi(n(r[i].toString()))+")"):s+=r[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},td=function(r,e,t){var n=function(s){return s};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),r="("+Pi(n(r))+")"},Qn=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Qn.prototype.toString=function(){return this.objId+" 0 R"},Qn.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Qn.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],s=this[n];s&&(Array.isArray(s)?r.push({key:n,value:mm(s,this.objId,this.scope)}):s instanceof Qn?(s.scope=this.scope,r.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&r.push({key:n,value:s}))}return r};var gm=function(){Qn.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Kr(gm,Qn);var vm=function(){Qn.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Pi(t(r))+")"}},set:function(t){r=t}})};Kr(vm,Qn);var Fn=function r(){Qn.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!tr(e,3)},set:function(x){x?this.F=rr(e,3):this.F=nr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');t=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof gc)return;i="FieldObject"+r.FieldNum++}var x=function(A){return A};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Pi(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/ph:h},set:function(x){h=x}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(x){p=x}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof gc||this instanceof xi))return td(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=x}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof gr?y:td(y,this.objId,this.scope)},set:function(x){x=x.toString(),y=this instanceof gr?x:x.substr(0,1)==="("?ua(x.substr(1,x.length-2)):ua(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof gr?ua(y.substr(1,y.length-1)):y},set:function(x){x=x.toString(),y=this instanceof gr?"/"+x:x}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof gr?m:td(m,this.objId,this.scope)},set:function(x){x=x.toString(),m=this instanceof gr?x:x.substr(0,1)==="("?ua(x.substr(1,x.length-2)):ua(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof gr?ua(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof gr?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(x){x=!!x,w=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(x){_=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,1)},set:function(x){x?this.Ff=rr(this.Ff,1):this.Ff=nr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,2)},set:function(x){x?this.Ff=rr(this.Ff,2):this.Ff=nr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,3)},set:function(x){x?this.Ff=rr(this.Ff,3):this.Ff=nr(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');N=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(N){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};Kr(Fn,Qn);var ya=function(){Fn.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mm(e,this.objId,this.scope)},set:function(t){var n,s;s=[],typeof(n=t)=="string"&&(s=function(i,a,l){l||(l=1);for(var c,h=[];c=a.exec(i);)h.push(c[l]);return h}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,18)},set:function(t){t?this.Ff=rr(this.Ff,18):this.Ff=nr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=rr(this.Ff,19):this.Ff=nr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,20)},set:function(t){t?(this.Ff=rr(this.Ff,20),e.sort()):this.Ff=nr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,22)},set:function(t){t?this.Ff=rr(this.Ff,22):this.Ff=nr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,23)},set:function(t){t?this.Ff=rr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,27)},set:function(t){t?this.Ff=rr(this.Ff,27):this.Ff=nr(this.Ff,27)}}),this.hasAppearanceStream=!1};Kr(ya,Fn);var ba=function(){ya.call(this),this.fontName="helvetica",this.combo=!1};Kr(ba,ya);var wa=function(){ba.call(this),this.combo=!0};Kr(wa,ba);var ac=function(){wa.call(this),this.edit=!0};Kr(ac,wa);var gr=function(){Fn.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,15)},set:function(t){t?this.Ff=rr(this.Ff,15):this.Ff=nr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,16)},set:function(t){t?this.Ff=rr(this.Ff,16):this.Ff=nr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,17)},set:function(t){t?this.Ff=rr(this.Ff,17):this.Ff=nr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,26)},set:function(t){t?this.Ff=rr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+Pi(t(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){Ct(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Kr(gr,Fn);var oc=function(){gr.call(this),this.pushButton=!0};Kr(oc,gr);var xa=function(){gr.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Kr(xa,gr);var gc=function(){var r,e;Fn.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+Pi(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Ct(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ue.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Kr(gc,Fn),xa.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},xa.prototype.createOption=function(r){var e=new gc;return e.Parent=this,e.optionName=r,this.Kids.push(e),Hx.call(this.scope,e),e};var lc=function(){gr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ue.CheckBox.createAppearanceStream()};Kr(lc,gr);var xi=function(){Fn.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,13)},set:function(e){e?this.Ff=rr(this.Ff,13):this.Ff=nr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,21)},set:function(e){e?this.Ff=rr(this.Ff,21):this.Ff=nr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,23)},set:function(e){e?this.Ff=rr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,24)},set:function(e){e?this.Ff=rr(this.Ff,24):this.Ff=nr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,25)},set:function(e){e?this.Ff=rr(this.Ff,25):this.Ff=nr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,26)},set:function(e){e?this.Ff=rr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Kr(xi,Fn);var cc=function(){xi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,14)},set:function(r){r?this.Ff=rr(this.Ff,14):this.Ff=nr(this.Ff,14)}}),this.password=!0};Kr(cc,xi);var Ue={CheckBox:{createAppearanceStream:function(){return{N:{On:Ue.CheckBox.YesNormal},D:{On:Ue.CheckBox.YesPushDown,Off:Ue.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Gn(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),i=Od(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+st(Ue.internal.getWidth(r))+" "+st(Ue.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+st(i.fontSize)+" Tf "+s),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Gn(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),s=[],i=Ue.internal.getHeight(r),a=Ue.internal.getWidth(r),l=Od(r,r.caption);return s.push("1 g"),s.push("0 0 "+st(a)+" "+st(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+st(a-1)+" "+st(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+st(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(r){var e=Gn(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+st(Ue.internal.getWidth(r))+" "+st(Ue.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Ue.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Ue.RadioButton.Circle.YesNormal,e.D[r]=Ue.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Gn(r);e.scope=r.scope;var t=[],n=Ue.internal.getWidth(r)<=Ue.internal.getHeight(r)?Ue.internal.getWidth(r)/4:Ue.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Ue.internal.Bezier_C,i=Number((n*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Ts(Ue.internal.getWidth(r)/2)+" "+Ts(Ue.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Gn(r);e.scope=r.scope;var t=[],n=Ue.internal.getWidth(r)<=Ue.internal.getHeight(r)?Ue.internal.getWidth(r)/4:Ue.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ue.internal.Bezier_C).toFixed(5)),a=Number((n*Ue.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ts(Ue.internal.getWidth(r)/2)+" "+Ts(Ue.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Ts(Ue.internal.getWidth(r)/2)+" "+Ts(Ue.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Gn(r);e.scope=r.scope;var t=[],n=Ue.internal.getWidth(r)<=Ue.internal.getHeight(r)?Ue.internal.getWidth(r)/4:Ue.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ue.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ts(Ue.internal.getWidth(r)/2)+" "+Ts(Ue.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Ue.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Ue.RadioButton.Cross.YesNormal,e.D[r]=Ue.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Gn(r);e.scope=r.scope;var t=[],n=Ue.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+st(Ue.internal.getWidth(r)-2)+" "+st(Ue.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(st(n.x1.x)+" "+st(n.x1.y)+" m"),t.push(st(n.x2.x)+" "+st(n.x2.y)+" l"),t.push(st(n.x4.x)+" "+st(n.x4.y)+" m"),t.push(st(n.x3.x)+" "+st(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Gn(r);e.scope=r.scope;var t=Ue.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+st(Ue.internal.getWidth(r))+" "+st(Ue.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+st(Ue.internal.getWidth(r)-2)+" "+st(Ue.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(st(t.x1.x)+" "+st(t.x1.y)+" m"),n.push(st(t.x2.x)+" "+st(t.x2.y)+" l"),n.push(st(t.x4.x)+" "+st(t.x4.y)+" m"),n.push(st(t.x3.x)+" "+st(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Gn(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+st(Ue.internal.getWidth(r))+" "+st(Ue.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Ue.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Ue.internal.getWidth(r),t=Ue.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Ue.internal.getWidth=function(r){var e=0;return Ct(r)==="object"&&(e=Bf(r.Rect[2])),e},Ue.internal.getHeight=function(r){var e=0;return Ct(r)==="object"&&(e=Bf(r.Rect[3])),e};var Hx=Xt.addField=function(r){if(zx(this,r),!(r instanceof Fn))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Xt.AcroFormChoiceField=ya,Xt.AcroFormListBox=ba,Xt.AcroFormComboBox=wa,Xt.AcroFormEditBox=ac,Xt.AcroFormButton=gr,Xt.AcroFormPushButton=oc,Xt.AcroFormRadioButton=xa,Xt.AcroFormCheckBox=lc,Xt.AcroFormTextField=xi,Xt.AcroFormPasswordField=cc,Xt.AcroFormAppearance=Ue,Xt.AcroForm={ChoiceField:ya,ListBox:ba,ComboBox:wa,EditBox:ac,Button:gr,PushButton:oc,RadioButton:xa,CheckBox:lc,TextField:xi,PasswordField:cc,Appearance:Ue},Xe.AcroForm={ChoiceField:ya,ListBox:ba,ComboBox:wa,EditBox:ac,Button:gr,PushButton:oc,RadioButton:xa,CheckBox:lc,TextField:xi,PasswordField:cc,Appearance:Ue};function ym(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){r.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(I,F){var H,B,oe,ie,fe,Y=e;if((F=F||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(te(I))for(fe in t)for(oe=t[fe],H=0;H<oe.length;H+=1){for(ie=!0,B=0;B<oe[H].length;B+=1)if(oe[H][B]!==void 0&&oe[H][B]!==I[B]){ie=!1;break}if(ie===!0){Y=fe;break}}else for(fe in t)for(oe=t[fe],H=0;H<oe.length;H+=1){for(ie=!0,B=0;B<oe[H].length;B+=1)if(oe[H][B]!==void 0&&oe[H][B]!==I.charCodeAt(B)){ie=!1;break}if(ie===!0){Y=fe;break}}return Y===e&&F!==e&&(Y=F),Y},s=function I(F){for(var H=this.internal.write,B=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:F.width}),ie.push({key:"Height",value:F.height}),F.colorSpace===N.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===N.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var fe="",Y=0,he=F.transparency.length;Y<he;Y++)fe+=F.transparency[Y]+" "+F.transparency[Y]+" ";ie.push({key:"Mask",value:"["+fe+"]"})}F.sMask!==void 0&&ie.push({key:"SMask",value:F.objectId+1+" 0 R"});var pe=F.filter!==void 0?["/"+F.filter]:void 0;if(B({data:F.data,additionalKeyValues:ie,alreadyAppliedFilters:pe,objectId:F.objectId}),H("endobj"),"sMask"in F&&F.sMask!==void 0){var Ae="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,P={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:Ae,data:F.sMask};"filter"in F&&(P.filter=F.filter),I.call(this,P)}if(F.colorSpace===N.INDEXED){var D=this.internal.newObject();B({data:E(new Uint8Array(F.palette)),objectId:D}),H("endobj")}},i=function(){var I=this.internal.collections.addImage_images;for(var F in I)s.call(this,I[F])},a=function(){var I,F=this.internal.collections.addImage_images,H=this.internal.write;for(var B in F)H("/I"+(I=F[B]).index,I.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var I=this.internal.collections.addImage_images;return l.call(this),I},h=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(I){return typeof r["process"+I.toUpperCase()]=="function"},g=function(I){return Ct(I)==="object"&&I.nodeType===1},y=function(I,F){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var H=""+I.getAttribute("src");if(H.indexOf("data:image/")===0)return Fo(unescape(H).split("base64,").pop());var B=r.loadFile(H,!0);if(B!==void 0)return B}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var oe;switch(F){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;case"JPEG":case"JPG":default:oe="image/jpeg"}return Fo(I.toDataURL(oe,1).split("base64,").pop())}},m=function(I){var F=this.internal.collections.addImage_images;if(F){for(var H in F)if(I===F[H].alias)return F[H]}},_=function(I,F,H){return I||F||(I=-96,F=-96),I<0&&(I=-1*H.width*72/I/this.internal.scaleFactor),F<0&&(F=-1*H.height*72/F/this.internal.scaleFactor),I===0&&(I=F*H.width/H.height),F===0&&(F=I*H.height/H.width),[I,F]},w=function(I,F,H,B,oe,ie){var fe=_.call(this,H,B,oe),Y=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,pe=c.call(this);if(H=fe[0],B=fe[1],pe[oe.index]=oe,ie){ie*=Math.PI/180;var Ae=Math.cos(ie),P=Math.sin(ie),D=function(W){return W.toFixed(4)},U=[D(Ae),D(P),D(-1*P),D(Ae),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,Y(I),he(F+B),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([Y(H),"0","0",Y(B),"0","0","cm"].join(" "))):this.internal.write([Y(H),"0","0",Y(B),Y(I),he(F+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},N=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=r.__addimage__.sHashCode=function(I){var F,H,B=0;if(typeof I=="string")for(H=I.length,F=0;F<H;F++)B=(B<<5)-B+I.charCodeAt(F),B|=0;else if(te(I))for(H=I.byteLength/2,F=0;F<H;F++)B=(B<<5)-B+I[F],B|=0;return B},T=r.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var F=!0;return I.length===0&&(F=!1),I.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(F=!1),F},z=r.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var F=I.indexOf(",");return F<0?null:I.substring(0,F).trim().endsWith("base64")?I.substring(F+1):null},G=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(I){return G()&&I instanceof ArrayBuffer};var te=r.__addimage__.isArrayBufferView=function(I){return G()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},V=r.__addimage__.binaryStringToUint8Array=function(I){for(var F=I.length,H=new Uint8Array(F),B=0;B<F;B++)H[B]=I.charCodeAt(B);return H},E=r.__addimage__.arrayBufferToBinaryString=function(I){for(var F="",H=te(I)?I:new Uint8Array(I),B=0;B<H.length;B+=8192)F+=String.fromCharCode.apply(null,H.subarray(B,B+8192));return F};r.addImage=function(){var I,F,H,B,oe,ie,fe,Y,he;if(typeof arguments[1]=="number"?(F=e,H=arguments[1],B=arguments[2],oe=arguments[3],ie=arguments[4],fe=arguments[5],Y=arguments[6],he=arguments[7]):(F=arguments[1],H=arguments[2],B=arguments[3],oe=arguments[4],ie=arguments[5],fe=arguments[6],Y=arguments[7],he=arguments[8]),Ct(I=arguments[0])==="object"&&!g(I)&&"imageData"in I){var pe=I;I=pe.imageData,F=pe.format||F||e,H=pe.x||H||0,B=pe.y||B||0,oe=pe.w||pe.width||oe,ie=pe.h||pe.height||ie,fe=pe.alias||fe,Y=pe.compression||Y,he=pe.rotation||pe.angle||he}var Ae=this.internal.getFilters();if(Y===void 0&&Ae.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(H)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var P=ne.call(this,I,F,fe,Y);return w.call(this,H,B,oe,ie,P,he),this};var ne=function(I,F,H,B){var oe,ie,fe;if(typeof I=="string"&&n(I)===e){I=unescape(I);var Y=re(I,!1);(Y!==""||(Y=r.loadFile(I,!0))!==void 0)&&(I=Y)}if(g(I)&&(I=y(I,F)),F=n(I,F),!p(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((fe=H)==null||fe.length===0)&&(H=function(he){return typeof he=="string"||te(he)?A(he):te(he.data)?A(he.data):null}(I)),(oe=m.call(this,H))||(G()&&(I instanceof Uint8Array||F==="RGBA"||(ie=I,I=V(I))),oe=this["process"+F.toUpperCase()](I,h.call(this),H,function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in r.image_compression?he:x.NONE}(B),ie)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},re=r.__addimage__.convertBase64ToBinaryString=function(I,F){F=typeof F!="boolean"||F;var H,B="";if(typeof I=="string"){var oe;H=(oe=z(I))!==null&&oe!==void 0?oe:I;try{B=Fo(H)}catch(ie){if(F)throw T(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};r.getImageProperties=function(I){var F,H,B="";if(g(I)&&(I=y(I)),typeof I=="string"&&n(I)===e&&((B=re(I,!1))===""&&(B=r.loadFile(I)||""),I=B),H=n(I),!p(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(!G()||I instanceof Uint8Array||(I=V(I)),!(F=this["process"+H.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=H,F}})(Xe.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Xe.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,s,i,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,p=!1,g=0;g<h.length&&!p;g++)switch((n=h[g]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){n=h[y];var m=this.internal.pdfEscape,_=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(w.objId),A=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(x(n.contents))+")",i+=" /Popup "+N.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(x(A))+") >>",w.content=i;var T=w.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+T,n.open&&(i+=" /Open true"),i+=" >>",N.content=i,this.internal.write(w.objId,"0 R",N.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var z=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+m(_(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var G=this.annotations._nameMap[n.options.name];n.options.pageNumber=G.page,n.options.top=G.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+m(_(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var te=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+te+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,s,i,a){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(t),y:h(n),w:c(t+s),h:h(n+i)},options:a,type:"link"})},r.textWithLink=function(t,n,s,i){var a,l,c=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var p=this.splitTextToSize(t,l).length;a=Math.ceil(h*p)}else l=c,a=h;return this.text(t,n,s,i),s+=.2*h,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,s-h,l,a,i),c},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(Xe.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];r.__arabicParser__={};var i=r.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},l=r.__arabicParser__.isArabicEndLetter=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(w){return a(w)&&s.indexOf(w.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length>=1};var h=r.__arabicParser__.arabicLetterHasFinalForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length>=3};var p=r.__arabicParser__.arabicLetterHasMedialForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length==4},g=r.__arabicParser__.resolveLigatures=function(w){var N=0,x=t,A="",T=0;for(N=0;N<w.length;N+=1)x[w.charCodeAt(N)]!==void 0?(T++,typeof(x=x[w.charCodeAt(N)])=="number"&&(A+=String.fromCharCode(x),x=t,T=0),N===w.length-1&&(x=t,A+=w.charAt(N-(T-1)),N-=T-1,T=0)):(x=t,A+=w.charAt(N-T),N-=T,T=0);return A};r.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var y=r.__arabicParser__.getCorrectForm=function(w,N,x){return a(w)?i(w)===!1?-1:!h(w)||!a(N)&&!a(x)||!a(x)&&l(N)||l(w)&&!a(N)||l(w)&&c(N)||l(w)&&l(N)?0:p(w)&&a(N)&&!l(N)&&a(x)&&h(x)?3:l(w)||!a(x)?1:2:-1},m=function(w){var N=0,x=0,A=0,T="",z="",G="",te=(w=w||"").split("\\s+"),V=[];for(N=0;N<te.length;N+=1){for(V.push(""),x=0;x<te[N].length;x+=1)T=te[N][x],z=te[N][x-1],G=te[N][x+1],a(T)?(A=y(T,z,G),V[N]+=A!==-1?String.fromCharCode(e[T.charCodeAt(0)][A]):T):V[N]+=T;V[N]=g(V[N])}return V.join(" ")},_=r.__arabicParser__.processArabic=r.processArabic=function(){var w,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(N)){var A=0;for(x=[],A=0;A<N.length;A+=1)Array.isArray(N[A])?x.push([m(N[A][0]),N[A][1],N[A][2]]):x.push([m(N[A])]);w=x}else w=m(N);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};r.events.push(["preProcessText",_])}(Xe.API),Xe.API.autoPrint=function(r){var e;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var s;if((t=t||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Xe.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(w){y=w}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(w){_=w}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,h){n.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),g=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,m=0,_=0,w=0,N=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=h.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(T,z){return T.concat(N.splitTextToSize(z,x))},[])):c=Array.isArray(c)?c:[c];for(var A=0;A<c.length;A++)m<(w=this.getStringUnitWidth(c[A],{font:g})*p)&&(m=w);return m!==0&&(_=c.length),{w:m/=y,h:Math.max((_*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/y,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,m&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};r.table=function(c,h,p,g,y){if(n.call(this),!p)throw new Error("No data for PDF table.");var m,_,w,N,x=[],A=[],T=[],z={},G={},te=[],V=[],E=(y=y||{}).autoSize||!1,ne=y.printHeaders!==!1,re=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,I=y.margins||Object.assign({width:this.getPageWidth()},e),F=typeof y.padding=="number"?y.padding:3,H=y.headerBackgroundColor||"#c8c8c8",B=y.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=ne,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=re,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=B,this.setFontSize(re),g==null)A=x=Object.keys(p[0]),T=x.map(function(){return"left"});else if(Array.isArray(g)&&Ct(g[0])==="object")for(x=g.map(function(pe){return pe.name}),A=g.map(function(pe){return pe.prompt||pe.name||""}),T=g.map(function(pe){return pe.align||"left"}),m=0;m<g.length;m+=1)G[g[m].name]=g[m].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(A=x=g,T=x.map(function(){return"left"}));if(E||Array.isArray(g)&&typeof g[0]=="string")for(m=0;m<x.length;m+=1){for(z[N=x[m]]=p.map(function(pe){return pe[N]}),this.setFont(void 0,"bold"),te.push(this.getTextDimensions(A[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=z[N],this.setFont(void 0,"normal"),w=0;w<_.length;w+=1)te.push(this.getTextDimensions(_[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);G[N]=Math.max.apply(null,te)+F+F,te=[]}if(ne){var oe={};for(m=0;m<x.length;m+=1)oe[x[m]]={},oe[x[m]].text=A[m],oe[x[m]].align=T[m];var ie=l.call(this,oe,G);V=x.map(function(pe){return new i(c,h,G[pe],ie,oe[pe].text,void 0,oe[pe].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var fe=g.reduce(function(pe,Ae){return pe[Ae.name]=Ae.align,pe},{});for(m=0;m<p.length;m+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:m,data:p[m]},this);var Y=l.call(this,p[m],G);for(w=0;w<x.length;w+=1){var he=p[m][x[w]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:m,col:w,data:he},this),a.call(this,new i(c,h,G[x[w]],Y,he,m+2,fe[x[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var l=function(c,h){var p=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(m){var _=c[m];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,h[m]-p-p)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/y+p+p},this).reduce(function(m,_){return Math.max(m,_)},0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){p=this.internal.__cell__.tableHeaderRow[m].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,y.push(p)),p.lineNumber=c;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,p),this.setTextColor(_)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),t=!1}}(Xe.API);var bm={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},wm=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Fd=ym(wm),xm=[100,200,300,400,500,600,700,800,900],Vx=ym(xm);function Dd(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(i){return bm[i=i||"normal"]?i:"normal"}(r.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(r.weight),s=function(i){return typeof Fd[i=i||"normal"]=="number"?i:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:s,src:r.src||[],ref:r.ref||{name:e,style:[s,t,n].join(" ")}}}function qf(r,e,t,n){var s;for(s=t;s>=0&&s<e.length;s+=n)if(r[e[s]])return r[e[s]];for(s=t;s>=0&&s<e.length;s-=n)if(r[e[s]])return r[e[s]]}var Wx={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Uf={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $f(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function Gx(r,e,t){for(var n=(t=t||{}).defaultFontFamily||"times",s=Object.assign({},Wx,t.genericFontFamilies||{}),i=null,a=null,l=0;l<e.length;++l)if(s[(i=Dd(e[l])).family]&&(i.family=s[i.family]),r.hasOwnProperty(i.family)){a=r[i.family];break}if(!(a=a||r[n]))throw new Error("Could not find a font-family for the rule '"+$f(i)+"' and default family '"+n+"'.");if(a=function(c,h){if(h[c])return h[c];var p=Fd[c],g=p<=Fd.normal?-1:1,y=qf(h,wm,p,g);if(!y)throw new Error("Could not find a matching font-stretch value for "+c);return y}(i.stretch,a),a=function(c,h){if(h[c])return h[c];for(var p=bm[c],g=0;g<p.length;++g)if(h[p[g]])return h[p[g]];throw new Error("Could not find a matching font-style for "+c)}(i.style,a),!(a=function(c,h){if(h[c])return h[c];if(c===400&&h[500])return h[500];if(c===500&&h[400])return h[400];var p=Vx[c],g=qf(h,xm,p,c<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+c);return g}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+$f(i)+"'.");return a}function zf(r){return r.trimLeft()}function Kx(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function Jx(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var rc,Hf,Vf,rd=["times"];(function(r){var e,t,n,s,i,a,l,c,h,p=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new c,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new a,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new a,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,h=new p}]);var g=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var D=P;Object.defineProperty(this,"pdf",{get:function(){return D}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(ge){U=!!ge}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(ge){W=!!ge}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(ge){isNaN(ge)||(J=ge)}});var Z=0;Object.defineProperty(this,"posY",{get:function(){return Z},set:function(ge){isNaN(ge)||(Z=ge)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(ge){var $;typeof ge=="number"?$=[ge,ge,ge,ge]:(($=new Array(4))[0]=ge[0],$[1]=ge.length>=2?ge[1]:$[0],$[2]=ge.length>=3?ge[2]:$[0],$[3]=ge.length>=4?ge[3]:$[1]),h.margin=$}});var ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ae},set:function(ge){ae=ge}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(ge){ce=ge}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(ge){be=ge}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(ge){ge instanceof p&&(h=ge)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(ge){h.path=ge}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(ge){ye=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var $;$=y(ge),this.ctx.fillStyle=$.style,this.ctx.isFillTransparent=$.a===0,this.ctx.fillOpacity=$.a,this.pdf.setFillColor($.r,$.g,$.b,{a:$.a}),this.pdf.setTextColor($.r,$.g,$.b,{a:$.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var $=y(ge);this.ctx.strokeStyle=$.style,this.ctx.isStrokeTransparent=$.a===0,this.ctx.strokeOpacity=$.a,$.a===0?this.pdf.setDrawColor(255,255,255):($.a,this.pdf.setDrawColor($.r,$.g,$.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var Pe=null;function Le(ge,$){if(Pe===null){var Je=function($e){var Se=[];return Object.keys($e).forEach(function(Ce){$e[Ce].forEach(function(Fe){var Ie=null;switch(Fe){case"bold":Ie={family:Ce,weight:"bold"};break;case"italic":Ie={family:Ce,style:"italic"};break;case"bolditalic":Ie={family:Ce,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:Ce}}Ie!==null&&(Ie.ref={name:Ce,style:Fe},Se.push(Ie))})}),Se}(ge.getFontList());Pe=function($e){for(var Se={},Ce=0;Ce<$e.length;++Ce){var Fe=Dd($e[Ce]),Ie=Fe.family,He=Fe.stretch,Ze=Fe.style,rt=Fe.weight;Se[Ie]=Se[Ie]||{},Se[Ie][He]=Se[Ie][He]||{},Se[Ie][He][Ze]=Se[Ie][He][Ze]||{},Se[Ie][He][Ze][rt]=Fe}return Se}(Je.concat($))}return Pe}var ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function(ge){Pe=null,ze=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var $;if(this.ctx.font=ge,($=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var Je=$[1];$[2];var $e=$[3],Se=$[4];$[5];var Ce=$[6],Fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Se)[2];Se=Math.floor(Fe==="px"?parseFloat(Se)*this.pdf.internal.scaleFactor:Fe==="em"?parseFloat(Se)*this.pdf.getFontSize():parseFloat(Se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Se);var Ie=function(We){var ut,De,cr=[],gt=We.trim();if(gt==="")return rd;if(gt in Uf)return[Uf[gt]];for(;gt!=="";){switch(De=null,ut=(gt=zf(gt)).charAt(0)){case'"':case"'":De=Kx(gt.substring(1),ut);break;default:De=Jx(gt)}if(De===null||(cr.push(De[0]),(gt=zf(De[1]))!==""&&gt.charAt(0)!==","))return rd;gt=gt.replace(/^,/,"")}return cr}(Ce);if(this.fontFaces){var He=Gx(Le(this.pdf,this.fontFaces),Ie.map(function(We){return{family:We,stretch:"normal",weight:$e,style:Je}}));this.pdf.setFont(He.ref.name,He.ref.style)}else{var Ze="";($e==="bold"||parseInt($e,10)>=700||Je==="bold")&&(Ze="bold"),Je==="italic"&&(Ze+="italic"),Ze.length===0&&(Ze="normal");for(var rt="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ct=0;ct<Ie.length;ct++){if(this.pdf.internal.getFont(Ie[ct],Ze,{noFallback:!0,disableWarning:!0})!==void 0){rt=Ie[ct];break}if(Ze==="bolditalic"&&this.pdf.internal.getFont(Ie[ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)rt=Ie[ct],Ze="bold";else if(this.pdf.internal.getFont(Ie[ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){rt=Ie[ct],Ze="normal";break}}if(rt===""){for(var Nt=0;Nt<Ie.length;Nt++)if(at[Ie[Nt]]){rt=at[Ie[Nt]];break}}rt=rt===""?"Times":rt,this.pdf.setFont(rt,Ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,Ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,Ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};g.prototype.setLineDash=function(P){this.lineDash=P},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){z.call(this,"fill",!1)},g.prototype.stroke=function(){z.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(P,D){if(isNaN(P)||isNaN(D))throw Ot.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new a(P,D));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new a(P,D)},g.prototype.closePath=function(){var P=new a(0,0),D=0;for(D=this.path.length-1;D!==-1;D--)if(this.path[D].type==="begin"&&Ct(this.path[D+1])==="object"&&typeof this.path[D+1].x=="number"){P=new a(this.path[D+1].x,this.path[D+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(P.x,P.y)},g.prototype.lineTo=function(P,D){if(isNaN(P)||isNaN(D))throw Ot.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new a(P,D));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new a(U.x,U.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},g.prototype.quadraticCurveTo=function(P,D,U,W){if(isNaN(U)||isNaN(W)||isNaN(P)||isNaN(D))throw Ot.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new a(U,W)),Z=this.ctx.transform.applyToPoint(new a(P,D));this.path.push({type:"qct",x1:Z.x,y1:Z.y,x:J.x,y:J.y}),this.ctx.lastPoint=new a(J.x,J.y)},g.prototype.bezierCurveTo=function(P,D,U,W,J,Z){if(isNaN(J)||isNaN(Z)||isNaN(P)||isNaN(D)||isNaN(U)||isNaN(W))throw Ot.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ae=this.ctx.transform.applyToPoint(new a(J,Z)),ce=this.ctx.transform.applyToPoint(new a(P,D)),be=this.ctx.transform.applyToPoint(new a(U,W));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:be.x,y2:be.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new a(ae.x,ae.y)},g.prototype.arc=function(P,D,U,W,J,Z){if(isNaN(P)||isNaN(D)||isNaN(U)||isNaN(W)||isNaN(J))throw Ot.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Z=!!Z,!this.ctx.transform.isIdentity){var ae=this.ctx.transform.applyToPoint(new a(P,D));P=ae.x,D=ae.y;var ce=this.ctx.transform.applyToPoint(new a(0,U)),be=this.ctx.transform.applyToPoint(new a(0,0));U=Math.sqrt(Math.pow(ce.x-be.x,2)+Math.pow(ce.y-be.y,2))}Math.abs(J-W)>=2*Math.PI&&(W=0,J=2*Math.PI),this.path.push({type:"arc",x:P,y:D,radius:U,startAngle:W,endAngle:J,counterclockwise:Z})},g.prototype.arcTo=function(P,D,U,W,J){throw new Error("arcTo not implemented.")},g.prototype.rect=function(P,D,U,W){if(isNaN(P)||isNaN(D)||isNaN(U)||isNaN(W))throw Ot.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,D),this.lineTo(P+U,D),this.lineTo(P+U,D+W),this.lineTo(P,D+W),this.lineTo(P,D),this.lineTo(P+U,D),this.lineTo(P,D)},g.prototype.fillRect=function(P,D,U,W){if(isNaN(P)||isNaN(D)||isNaN(U)||isNaN(W))throw Ot.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,D,U,W),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},g.prototype.strokeRect=function(P,D,U,W){if(isNaN(P)||isNaN(D)||isNaN(U)||isNaN(W))throw Ot.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(P,D,U,W),this.stroke())},g.prototype.clearRect=function(P,D,U,W){if(isNaN(P)||isNaN(D)||isNaN(U)||isNaN(W))throw Ot.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,D,U,W))},g.prototype.save=function(P){P=typeof P!="boolean"||P;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(D),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},g.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(D),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(P){var D,U,W,J;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))D=0,U=0,W=0,J=0;else{var Z=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(Z!==null)D=parseInt(Z[1]),U=parseInt(Z[2]),W=parseInt(Z[3]),J=1;else if((Z=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)D=parseInt(Z[1]),U=parseInt(Z[2]),W=parseInt(Z[3]),J=parseFloat(Z[4]);else{if(J=1,typeof P=="string"&&P.charAt(0)!=="#"){var ae=new hm(P);P=ae.ok?ae.toHex():"#000000"}P.length===4?(D=P.substring(1,2),D+=D,U=P.substring(2,3),U+=U,W=P.substring(3,4),W+=W):(D=P.substring(1,3),U=P.substring(3,5),W=P.substring(5,7)),D=parseInt(D,16),U=parseInt(U,16),W=parseInt(W,16)}}return{r:D,g:U,b:W,a:J,style:P}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(P,D,U,W){if(isNaN(D)||isNaN(U)||typeof P!="string")throw Ot.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!m.call(this)){var J=Y(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;F.call(this,{text:P,x:D,y:U,scale:Z,angle:J,align:this.textAlign,maxWidth:W})}},g.prototype.strokeText=function(P,D,U,W){if(isNaN(D)||isNaN(U)||typeof P!="string")throw Ot.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){W=isNaN(W)?void 0:W;var J=Y(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;F.call(this,{text:P,x:D,y:U,scale:Z,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:W})}},g.prototype.measureText=function(P){if(typeof P!="string")throw Ot.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var D=this.pdf,U=this.pdf.internal.scaleFactor,W=D.internal.getFontSize(),J=D.getStringUnitWidth(P)*W/D.internal.scaleFactor,Z=function(ae){var ce=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this};return new Z({width:J*=Math.round(96*U/72*1e4)/1e4})},g.prototype.scale=function(P,D){if(isNaN(P)||isNaN(D))throw Ot.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new c(P,0,0,D,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},g.prototype.rotate=function(P){if(isNaN(P))throw Ot.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var D=new c(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(D)},g.prototype.translate=function(P,D){if(isNaN(P)||isNaN(D))throw Ot.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new c(1,0,0,1,P,D);this.ctx.transform=this.ctx.transform.multiply(U)},g.prototype.transform=function(P,D,U,W,J,Z){if(isNaN(P)||isNaN(D)||isNaN(U)||isNaN(W)||isNaN(J)||isNaN(Z))throw Ot.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ae=new c(P,D,U,W,J,Z);this.ctx.transform=this.ctx.transform.multiply(ae)},g.prototype.setTransform=function(P,D,U,W,J,Z){P=isNaN(P)?1:P,D=isNaN(D)?0:D,U=isNaN(U)?0:U,W=isNaN(W)?1:W,J=isNaN(J)?0:J,Z=isNaN(Z)?0:Z,this.ctx.transform=new c(P,D,U,W,J,Z)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(P,D,U,W,J,Z,ae,ce,be){var ye=this.pdf.getImageProperties(P),Pe=1,Le=1,ze=1,ge=1;W!==void 0&&ce!==void 0&&(ze=ce/W,ge=be/J,Pe=ye.width/W*ce/W,Le=ye.height/J*be/J),Z===void 0&&(Z=D,ae=U,D=0,U=0),W!==void 0&&ce===void 0&&(ce=W,be=J),W===void 0&&ce===void 0&&(ce=ye.width,be=ye.height);for(var $,Je=this.ctx.transform.decompose(),$e=Y(Je.rotate.shx),Se=new c,Ce=(Se=(Se=(Se=Se.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new l(Z-D*ze,ae-U*ge,W*Pe,J*Le)),Fe=N.call(this,Ce),Ie=[],He=0;He<Fe.length;He+=1)Ie.indexOf(Fe[He])===-1&&Ie.push(Fe[He]);if(T(Ie),this.autoPaging)for(var Ze=Ie[0],rt=Ie[Ie.length-1],at=Ze;at<rt+1;at++){this.pdf.setPage(at);var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=at===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],De=at===1?0:We+(at-2)*ut;if(this.ctx.clip_path.length!==0){var cr=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A($,this.posX+this.margin[3],-De+Nt+this.ctx.prevPageLastElemOffset),G.call(this,"fill",!0),this.path=cr}var gt=JSON.parse(JSON.stringify(Ce));gt=A([gt],this.posX+this.margin[3],-De+Nt+this.ctx.prevPageLastElemOffset)[0];var Jr=(at>Ze||at<rt)&&w.call(this);Jr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,ut,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",gt.x,gt.y,gt.w,gt.h,null,null,$e),Jr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",Ce.x,Ce.y,Ce.w,Ce.h,null,null,$e)};var N=function(P,D,U){var W=[];D=D||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":W.push(Math.floor((P.y+J)/U)+1);break;case"arc":W.push(Math.floor((P.y+J-P.radius)/U)+1),W.push(Math.floor((P.y+J+P.radius)/U)+1);break;case"qct":var Z=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);W.push(Math.floor((Z.y+J)/U)+1),W.push(Math.floor((Z.y+Z.h+J)/U)+1);break;case"bct":var ae=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);W.push(Math.floor((ae.y+J)/U)+1),W.push(Math.floor((ae.y+ae.h+J)/U)+1);break;case"rect":W.push(Math.floor((P.y+J)/U)+1),W.push(Math.floor((P.y+P.h+J)/U)+1)}for(var ce=0;ce<W.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<W[ce];)x.call(this);return W},x=function(){var P=this.fillStyle,D=this.strokeStyle,U=this.font,W=this.lineCap,J=this.lineWidth,Z=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=D,this.font=U,this.lineCap=W,this.lineWidth=J,this.lineJoin=Z},A=function(P,D,U){for(var W=0;W<P.length;W++)switch(P[W].type){case"bct":P[W].x2+=D,P[W].y2+=U;case"qct":P[W].x1+=D,P[W].y1+=U;case"mt":case"lt":case"arc":default:P[W].x+=D,P[W].y+=U}return P},T=function(P){return P.sort(function(D,U){return D-U})},z=function(P,D){for(var U,W,J=this.fillStyle,Z=this.strokeStyle,ae=this.lineCap,ce=this.lineWidth,be=Math.abs(ce*this.ctx.transform.scaleX),ye=this.lineJoin,Pe=JSON.parse(JSON.stringify(this.path)),Le=JSON.parse(JSON.stringify(this.path)),ze=[],ge=0;ge<Le.length;ge++)if(Le[ge].x!==void 0)for(var $=N.call(this,Le[ge]),Je=0;Je<$.length;Je+=1)ze.indexOf($[Je])===-1&&ze.push($[Je]);for(var $e=0;$e<ze.length;$e++)for(;this.pdf.internal.getNumberOfPages()<ze[$e];)x.call(this);if(T(ze),this.autoPaging)for(var Se=ze[0],Ce=ze[ze.length-1],Fe=Se;Fe<Ce+1;Fe++){this.pdf.setPage(Fe),this.fillStyle=J,this.strokeStyle=Z,this.lineCap=ae,this.lineWidth=be,this.lineJoin=ye;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=Fe===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=Fe===1?0:Ze+(Fe-2)*rt;if(this.ctx.clip_path.length!==0){var ct=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(U,this.posX+this.margin[3],-at+He+this.ctx.prevPageLastElemOffset),G.call(this,P,!0),this.path=ct}if(W=JSON.parse(JSON.stringify(Pe)),this.path=A(W,this.posX+this.margin[3],-at+He+this.ctx.prevPageLastElemOffset),D===!1||Fe===0){var Nt=(Fe>Se||Fe<Ce)&&w.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,rt,null).clip().discardPath()),G.call(this,P,D),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}else this.lineWidth=be,G.call(this,P,D),this.lineWidth=ce;this.path=Pe},G=function(P,D){if((P!=="stroke"||D||!_.call(this))&&(P==="stroke"||D||!m.call(this))){for(var U,W,J=[],Z=this.path,ae=0;ae<Z.length;ae++){var ce=Z[ae];switch(ce.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:ce,deltas:[],abs:[]});break;case"lt":var be=J.length;if(Z[ae-1]&&!isNaN(Z[ae-1].x)&&(U=[ce.x-Z[ae-1].x,ce.y-Z[ae-1].y],be>0)){for(;be>=0;be--)if(J[be-1].close!==!0&&J[be-1].begin!==!0){J[be-1].deltas.push(U),J[be-1].abs.push(ce);break}}break;case"bct":U=[ce.x1-Z[ae-1].x,ce.y1-Z[ae-1].y,ce.x2-Z[ae-1].x,ce.y2-Z[ae-1].y,ce.x-Z[ae-1].x,ce.y-Z[ae-1].y],J[J.length-1].deltas.push(U);break;case"qct":var ye=Z[ae-1].x+2/3*(ce.x1-Z[ae-1].x),Pe=Z[ae-1].y+2/3*(ce.y1-Z[ae-1].y),Le=ce.x+2/3*(ce.x1-ce.x),ze=ce.y+2/3*(ce.y1-ce.y),ge=ce.x,$=ce.y;U=[ye-Z[ae-1].x,Pe-Z[ae-1].y,Le-Z[ae-1].x,ze-Z[ae-1].y,ge-Z[ae-1].x,$-Z[ae-1].y],J[J.length-1].deltas.push(U);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(ce)}}W=D?null:P==="stroke"?"stroke":"fill";for(var Je=!1,$e=0;$e<J.length;$e++)if(J[$e].arc)for(var Se=J[$e].abs,Ce=0;Ce<Se.length;Ce++){var Fe=Se[Ce];Fe.type==="arc"?E.call(this,Fe.x,Fe.y,Fe.radius,Fe.startAngle,Fe.endAngle,Fe.counterclockwise,void 0,D,!Je):H.call(this,Fe.x,Fe.y),Je=!0}else if(J[$e].close===!0)this.pdf.internal.out("h"),Je=!1;else if(J[$e].begin!==!0){var Ie=J[$e].start.x,He=J[$e].start.y;B.call(this,J[$e].deltas,Ie,He),Je=!0}W&&ne.call(this,W),D&&re.call(this)}},te=function(P){var D=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=D*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-U;case"top":return P+D-U;case"hanging":return P+D-2*U;case"middle":return P+D/2-U;case"ideographic":return P;case"alphabetic":default:return P}},V=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(D,U){this.colorStops.push([D,U])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(P,D,U,W,J,Z,ae,ce,be){for(var ye=ie.call(this,U,W,J,Z),Pe=0;Pe<ye.length;Pe++){var Le=ye[Pe];Pe===0&&(be?I.call(this,Le.x1+P,Le.y1+D):H.call(this,Le.x1+P,Le.y1+D)),oe.call(this,P,D,Le.x2,Le.y2,Le.x3,Le.y3,Le.x4,Le.y4)}ce?re.call(this):ne.call(this,ae)},ne=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},re=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(P,D){this.pdf.internal.out(t(P)+" "+n(D)+" m")},F=function(P){var D;switch(P.align){case"right":case"end":D="right";break;case"center":D="center";break;case"left":case"start":default:D="left"}var U=this.pdf.getTextDimensions(P.text),W=te.call(this,P.y),J=V.call(this,W)-U.h,Z=this.ctx.transform.applyToPoint(new a(P.x,W)),ae=this.ctx.transform.decompose(),ce=new c;ce=(ce=(ce=ce.multiply(ae.translate)).multiply(ae.skew)).multiply(ae.scale);for(var be,ye,Pe,Le=this.ctx.transform.applyToRectangle(new l(P.x,W,U.w,U.h)),ze=ce.applyToRectangle(new l(P.x,J,U.w,U.h)),ge=N.call(this,ze),$=[],Je=0;Je<ge.length;Je+=1)$.indexOf(ge[Je])===-1&&$.push(ge[Je]);if(T($),this.autoPaging)for(var $e=$[0],Se=$[$.length-1],Ce=$e;Ce<Se+1;Ce++){this.pdf.setPage(Ce);var Fe=Ce===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],Ze=He-this.margin[0],rt=this.pdf.internal.pageSize.width-this.margin[1],at=rt-this.margin[3],ct=Ce===1?0:Ie+(Ce-2)*Ze;if(this.ctx.clip_path.length!==0){var Nt=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(be,this.posX+this.margin[3],-1*ct+Fe),G.call(this,"fill",!0),this.path=Nt}var We=A([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-ct+Fe+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*P.scale),Pe=this.lineWidth,this.lineWidth=Pe*P.scale);var ut=this.autoPaging!=="text";if(ut||We.y+We.h<=He){if(ut||We.y>=Fe&&We.x<=rt){var De=ut?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||rt-We.x)[0],cr=A([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-ct+Fe+this.ctx.prevPageLastElemOffset)[0],gt=ut&&(Ce>$e||Ce<Se)&&w.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Ze,null).clip().discardPath()),this.pdf.text(De,cr.x,cr.y,{angle:P.angle,align:D,renderingMode:P.renderingMode}),gt&&this.pdf.restoreGraphicsState()}}else We.y<He&&(this.ctx.prevPageLastElemOffset+=He-We.y);P.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=Pe)}else P.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*P.scale),Pe=this.lineWidth,this.lineWidth=Pe*P.scale),this.pdf.text(P.text,Z.x+this.posX,Z.y+this.posY,{angle:P.angle,align:D,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=Pe)},H=function(P,D,U,W){U=U||0,W=W||0,this.pdf.internal.out(t(P+U)+" "+n(D+W)+" l")},B=function(P,D,U){return this.pdf.lines(P,D,U,null,null)},oe=function(P,D,U,W,J,Z,ae,ce){this.pdf.internal.out([e(s(U+P)),e(i(W+D)),e(s(J+P)),e(i(Z+D)),e(s(ae+P)),e(i(ce+D)),"c"].join(" "))},ie=function(P,D,U,W){for(var J=2*Math.PI,Z=Math.PI/2;D>U;)D-=J;var ae=Math.abs(U-D);ae<J&&W&&(ae=J-ae);for(var ce=[],be=W?-1:1,ye=D;ae>1e-5;){var Pe=ye+be*Math.min(ae,Z);ce.push(fe.call(this,P,ye,Pe)),ae-=Math.abs(Pe-ye),ye=Pe}return ce},fe=function(P,D,U){var W=(U-D)/2,J=P*Math.cos(W),Z=P*Math.sin(W),ae=J,ce=-Z,be=ae*ae+ce*ce,ye=be+ae*J+ce*Z,Pe=4/3*(Math.sqrt(2*be*ye)-ye)/(ae*Z-ce*J),Le=ae-Pe*ce,ze=ce+Pe*ae,ge=Le,$=-ze,Je=W+D,$e=Math.cos(Je),Se=Math.sin(Je);return{x1:P*Math.cos(D),y1:P*Math.sin(D),x2:Le*$e-ze*Se,y2:Le*Se+ze*$e,x3:ge*$e-$*Se,y3:ge*Se+$*$e,x4:P*Math.cos(U),y4:P*Math.sin(U)}},Y=function(P){return 180*P/Math.PI},he=function(P,D,U,W,J,Z){var ae=P+.5*(U-P),ce=D+.5*(W-D),be=J+.5*(U-J),ye=Z+.5*(W-Z),Pe=Math.min(P,J,ae,be),Le=Math.max(P,J,ae,be),ze=Math.min(D,Z,ce,ye),ge=Math.max(D,Z,ce,ye);return new l(Pe,ze,Le-Pe,ge-ze)},pe=function(P,D,U,W,J,Z,ae,ce){var be,ye,Pe,Le,ze,ge,$,Je,$e,Se,Ce,Fe,Ie,He,Ze=U-P,rt=W-D,at=J-U,ct=Z-W,Nt=ae-J,We=ce-Z;for(ye=0;ye<41;ye++)$e=($=(Pe=P+(be=ye/40)*Ze)+be*((ze=U+be*at)-Pe))+be*(ze+be*(J+be*Nt-ze)-$),Se=(Je=(Le=D+be*rt)+be*((ge=W+be*ct)-Le))+be*(ge+be*(Z+be*We-ge)-Je),ye==0?(Ce=$e,Fe=Se,Ie=$e,He=Se):(Ce=Math.min(Ce,$e),Fe=Math.min(Fe,Se),Ie=Math.max(Ie,$e),He=Math.max(He,Se));return new l(Math.round(Ce),Math.round(Fe),Math.round(Ie-Ce),Math.round(He-Fe))},Ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,D,U=(P=this.ctx.lineDash,D=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:D}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(Xe.API),function(r){var e=function(i){var a,l,c,h,p,g,y,m,_,w;for(l=[],c=0,h=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;h>c;c+=4)(p=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(g=(p=((p=((p=((p=(p-(w=p%85))/85)-(_=p%85))/85)-(m=p%85))/85)-(y=p%85))/85)%85,l.push(g+33,y+33,m+33,_+33,w+33)):l.push(122);return function(N,x){for(var A=x;A>0;A--)N.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},t=function(i){var a,l,c,h,p,g=String,y="length",m=255,_="charCodeAt",w="slice",N="replace";for(i[w](-2),i=i[w](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),c=[],h=0,p=(i+=a="uuuuu"[w](i[y]%5||5))[y];p>h;h+=5)l=52200625*(i[_](h)-33)+614125*(i[_](h+1)-33)+7225*(i[_](h+2)-33)+85*(i[_](h+3)-33)+(i[_](h+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(x,A){for(var T=A;T>0;T--)x.pop()}(c,a[y]),g.fromCharCode.apply(g,c)},n=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},s=function(i){for(var a=new Uint8Array(i.length),l=i.length;l--;)a[l]=i.charCodeAt(l);return i=(a=Ed(a)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};r.processDataByFilters=function(i,a){var l=0,c=i||"",h=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}}(Xe.API),function(r){r.loadFile=function(e,t,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(c,h,p){var g=new XMLHttpRequest,y=0,m=function(_){var w=_.length,N=[],x=String.fromCharCode;for(y=0;y<w;y+=1)N.push(x(255&_.charCodeAt(y)));return N.join("")};if(g.open("GET",c,!h),g.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(g.onload=function(){g.status===200?p(m(this.responseText)):p(void 0)}),g.send(null),h&&g.status===200)return m(g.responseText)}(s,i,a)}catch{}return l}(e,t,n)},r.loadImageFile=r.loadFile}(Xe.API),function(r){function e(){return(Qe.html2canvas?Promise.resolve(Qe.html2canvas):Hs(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(Qe.DOMPurify?Promise.resolve(Qe.DOMPurify):Hs(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var l=Ct(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(a,l){var c=document.createElement(a);for(var h in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[h]=l.style[h];return c},i=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),h=a.convert(Promise.resolve(),c);return h=(h=h.setProgress(1,a,1,[a])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,l){return a.__proto__=l||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(c){return this.set({src:s("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(h,p){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),y=h.firstChild;y;y=y.nextSibling)p!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||g.appendChild(c(y,p));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var y=0;y<h.length;++y){var m=h[y],_=m.src.find(function(w){return w.format==="truetype"});_&&c.addFont(_.url,m.ref.name,m.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},i.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(n(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(a,l){return this.then(function(){var c=a in i.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},i.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function l(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(a=a||Xe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,l,c,h){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,l,c,h){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},i.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(h,p){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,h),g}).then(h,p).then(function(g){return c.updateProgress(1),g})})},i.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),p=c.call(h,a,l);return i.convert(p,this.__proto__)},i.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},i.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return i.convert(l,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Xe.getPageSize=function(a,l,c){if(Ct(a)==="object"){var h=a;a=h.orientation,l=h.unit||l,c=h.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var p,g=(""+c).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var m,_=0,w=0;if(y.hasOwnProperty(g))_=y[g][1]/p,w=y[g][0]/p;else try{_=c[1],w=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",w>_&&(m=w,w=_,_=m);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",_>w&&(m=w,w=_,_=m)}return{width:w,height:_,unit:l,k:p,orientation:a}},r.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Dd):null;var c=new i(l);return l.worker?c:c.from(a).doCallback()}}(Xe.API),Xe.API.addJS=function(r){return Vf=r,this.internal.events.subscribe("postPutResources",function(){rc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(rc+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Hf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Vf+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){rc!==void 0&&Hf!==void 0&&this.internal.out("/Names <</JavaScript "+rc+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],l=n.exec(a);if(l!=null){var c=l[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(i=0;i<h;i++){var g=t.internal.newObject();p.push(g);var y=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<p.length;i++)t.internal.write("(page_"+(i+1)+")"+p[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var c=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(Xe.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,s,i,a,l){var c,h=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(g){for(var y,m=256*g.charCodeAt(4)+g.charCodeAt(5),_=g.length,w={width:0,height:0,numcomponents:1},N=4;N<_;N+=2){if(N+=m,e.indexOf(g.charCodeAt(N+1))!==-1){y=256*g.charCodeAt(N+5)+g.charCodeAt(N+6),w={width:256*g.charCodeAt(N+7)+g.charCodeAt(N+8),height:y,numcomponents:g.charCodeAt(N+9)};break}m=256*g.charCodeAt(N+2)+g.charCodeAt(N+3)}return w}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}p={data:t,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:h,index:n,alias:s}}return p}}(Xe.API);var da,nc,Wf,Gf,Kf,Yx=function(){var r,e,t;function n(i){var a,l,c,h,p,g,y,m,_,w,N,x,A,T;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(a=this.readUInt32(),_=(function(){var z,G;for(G=[],z=0;z<4;++z)G.push(String.fromCharCode(this.data[this.pos++]));return G}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),h=this.readUInt16()||100,g.delay=1e3*p/h,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(_==="fdAT"&&(this.pos+=4,a-=4),i=(g!=null?g.data:void 0)||this.imgData,x=0;0<=a?x<a:x>a;0<=a?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((w=c-this.transparency.indexed.length)>0)for(A=0;0<=w?A<w:A>w;0<=w?++A:--A)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":y=(N=this.read(a)).indexOf(0),m=String.fromCharCode.apply(String,N.slice(0,y)),this.text[m]=String.fromCharCode.apply(String,N.slice(y+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(T=this.colorType)===4||T===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var a,l;for(l=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),c=0,h=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function p(g,y,m,_){var w,N,x,A,T,z,G,te,V,E,ne,re,I,F,H,B,oe,ie,fe,Y,he,pe=Math.ceil((h.width-g)/m),Ae=Math.ceil((h.height-y)/_),P=h.width==pe&&h.height==Ae;for(F=a*pe,re=P?l:new Uint8Array(F*Ae),z=i.length,I=0,N=0;I<Ae&&c<z;){switch(i[c++]){case 0:for(A=oe=0;oe<F;A=oe+=1)re[N++]=i[c++];break;case 1:for(A=ie=0;ie<F;A=ie+=1)w=i[c++],T=A<a?0:re[N-a],re[N++]=(w+T)%256;break;case 2:for(A=fe=0;fe<F;A=fe+=1)w=i[c++],x=(A-A%a)/a,H=I&&re[(I-1)*F+x*a+A%a],re[N++]=(H+w)%256;break;case 3:for(A=Y=0;Y<F;A=Y+=1)w=i[c++],x=(A-A%a)/a,T=A<a?0:re[N-a],H=I&&re[(I-1)*F+x*a+A%a],re[N++]=(w+Math.floor((T+H)/2))%256;break;case 4:for(A=he=0;he<F;A=he+=1)w=i[c++],x=(A-A%a)/a,T=A<a?0:re[N-a],I===0?H=B=0:(H=re[(I-1)*F+x*a+A%a],B=x&&re[(I-1)*F+(x-1)*a+A%a]),G=T+H-B,te=Math.abs(G-T),E=Math.abs(G-H),ne=Math.abs(G-B),V=te<=E&&te<=ne?T:E<=ne?H:B,re[N++]=(w+V)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!P){var D=((y+I*_)*h.width+g)*a,U=I*F;for(A=0;A<pe;A+=1){for(var W=0;W<a;W+=1)l[D++]=re[U++];D+=(m-1)*a}}I++}}return i=kx(i),h.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),l},n.prototype.decodePalette=function(){var i,a,l,c,h,p,g,y,m;for(l=this.palette,p=this.transparency.indexed||[],h=new Uint8Array((p.length||0)+l.length),c=0,i=0,a=g=0,y=l.length;g<y;a=g+=3)h[c++]=l[a],h[c++]=l[a+1],h[c++]=l[a+2],h[c++]=(m=p[i++])!=null?m:255;return h},n.prototype.copyToImageData=function(i,a){var l,c,h,p,g,y,m,_,w,N,x;if(c=this.colors,w=null,l=this.hasAlphaChannel,this.palette.length&&(w=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,l=!0),_=(h=i.data||i).length,g=w||a,p=y=0,c===1)for(;p<_;)m=w?4*a[p/4]:y,N=g[m++],h[p++]=N,h[p++]=N,h[p++]=N,h[p++]=l?g[m++]:255,y=m;else for(;p<_;)m=w?4*a[p/4]:y,h[p++]=g[m++],h[p++]=g[m++],h[p++]=g[m++],h[p++]=l?g[m++]:255,y=m},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(Qe)==="[object Window]"){try{e=Qe.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),r=function(i){var a;if(s()===!0)return t.width=i.width,t.height=i.height,t.clearRect(0,0,i.width,i.height),t.putImageData(i,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var a,l,c,h,p,g,y,m;if(this.animation){for(m=[],l=p=0,g=(y=this.animation.frames).length;p<g;l=++p)a=y[l],c=i.createImageData(a.width,a.height),h=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,h),a.imageData=c,m.push(a.image=r(c));return m}},n.prototype.renderFrame=function(i,a){var l,c,h;return l=(c=this.animation.frames)[a],h=c[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?i.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&i.putImageData(h.imageData,h.xOffset,h.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var a,l,c,h,p,g,y=this;return l=0,g=this.animation,h=g.numFrames,c=g.frames,p=g.numPlays,(a=function(){var m,_;if(m=l++%h,_=c[m],y.renderFrame(i,m),h>1&&l/h<p)return y.animation._timeout=setTimeout(a,_.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var a,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Xx(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,s=r[e++],i=s>>7,a=1<<(7&s)+1;r[e++],r[e++];var l=null,c=null;i&&(l=e,c=a,e+=3*a);var h=!0,p=[],g=0,y=null,m=0,_=null;for(this.width=t,this.height=n;h&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,_=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((I=r[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=r[e++];g=r[e++]|r[e++]<<8,y=r[e++],!(1&w)&&(y=null),m=w>>2&7,e++;break;case 254:for(;;){if(!((I=r[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var N=r[e++]|r[e++]<<8,x=r[e++]|r[e++]<<8,A=r[e++]|r[e++]<<8,T=r[e++]|r[e++]<<8,z=r[e++],G=z>>6&1,te=1<<(7&z)+1,V=l,E=c,ne=!1;z>>7&&(ne=!0,V=e,E=te,e+=3*te);var re=e;for(e++;;){var I;if(!((I=r[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}p.push({x:N,y:x,width:A,height:T,has_local_palette:ne,palette_offset:V,palette_size:E,data_offset:re,data_length:e-re,transparent_index:y,interlaced:!!G,delay:g,disposal:m});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return _},this.frameInfo=function(F){if(F<0||F>=p.length)throw new Error("Frame index out of range.");return p[F]},this.decodeAndBlitFrameBGRA=function(F,H){var B=this.frameInfo(F),oe=B.width*B.height,ie=new Uint8Array(oe);Jf(r,B.data_offset,ie,oe);var fe=B.palette_offset,Y=B.transparent_index;Y===null&&(Y=256);var he=B.width,pe=t-he,Ae=he,P=4*(B.y*t+B.x),D=4*((B.y+B.height)*t+B.x),U=P,W=4*pe;B.interlaced===!0&&(W+=4*t*7);for(var J=8,Z=0,ae=ie.length;Z<ae;++Z){var ce=ie[Z];if(Ae===0&&(Ae=he,(U+=W)>=D&&(W=4*pe+4*t*(J-1),U=P+(he+pe)*(J<<1),J>>=1)),ce===Y)U+=4;else{var be=r[fe+3*ce],ye=r[fe+3*ce+1],Pe=r[fe+3*ce+2];H[U++]=Pe,H[U++]=ye,H[U++]=be,H[U++]=255}--Ae}},this.decodeAndBlitFrameRGBA=function(F,H){var B=this.frameInfo(F),oe=B.width*B.height,ie=new Uint8Array(oe);Jf(r,B.data_offset,ie,oe);var fe=B.palette_offset,Y=B.transparent_index;Y===null&&(Y=256);var he=B.width,pe=t-he,Ae=he,P=4*(B.y*t+B.x),D=4*((B.y+B.height)*t+B.x),U=P,W=4*pe;B.interlaced===!0&&(W+=4*t*7);for(var J=8,Z=0,ae=ie.length;Z<ae;++Z){var ce=ie[Z];if(Ae===0&&(Ae=he,(U+=W)>=D&&(W=4*pe+4*t*(J-1),U=P+(he+pe)*(J<<1),J>>=1)),ce===Y)U+=4;else{var be=r[fe+3*ce],ye=r[fe+3*ce+1],Pe=r[fe+3*ce+2];H[U++]=be,H[U++]=ye,H[U++]=Pe,H[U++]=255}--Ae}}}function Jf(r,e,t,n){for(var s=r[e++],i=1<<s,a=i+1,l=a+1,c=s+1,h=(1<<c)-1,p=0,g=0,y=0,m=r[e++],_=new Int32Array(4096),w=null;;){for(;p<16&&m!==0;)g|=r[e++]<<p,p+=8,m===1?m=r[e++]:--m;if(p<c)break;var N=g&h;if(g>>=c,p-=c,N!==i){if(N===a)break;for(var x=N<l?N:w,A=0,T=x;T>i;)T=_[T]>>8,++A;var z=T;if(y+A+(x!==N?1:0)>n)return void Ot.log("Warning, gif stream longer than expected.");t[y++]=z;var G=y+=A;for(x!==N&&(t[y++]=z),T=x;A--;)T=_[T],t[--G]=255&T,T>>=8;w!==null&&l<4096&&(_[l++]=w<<8|z,l>=h+1&&c<12&&(++c,h=h<<1|1)),w=N}else l=a+1,h=(1<<(c=s+1))-1,w=null}return y!==n&&Ot.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function nd(r){var e,t,n,s,i,a=Math.floor,l=new Array(64),c=new Array(64),h=new Array(64),p=new Array(64),g=new Array(65535),y=new Array(65535),m=new Array(64),_=new Array(64),w=[],N=0,x=7,A=new Array(64),T=new Array(64),z=new Array(64),G=new Array(256),te=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ne=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(P,D){for(var U=0,W=0,J=new Array,Z=1;Z<=16;Z++){for(var ae=1;ae<=P[Z];ae++)J[D[W]]=[],J[D[W]][0]=U,J[D[W]][1]=Z,W++,U++;U*=2}return J}function fe(P){for(var D=P[0],U=P[1]-1;U>=0;)D&1<<U&&(N|=1<<x),U--,--x<0&&(N==255?(Y(255),Y(0)):Y(N),x=7,N=0)}function Y(P){w.push(P)}function he(P){Y(P>>8&255),Y(255&P)}function pe(P,D,U,W,J){for(var Z,ae=J[0],ce=J[240],be=function(Se,Ce){var Fe,Ie,He,Ze,rt,at,ct,Nt,We,ut,De=0;for(We=0;We<8;++We){Fe=Se[De],Ie=Se[De+1],He=Se[De+2],Ze=Se[De+3],rt=Se[De+4],at=Se[De+5],ct=Se[De+6];var cr=Fe+(Nt=Se[De+7]),gt=Fe-Nt,Jr=Ie+ct,St=Ie-ct,yt=He+at,sn=He-at,Me=Ze+rt,bt=Ze-rt,Ye=cr+Me,Gt=cr-Me,sr=Jr+yt,It=Jr-yt;Se[De]=Ye+sr,Se[De+4]=Ye-sr;var et=.707106781*(It+Gt);Se[De+2]=Gt+et,Se[De+6]=Gt-et;var At=.382683433*((Ye=bt+sn)-(It=St+gt)),ei=.5411961*Ye+At,vr=1.306562965*It+At,Mn=.707106781*(sr=sn+St),Bn=gt+Mn,Ke=gt-Mn;Se[De+5]=Ke+ei,Se[De+3]=Ke-ei,Se[De+1]=Bn+vr,Se[De+7]=Bn-vr,De+=8}for(De=0,We=0;We<8;++We){Fe=Se[De],Ie=Se[De+8],He=Se[De+16],Ze=Se[De+24],rt=Se[De+32],at=Se[De+40],ct=Se[De+48];var gn=Fe+(Nt=Se[De+56]),qn=Fe-Nt,qr=Ie+ct,ur=Ie-ct,ir=He+at,Yr=He-at,ki=Ze+rt,rs=Ze-rt,vn=gn+ki,yn=gn-ki,bn=qr+ir,Un=qr-ir;Se[De]=vn+bn,Se[De+32]=vn-bn;var an=.707106781*(Un+yn);Se[De+16]=yn+an,Se[De+48]=yn-an;var $n=.382683433*((vn=rs+Yr)-(Un=ur+qn)),ti=.5411961*vn+$n,Li=1.306562965*Un+$n,Ci=.707106781*(bn=Yr+ur),Ei=qn+Ci,Ti=qn-Ci;Se[De+40]=Ti+ti,Se[De+24]=Ti-ti,Se[De+8]=Ei+Li,Se[De+56]=Ei-Li,De++}for(We=0;We<64;++We)ut=Se[We]*Ce[We],m[We]=ut>0?ut+.5|0:ut-.5|0;return m}(P,D),ye=0;ye<64;++ye)_[V[ye]]=be[ye];var Pe=_[0]-U;U=_[0],Pe==0?fe(W[0]):(fe(W[y[Z=32767+Pe]]),fe(g[Z]));for(var Le=63;Le>0&&_[Le]==0;)Le--;if(Le==0)return fe(ae),U;for(var ze,ge=1;ge<=Le;){for(var $=ge;_[ge]==0&&ge<=Le;)++ge;var Je=ge-$;if(Je>=16){ze=Je>>4;for(var $e=1;$e<=ze;++$e)fe(ce);Je&=15}Z=32767+_[ge],fe(J[(Je<<4)+y[Z]]),fe(g[Z]),ge++}return Le!=63&&fe(ae),U}function Ae(P){P=Math.min(Math.max(P,1),100),i!=P&&(function(D){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var J=a((U[W]*D+50)/100);J=Math.min(Math.max(J,1),255),l[V[W]]=J}for(var Z=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ae=0;ae<64;ae++){var ce=a((Z[ae]*D+50)/100);ce=Math.min(Math.max(ce,1),255),c[V[ae]]=ce}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,Pe=0;Pe<8;Pe++)for(var Le=0;Le<8;Le++)h[ye]=1/(l[V[ye]]*be[Pe]*be[Le]*8),p[ye]=1/(c[V[ye]]*be[Pe]*be[Le]*8),ye++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),i=P)}this.encode=function(P,D){D&&Ae(D),w=new Array,N=0,x=7,he(65496),he(65504),he(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),he(1),he(1),Y(0),Y(0),function(){he(65499),he(132),Y(0);for(var Ie=0;Ie<64;Ie++)Y(l[Ie]);Y(1);for(var He=0;He<64;He++)Y(c[He])}(),function(Ie,He){he(65472),he(17),Y(8),he(He),he(Ie),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(P.width,P.height),function(){he(65476),he(418),Y(0);for(var Ie=0;Ie<16;Ie++)Y(E[Ie+1]);for(var He=0;He<=11;He++)Y(ne[He]);Y(16);for(var Ze=0;Ze<16;Ze++)Y(re[Ze+1]);for(var rt=0;rt<=161;rt++)Y(I[rt]);Y(1);for(var at=0;at<16;at++)Y(F[at+1]);for(var ct=0;ct<=11;ct++)Y(H[ct]);Y(17);for(var Nt=0;Nt<16;Nt++)Y(B[Nt+1]);for(var We=0;We<=161;We++)Y(oe[We])}(),he(65498),he(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var U=0,W=0,J=0;N=0,x=7,this.encode.displayName="_encode_";for(var Z,ae,ce,be,ye,Pe,Le,ze,ge,$=P.data,Je=P.width,$e=P.height,Se=4*Je,Ce=0;Ce<$e;){for(Z=0;Z<Se;){for(ye=Se*Ce+Z,Le=-1,ze=0,ge=0;ge<64;ge++)Pe=ye+(ze=ge>>3)*Se+(Le=4*(7&ge)),Ce+ze>=$e&&(Pe-=Se*(Ce+1+ze-$e)),Z+Le>=Se&&(Pe-=Z+Le-Se+4),ae=$[Pe++],ce=$[Pe++],be=$[Pe++],A[ge]=(te[ae]+te[ce+256>>0]+te[be+512>>0]>>16)-128,T[ge]=(te[ae+768>>0]+te[ce+1024>>0]+te[be+1280>>0]>>16)-128,z[ge]=(te[ae+1280>>0]+te[ce+1536>>0]+te[be+1792>>0]>>16)-128;U=pe(A,h,U,e,n),W=pe(T,p,W,t,s),J=pe(z,p,J,t,s),Z+=32}Ce+=8}if(x>=0){var Fe=[];Fe[1]=x+1,Fe[0]=(1<<x+1)-1,fe(Fe)}return he(65497),new Uint8Array(w)},r=r||50,function(){for(var P=String.fromCharCode,D=0;D<256;D++)G[D]=P(D)}(),e=ie(E,ne),t=ie(F,H),n=ie(re,I),s=ie(B,oe),function(){for(var P=1,D=2,U=1;U<=15;U++){for(var W=P;W<D;W++)y[32767+W]=U,g[32767+W]=[],g[32767+W][1]=U,g[32767+W][0]=W;for(var J=-(D-1);J<=-P;J++)y[32767+J]=U,g[32767+J]=[],g[32767+J][1]=U,g[32767+J][0]=D-1+J;P<<=1,D<<=1}}(),function(){for(var P=0;P<256;P++)te[P]=19595*P,te[P+256>>0]=38470*P,te[P+512>>0]=7471*P+32768,te[P+768>>0]=-11059*P,te[P+1024>>0]=-21709*P,te[P+1280>>0]=32768*P+8421375,te[P+1536>>0]=-27439*P,te[P+1792>>0]=-5329*P}(),Ae(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function An(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Yf(r){function e(E){if(!E)throw Error("assert :P")}function t(E,ne,re){for(var I=0;4>I;I++)if(E[ne+I]!=re.charCodeAt(I))return!0;return!1}function n(E,ne,re,I,F){for(var H=0;H<F;H++)E[ne+H]=re[I+H]}function s(E,ne,re,I){for(var F=0;F<I;F++)E[ne+F]=re}function i(E){return new Int32Array(E)}function a(E,ne){for(var re=[],I=0;I<E;I++)re.push(new ne);return re}function l(E,ne){var re=[];return function I(F,H,B){for(var oe=B[H],ie=0;ie<oe&&(F.push(B.length>H+1?[]:new ne),!(B.length<H+1));ie++)I(F[ie],H+1,B)}(re,0,E),re}var c=function(){var E=this;function ne(o,d){for(var v=1<<d-1>>>0;o&v;)v>>>=1;return v?(o&v-1)+v:o}function re(o,d,v,b,S){e(!(b%v));do o[d+(b-=v)]=S;while(0<b)}function I(o,d,v,b,S){if(e(2328>=S),512>=S)var k=i(512);else if((k=i(S))==null)return 0;return function(L,C,R,M,X,ue){var de,se,_e=C,me=1<<R,Q=i(16),ee=i(16);for(e(X!=0),e(M!=null),e(L!=null),e(0<R),se=0;se<X;++se){if(15<M[se])return 0;++Q[M[se]]}if(Q[0]==X)return 0;for(ee[1]=0,de=1;15>de;++de){if(Q[de]>1<<de)return 0;ee[de+1]=ee[de]+Q[de]}for(se=0;se<X;++se)de=M[se],0<M[se]&&(ue[ee[de]++]=se);if(ee[15]==1)return(M=new F).g=0,M.value=ue[0],re(L,_e,1,me,M),me;var we,je=-1,xe=me-1,qe=0,Te=1,Ge=1,Re=1<<R;for(se=0,de=1,X=2;de<=R;++de,X<<=1){if(Te+=Ge<<=1,0>(Ge-=Q[de]))return 0;for(;0<Q[de];--Q[de])(M=new F).g=de,M.value=ue[se++],re(L,_e+qe,X,Re,M),qe=ne(qe,de)}for(de=R+1,X=2;15>=de;++de,X<<=1){if(Te+=Ge<<=1,0>(Ge-=Q[de]))return 0;for(;0<Q[de];--Q[de]){if(M=new F,(qe&xe)!=je){for(_e+=Re,we=1<<(je=de)-R;15>je&&!(0>=(we-=Q[je]));)++je,we<<=1;me+=Re=1<<(we=je-R),L[C+(je=qe&xe)].g=we+R,L[C+je].value=_e-C-je}M.g=de-R,M.value=ue[se++],re(L,_e+(qe>>R),X,Re,M),qe=ne(qe,de)}}return Te!=2*ee[15]-1?0:me}(o,d,v,b,S,k)}function F(){this.value=this.g=0}function H(){this.value=this.g=0}function B(){this.G=a(5,F),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(yr,H)}function oe(o,d,v,b){e(o!=null),e(d!=null),e(2147483648>b),o.Ca=254,o.I=0,o.b=-8,o.Ka=0,o.oa=d,o.pa=v,o.Jd=d,o.Yc=v+b,o.Zc=4<=b?v+b-4+1:v,Z(o)}function ie(o,d){for(var v=0;0<d--;)v|=ce(o,128)<<d;return v}function fe(o,d){var v=ie(o,d);return ae(o)?-v:v}function Y(o,d,v,b){var S,k=0;for(e(o!=null),e(d!=null),e(4294967288>b),o.Sb=b,o.Ra=0,o.u=0,o.h=0,4<b&&(b=4),S=0;S<b;++S)k+=d[v+S]<<8*S;o.Ra=k,o.bb=b,o.oa=d,o.pa=v}function he(o){for(;8<=o.u&&o.bb<o.Sb;)o.Ra>>>=8,o.Ra+=o.oa[o.pa+o.bb]<<Gi-8>>>0,++o.bb,o.u-=8;U(o)&&(o.h=1,o.u=0)}function pe(o,d){if(e(0<=d),!o.h&&d<=Wi){var v=D(o)&Vi[d];return o.u+=d,he(o),v}return o.h=1,o.u=0}function Ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function D(o){return o.Ra>>>(o.u&Gi-1)>>>0}function U(o){return e(o.bb<=o.Sb),o.h||o.bb==o.Sb&&o.u>Gi}function W(o,d){o.u=d,o.h=U(o)}function J(o){o.u>=ho&&(e(o.u>=ho),he(o))}function Z(o){e(o!=null&&o.oa!=null),o.pa<o.Zc?(o.I=(o.oa[o.pa++]|o.I<<8)>>>0,o.b+=8):(e(o!=null&&o.oa!=null),o.pa<o.Yc?(o.b+=8,o.I=o.oa[o.pa++]|o.I<<8):o.Ka?o.b=0:(o.I<<=8,o.b+=8,o.Ka=1))}function ae(o){return ie(o,1)}function ce(o,d){var v=o.Ca;0>o.b&&Z(o);var b=o.b,S=v*d>>>8,k=(o.I>>>b>S)+0;for(k?(v-=S,o.I-=S+1<<b>>>0):v=S+1,b=v,S=0;256<=b;)S+=8,b>>=8;return b=7^S+$r[b],o.b-=b,o.Ca=(v<<b)-1,k}function be(o,d,v){o[d+0]=v>>24&255,o[d+1]=v>>16&255,o[d+2]=v>>8&255,o[d+3]=v>>0&255}function ye(o,d){return o[d+0]<<0|o[d+1]<<8}function Pe(o,d){return ye(o,d)|o[d+2]<<16}function Le(o,d){return ye(o,d)|ye(o,d+2)<<16}function ze(o,d){var v=1<<d;return e(o!=null),e(0<d),o.X=i(v),o.X==null?0:(o.Mb=32-d,o.Xa=d,1)}function ge(o,d){e(o!=null),e(d!=null),e(o.Xa==d.Xa),n(d.X,0,o.X,0,1<<d.Xa)}function $(){this.X=[],this.Xa=this.Mb=0}function Je(o,d,v,b){e(v!=null),e(b!=null);var S=v[0],k=b[0];return S==0&&(S=(o*k+d/2)/d),k==0&&(k=(d*S+o/2)/o),0>=S||0>=k?0:(v[0]=S,b[0]=k,1)}function $e(o,d){return o+(1<<d)-1>>>d}function Se(o,d){return((4278255360&o)+(4278255360&d)>>>0&4278255360)+((16711935&o)+(16711935&d)>>>0&16711935)>>>0}function Ce(o,d){E[d]=function(v,b,S,k,L,C,R){var M;for(M=0;M<L;++M){var X=E[o](C[R+M-1],S,k+M);C[R+M]=Se(v[b+M],X)}}}function Fe(){this.ud=this.hd=this.jd=0}function Ie(o,d){return((4278124286&(o^d))>>>1)+(o&d)>>>0}function He(o){return 0<=o&&256>o?o:0>o?0:255<o?255:void 0}function Ze(o,d){return He(o+(o-d+.5>>1))}function rt(o,d,v){return Math.abs(d-v)-Math.abs(o-v)}function at(o,d,v,b,S,k,L){for(b=k[L-1],v=0;v<S;++v)k[L+v]=b=Se(o[d+v],b)}function ct(o,d,v,b,S){var k;for(k=0;k<v;++k){var L=o[d+k],C=L>>8&255,R=16711935&(R=(R=16711935&L)+((C<<16)+C));b[S+k]=(4278255360&L)+R>>>0}}function Nt(o,d){d.jd=o>>0&255,d.hd=o>>8&255,d.ud=o>>16&255}function We(o,d,v,b,S,k){var L;for(L=0;L<b;++L){var C=d[v+L],R=C>>>8,M=C,X=255&(X=(X=C>>>16)+((o.jd<<24>>24)*(R<<24>>24)>>>5));M=255&(M=(M=M+((o.hd<<24>>24)*(R<<24>>24)>>>5))+((o.ud<<24>>24)*(X<<24>>24)>>>5)),S[k+L]=(4278255360&C)+(X<<16)+M}}function ut(o,d,v,b,S){E[d]=function(k,L,C,R,M,X,ue,de,se){for(R=ue;R<de;++R)for(ue=0;ue<se;++ue)M[X++]=S(C[b(k[L++])])},E[o]=function(k,L,C,R,M,X,ue){var de=8>>k.b,se=k.Ea,_e=k.K[0],me=k.w;if(8>de)for(k=(1<<k.b)-1,me=(1<<de)-1;L<C;++L){var Q,ee=0;for(Q=0;Q<se;++Q)Q&k||(ee=b(R[M++])),X[ue++]=S(_e[ee&me]),ee>>=de}else E["VP8LMapColor"+v](R,M,_e,me,X,ue,L,C,se)}}function De(o,d,v,b,S){for(v=d+v;d<v;){var k=o[d++];b[S++]=k>>16&255,b[S++]=k>>8&255,b[S++]=k>>0&255}}function cr(o,d,v,b,S){for(v=d+v;d<v;){var k=o[d++];b[S++]=k>>16&255,b[S++]=k>>8&255,b[S++]=k>>0&255,b[S++]=k>>24&255}}function gt(o,d,v,b,S){for(v=d+v;d<v;){var k=(L=o[d++])>>16&240|L>>12&15,L=L>>0&240|L>>28&15;b[S++]=k,b[S++]=L}}function Jr(o,d,v,b,S){for(v=d+v;d<v;){var k=(L=o[d++])>>16&248|L>>13&7,L=L>>5&224|L>>3&31;b[S++]=k,b[S++]=L}}function St(o,d,v,b,S){for(v=d+v;d<v;){var k=o[d++];b[S++]=k>>0&255,b[S++]=k>>8&255,b[S++]=k>>16&255}}function yt(o,d,v,b,S,k){if(k==0)for(v=d+v;d<v;)be(b,((k=o[d++])[0]>>24|k[1]>>8&65280|k[2]<<8&16711680|k[3]<<24)>>>0),S+=32;else n(b,S,o,d,v)}function sn(o,d){E[d][0]=E[o+"0"],E[d][1]=E[o+"1"],E[d][2]=E[o+"2"],E[d][3]=E[o+"3"],E[d][4]=E[o+"4"],E[d][5]=E[o+"5"],E[d][6]=E[o+"6"],E[d][7]=E[o+"7"],E[d][8]=E[o+"8"],E[d][9]=E[o+"9"],E[d][10]=E[o+"10"],E[d][11]=E[o+"11"],E[d][12]=E[o+"12"],E[d][13]=E[o+"13"],E[d][14]=E[o+"0"],E[d][15]=E[o+"0"]}function Me(o){return o==wu||o==xu||o==El||o==_u}function bt(){this.eb=[],this.size=this.A=this.fb=0}function Ye(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new bt,this.f.kb=new Ye,this.sd=null}function sr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function It(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function et(o){return alert("todo:WebPSamplerProcessPlane"),o.T}function At(o,d){var v=o.T,b=d.ba.f.RGBA,S=b.eb,k=b.fb+o.ka*b.A,L=hn[d.ba.S],C=o.y,R=o.O,M=o.f,X=o.N,ue=o.ea,de=o.W,se=d.cc,_e=d.dc,me=d.Mc,Q=d.Nc,ee=o.ka,we=o.ka+o.T,je=o.U,xe=je+1>>1;for(ee==0?L(C,R,null,null,M,X,ue,de,M,X,ue,de,S,k,null,null,je):(L(d.ec,d.fc,C,R,se,_e,me,Q,M,X,ue,de,S,k-b.A,S,k,je),++v);ee+2<we;ee+=2)se=M,_e=X,me=ue,Q=de,X+=o.Rc,de+=o.Rc,k+=2*b.A,L(C,(R+=2*o.fa)-o.fa,C,R,se,_e,me,Q,M,X,ue,de,S,k-b.A,S,k,je);return R+=o.fa,o.j+we<o.o?(n(d.ec,d.fc,C,R,je),n(d.cc,d.dc,M,X,xe),n(d.Mc,d.Nc,ue,de,xe),v--):1&we||L(C,R,null,null,M,X,ue,de,M,X,ue,de,S,k+b.A,null,null,je),v}function ei(o,d,v){var b=o.F,S=[o.J];if(b!=null){var k=o.U,L=d.ba.S,C=L==Cl||L==El;d=d.ba.f.RGBA;var R=[0],M=o.ka;R[0]=o.T,o.Kb&&(M==0?--R[0]:(--M,S[0]-=o.width),o.j+o.ka+o.T==o.o&&(R[0]=o.o-o.j-M));var X=d.eb;M=d.fb+M*d.A,o=Mt(b,S[0],o.width,k,R,X,M+(C?0:3),d.A),e(v==R),o&&Me(L)&&un(X,M,C,k,R,d.A)}return 0}function vr(o){var d=o.ma,v=d.ba.S,b=11>v,S=v==kl||v==Ll||v==Cl||v==bu||v==12||Me(v);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!co(d.Oa,o,S?11:12))return 0;if(S&&Me(v)&&ke(),o.da)alert("todo:use_scaling");else{if(b){if(d.Ib=et,o.Kb){if(v=o.U+1>>1,d.memory=i(o.U+2*v),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+o.U,d.Mc=d.cc,d.Nc=d.dc+v,d.Ib=At,ke()}}else alert("todo:EmitYUV");S&&(d.Jb=ei,b&&le())}if(b&&!Ph){for(o=0;256>o;++o)lg[o]=89858*(o-128)+Il>>Tl,dg[o]=-22014*(o-128)+Il,ug[o]=-45773*(o-128),cg[o]=113618*(o-128)+Il>>Tl;for(o=bo;o<ju;++o)d=76283*(o-16)+Il>>Tl,hg[o-bo]=Xr(d,255),fg[o-bo]=Xr(d+8>>4,15);Ph=1}return 1}function Mn(o){var d=o.ma,v=o.U,b=o.T;return e(!(1&o.ka)),0>=v||0>=b?0:(v=d.Ib(o,d),d.Jb!=null&&d.Jb(o,d,v),d.Dc+=v,1)}function Bn(o){o.ma.memory=null}function Ke(o,d,v,b){return pe(o,8)!=47?0:(d[0]=pe(o,14)+1,v[0]=pe(o,14)+1,b[0]=pe(o,1),pe(o,3)!=0?0:!o.h)}function gn(o,d){if(4>o)return o+1;var v=o-2>>1;return(2+(1&o)<<v)+pe(d,v)+1}function qn(o,d){return 120<d?d-120:1<=(v=((v=Km[d-1])>>4)*o+(8-(15&v)))?v:1;var v}function qr(o,d,v){var b=D(v),S=o[d+=255&b].g-8;return 0<S&&(W(v,v.u+8),b=D(v),d+=o[d].value,d+=b&(1<<S)-1),W(v,v.u+o[d].g),o[d].value}function ur(o,d,v){return v.g+=o.g,v.value+=o.value<<d>>>0,e(8>=v.g),o.g}function ir(o,d,v){var b=o.xc;return e((d=b==0?0:o.vc[o.md*(v>>b)+(d>>b)])<o.Wb),o.Ya[d]}function Yr(o,d,v,b){var S=o.ab,k=o.c*d,L=o.C;d=L+d;var C=v,R=b;for(b=o.Ta,v=o.Ua;0<S--;){var M=o.gc[S],X=L,ue=d,de=C,se=R,_e=(R=b,C=v,M.Ea);switch(e(X<ue),e(ue<=M.nc),M.hc){case 2:xl(de,se,(ue-X)*_e,R,C);break;case 0:var me=X,Q=ue,ee=R,we=C,je=(Re=M).Ea;me==0&&(vu(de,se,null,null,1,ee,we),at(de,se+1,0,0,je-1,ee,we+1),se+=je,we+=je,++me);for(var xe=1<<Re.b,qe=xe-1,Te=$e(je,Re.b),Ge=Re.K,Re=Re.w+(me>>Re.b)*Te;me<Q;){var jt=Ge,kt=Re,wt=1;for(fo(de,se,ee,we-je,1,ee,we);wt<je;){var mt=(wt&~qe)+xe;mt>je&&(mt=je),(0,bs[jt[kt++]>>8&15])(de,se+ +wt,ee,we+wt-je,mt-wt,ee,we+wt),wt=mt}se+=je,we+=je,++me&qe||(Re+=Te)}ue!=M.nc&&n(R,C-_e,R,C+(ue-X-1)*_e,_e);break;case 1:for(_e=de,Q=se,je=(de=M.Ea)-(we=de&~(ee=(se=1<<M.b)-1)),me=$e(de,M.b),xe=M.K,M=M.w+(X>>M.b)*me;X<ue;){for(qe=xe,Te=M,Ge=new Fe,Re=Q+we,jt=Q+de;Q<Re;)Nt(qe[Te++],Ge),ai(Ge,_e,Q,se,R,C),Q+=se,C+=se;Q<jt&&(Nt(qe[Te++],Ge),ai(Ge,_e,Q,je,R,C),Q+=je,C+=je),++X&ee||(M+=me)}break;case 3:if(de==R&&se==C&&0<M.b){for(Q=R,de=_e=C+(ue-X)*_e-(we=(ue-X)*$e(M.Ea,M.b)),se=R,ee=C,me=[],we=(je=we)-1;0<=we;--we)me[we]=se[ee+we];for(we=je-1;0<=we;--we)Q[de+we]=me[we];on(M,X,ue,R,_e,R,C)}else on(M,X,ue,de,se,R,C)}C=b,R=v}R!=v&&n(b,v,C,R,k)}function ki(o,d){var v=o.V,b=o.Ba+o.c*o.C,S=d-o.C;if(e(d<=o.l.o),e(16>=S),0<S){var k=o.l,L=o.Ta,C=o.Ua,R=k.width;if(Yr(o,S,v,b),S=C=[C],e((v=o.C)<(b=d)),e(k.v<k.va),b>k.o&&(b=k.o),v<k.j){var M=k.j-v;v=k.j,S[0]+=M*R}if(v>=b?v=0:(S[0]+=4*k.v,k.ka=v-k.j,k.U=k.va-k.v,k.T=b-v,v=1),v){if(C=C[0],11>(v=o.ca).S){var X=v.f.RGBA,ue=(b=v.S,S=k.U,k=k.T,M=X.eb,X.A),de=k;for(X=X.fb+o.Ma*X.A;0<de--;){var se=L,_e=C,me=S,Q=M,ee=X;switch(b){case Pl:zr(se,_e,me,Q,ee);break;case kl:Ir(se,_e,me,Q,ee);break;case wu:Ir(se,_e,me,Q,ee),un(Q,ee,0,me,1,0);break;case vh:as(se,_e,me,Q,ee);break;case Ll:yt(se,_e,me,Q,ee,1);break;case xu:yt(se,_e,me,Q,ee,1),un(Q,ee,0,me,1,0);break;case Cl:yt(se,_e,me,Q,ee,0);break;case El:yt(se,_e,me,Q,ee,0),un(Q,ee,1,me,1,0);break;case bu:ws(se,_e,me,Q,ee);break;case _u:ws(se,_e,me,Q,ee),Dt(Q,ee,me,1,0);break;case yh:is(se,_e,me,Q,ee);break;default:e(0)}C+=R,X+=ue}o.Ma+=k}else alert("todo:EmitRescaledRowsYUVA");e(o.Ma<=v.height)}}o.C=d,e(o.C<=o.i)}function rs(o){var d;if(0<o.ua)return 0;for(d=0;d<o.Wb;++d){var v=o.Ya[d].G,b=o.Ya[d].H;if(0<v[1][b[1]+0].g||0<v[2][b[2]+0].g||0<v[3][b[3]+0].g)return 0}return 1}function vn(o,d,v,b,S,k){if(o.Z!=0){var L=o.qd,C=o.rd;for(e(Ss[o.Z]!=null);d<v;++d)Ss[o.Z](L,C,b,S,b,S,k),L=b,C=S,S+=k;o.qd=L,o.rd=C}}function yn(o,d){var v=o.l.ma,b=v.Z==0||v.Z==1?o.l.j:o.C;if(b=o.C<b?b:o.C,e(d<=o.l.o),d>b){var S=o.l.width,k=v.ca,L=v.tb+S*b,C=o.V,R=o.Ba+o.c*b,M=o.gc;e(o.ab==1),e(M[0].hc==3),_l(M[0],b,d,C,R,k,L),vn(v,b,d,k,L,S)}o.C=o.Ma=d}function bn(o,d,v,b,S,k,L){var C=o.$/b,R=o.$%b,M=o.m,X=o.s,ue=v+o.$,de=ue;S=v+b*S;var se=v+b*k,_e=280+X.ua,me=o.Pb?C:16777216,Q=0<X.ua?X.Wa:null,ee=X.wc,we=ue<se?ir(X,R,C):null;e(o.C<k),e(se<=S);var je=!1;e:for(;;){for(;je||ue<se;){var xe=0;if(C>=me){var qe=ue-v;e((me=o).Pb),me.wd=me.m,me.xd=qe,0<me.s.ua&&ge(me.s.Wa,me.s.vb),me=C+Ym}if(R&ee||(we=ir(X,R,C)),e(we!=null),we.Qb&&(d[ue]=we.qb,je=!0),!je)if(J(M),we.jc){xe=M,qe=d;var Te=ue,Ge=we.pd[D(xe)&yr-1];e(we.jc),256>Ge.g?(W(xe,xe.u+Ge.g),qe[Te]=Ge.value,xe=0):(W(xe,xe.u+Ge.g-256),e(256<=Ge.value),xe=Ge.value),xe==0&&(je=!0)}else xe=qr(we.G[0],we.H[0],M);if(M.h)break;if(je||256>xe){if(!je)if(we.nd)d[ue]=(we.qb|xe<<8)>>>0;else{if(J(M),je=qr(we.G[1],we.H[1],M),J(M),qe=qr(we.G[2],we.H[2],M),Te=qr(we.G[3],we.H[3],M),M.h)break;d[ue]=(Te<<24|je<<16|xe<<8|qe)>>>0}if(je=!1,++ue,++R>=b&&(R=0,++C,L!=null&&C<=k&&!(C%16)&&L(o,C),Q!=null))for(;de<ue;)xe=d[de++],Q.X[(506832829*xe&4294967295)>>>Q.Mb]=xe}else if(280>xe){if(xe=gn(xe-256,M),qe=qr(we.G[4],we.H[4],M),J(M),qe=qn(b,qe=gn(qe,M)),M.h)break;if(ue-v<qe||S-ue<xe)break e;for(Te=0;Te<xe;++Te)d[ue+Te]=d[ue+Te-qe];for(ue+=xe,R+=xe;R>=b;)R-=b,++C,L!=null&&C<=k&&!(C%16)&&L(o,C);if(e(ue<=S),R&ee&&(we=ir(X,R,C)),Q!=null)for(;de<ue;)xe=d[de++],Q.X[(506832829*xe&4294967295)>>>Q.Mb]=xe}else{if(!(xe<_e))break e;for(je=xe-280,e(Q!=null);de<ue;)xe=d[de++],Q.X[(506832829*xe&4294967295)>>>Q.Mb]=xe;xe=ue,e(!(je>>>(qe=Q).Xa)),d[xe]=qe.X[je],je=!0}je||e(M.h==U(M))}if(o.Pb&&M.h&&ue<S)e(o.m.h),o.a=5,o.m=o.wd,o.$=o.xd,0<o.s.ua&&ge(o.s.vb,o.s.Wa);else{if(M.h)break e;L!=null&&L(o,C>k?k:C),o.a=0,o.$=ue-v}return 1}return o.a=3,0}function Un(o){e(o!=null),o.vc=null,o.yc=null,o.Ya=null;var d=o.Wa;d!=null&&(d.X=null),o.vb=null,e(o!=null)}function an(){var o=new gu;return o==null?null:(o.a=0,o.xb=xh,sn("Predictor","VP8LPredictors"),sn("Predictor","VP8LPredictors_C"),sn("PredictorAdd","VP8LPredictorsAdd"),sn("PredictorAdd","VP8LPredictorsAdd_C"),xl=ct,ai=We,zr=De,Ir=cr,ws=gt,is=Jr,as=St,E.VP8LMapColor32b=Ki,E.VP8LMapColor8b=Nl,o)}function $n(o,d,v,b,S){var k=1,L=[o],C=[d],R=b.m,M=b.s,X=null,ue=0;e:for(;;){if(v)for(;k&&pe(R,1);){var de=L,se=C,_e=b,me=1,Q=_e.m,ee=_e.gc[_e.ab],we=pe(Q,2);if(_e.Oc&1<<we)k=0;else{switch(_e.Oc|=1<<we,ee.hc=we,ee.Ea=de[0],ee.nc=se[0],ee.K=[null],++_e.ab,e(4>=_e.ab),we){case 0:case 1:ee.b=pe(Q,3)+2,me=$n($e(ee.Ea,ee.b),$e(ee.nc,ee.b),0,_e,ee.K),ee.K=ee.K[0];break;case 3:var je,xe=pe(Q,8)+1,qe=16<xe?0:4<xe?1:2<xe?2:3;if(de[0]=$e(ee.Ea,qe),ee.b=qe,je=me=$n(xe,1,0,_e,ee.K)){var Te,Ge=xe,Re=ee,jt=1<<(8>>Re.b),kt=i(jt);if(kt==null)je=0;else{var wt=Re.K[0],mt=Re.w;for(kt[0]=Re.K[0][0],Te=1;Te<1*Ge;++Te)kt[Te]=Se(wt[mt+Te],kt[Te-1]);for(;Te<4*jt;++Te)kt[Te]=0;Re.K[0]=null,Re.K[0]=kt,je=1}}me=je;break;case 2:break;default:e(0)}k=me}}if(L=L[0],C=C[0],k&&pe(R,1)&&!(k=1<=(ue=pe(R,4))&&11>=ue)){b.a=3;break e}var Rt;if(Rt=k)t:{var Tt,ot,or,Hr=b,lr=L,Vr=C,Lt=ue,Zr=v,en=Hr.m,fr=Hr.s,br=[null],Or=1,fn=0,Wn=Jm[Lt];r:for(;;){if(Zr&&pe(en,1)){var pr=pe(en,3)+2,us=$e(lr,pr),di=$e(Vr,pr),Zi=us*di;if(!$n(us,di,0,Hr,br))break r;for(br=br[0],fr.xc=pr,Tt=0;Tt<Zi;++Tt){var js=br[Tt]>>8&65535;br[Tt]=js,js>=Or&&(Or=js+1)}}if(en.h)break r;for(ot=0;5>ot;++ot){var Jt=bh[ot];!ot&&0<Lt&&(Jt+=1<<Lt),fn<Jt&&(fn=Jt)}var Au=a(Or*Wn,F),Ch=Or,Eh=a(Ch,B);if(Eh==null)var Ol=null;else e(65536>=Ch),Ol=Eh;var wo=i(fn);if(Ol==null||wo==null||Au==null){Hr.a=1;break r}var Fl=Au;for(Tt=or=0;Tt<Or;++Tt){var Sn=Ol[Tt],ea=Sn.G,ta=Sn.H,Th=0,Dl=1,Ih=0;for(ot=0;5>ot;++ot){Jt=bh[ot],ea[ot]=Fl,ta[ot]=or,!ot&&0<Lt&&(Jt+=1<<Lt);s:{var Ml,Pu=Jt,Bl=Hr,xo=wo,gg=Fl,vg=or,ku=0,As=Bl.m,yg=pe(As,1);if(s(xo,0,0,Pu),yg){var bg=pe(As,1)+1,wg=pe(As,1),Rh=pe(As,wg==0?1:8);xo[Rh]=1,bg==2&&(xo[Rh=pe(As,8)]=1);var ql=1}else{var Oh=i(19),Fh=pe(As,4)+4;if(19<Fh){Bl.a=3;var Ul=0;break s}for(Ml=0;Ml<Fh;++Ml)Oh[Gm[Ml]]=pe(As,3);var Lu=void 0,_o=void 0,Dh=Bl,xg=Oh,$l=Pu,Mh=xo,Cu=0,Ps=Dh.m,Bh=8,qh=a(128,F);n:for(;I(qh,0,7,xg,19);){if(pe(Ps,1)){var _g=2+2*pe(Ps,3);if((Lu=2+pe(Ps,_g))>$l)break n}else Lu=$l;for(_o=0;_o<$l&&Lu--;){J(Ps);var Uh=qh[0+(127&D(Ps))];W(Ps,Ps.u+Uh.g);var ra=Uh.value;if(16>ra)Mh[_o++]=ra,ra!=0&&(Bh=ra);else{var Ng=ra==16,$h=ra-16,Sg=Vm[$h],zh=pe(Ps,Hm[$h])+Sg;if(_o+zh>$l)break n;for(var jg=Ng?Bh:0;0<zh--;)Mh[_o++]=jg}}Cu=1;break n}Cu||(Dh.a=3),ql=Cu}(ql=ql&&!As.h)&&(ku=I(gg,vg,8,xo,Pu)),ql&&ku!=0?Ul=ku:(Bl.a=3,Ul=0)}if(Ul==0)break r;if(Dl&&Wm[ot]==1&&(Dl=Fl[or].g==0),Th+=Fl[or].g,or+=Ul,3>=ot){var No,Eu=wo[0];for(No=1;No<Jt;++No)wo[No]>Eu&&(Eu=wo[No]);Ih+=Eu}}if(Sn.nd=Dl,Sn.Qb=0,Dl&&(Sn.qb=(ea[3][ta[3]+0].value<<24|ea[1][ta[1]+0].value<<16|ea[2][ta[2]+0].value)>>>0,Th==0&&256>ea[0][ta[0]+0].value&&(Sn.Qb=1,Sn.qb+=ea[0][ta[0]+0].value<<8)),Sn.jc=!Sn.Qb&&6>Ih,Sn.jc){var zl,ds=Sn;for(zl=0;zl<yr;++zl){var ks=zl,Ls=ds.pd[ks],Hl=ds.G[0][ds.H[0]+ks];256<=Hl.value?(Ls.g=Hl.g+256,Ls.value=Hl.value):(Ls.g=0,Ls.value=0,ks>>=ur(Hl,8,Ls),ks>>=ur(ds.G[1][ds.H[1]+ks],16,Ls),ks>>=ur(ds.G[2][ds.H[2]+ks],0,Ls),ur(ds.G[3][ds.H[3]+ks],24,Ls))}}}fr.vc=br,fr.Wb=Or,fr.Ya=Ol,fr.yc=Au,Rt=1;break t}Rt=0}if(!(k=Rt)){b.a=3;break e}if(0<ue){if(M.ua=1<<ue,!ze(M.Wa,ue)){b.a=1,k=0;break e}}else M.ua=0;var Tu=b,Hh=L,Ag=C,Iu=Tu.s,Ru=Iu.xc;if(Tu.c=Hh,Tu.i=Ag,Iu.md=$e(Hh,Ru),Iu.wc=Ru==0?-1:(1<<Ru)-1,v){b.xb=ng;break e}if((X=i(L*C))==null){b.a=1,k=0;break e}k=(k=bn(b,X,0,L,C,C,null))&&!R.h;break e}return k?(S!=null?S[0]=X:(e(X==null),e(v)),b.$=0,v||Un(M)):Un(M),k}function ti(o,d){var v=o.c*o.i,b=v+d+16*d;return e(o.c<=d),o.V=i(b),o.V==null?(o.Ta=null,o.Ua=0,o.a=1,0):(o.Ta=o.V,o.Ua=o.Ba+v+d,1)}function Li(o,d){var v=o.C,b=d-v,S=o.V,k=o.Ba+o.c*v;for(e(d<=o.l.o);0<b;){var L=16<b?16:b,C=o.l.ma,R=o.l.width,M=R*L,X=C.ca,ue=C.tb+R*v,de=o.Ta,se=o.Ua;Yr(o,L,S,k),er(de,se,X,ue,M),vn(C,v,v+L,X,ue,R),b-=L,S+=L*o.c,v+=L}e(v==d),o.C=o.Ma=d}function Ci(){this.ub=this.yd=this.td=this.Rb=0}function Ei(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ti(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function tl(){this.Yb=function(){var o=[];return function d(v,b,S){for(var k=S[b],L=0;L<k&&(v.push(S.length>b+1?[]:0),!(S.length<b+1));L++)d(v[L],b+1,S)}(o,0,[3,11]),o}()}function Gc(){this.jb=i(3),this.Wc=l([4,8],tl),this.Xc=l([4,17],tl)}function Kc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ii(){this.ld=this.La=this.dd=this.tc=0}function rl(){this.Na=this.la=0}function Jc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ga(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Yc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ii),this.Y=0,this.ya=Array(new Ga),this.aa=0,this.l=new Ri}function nl(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Xc(){this.cb=this.a=0,this.sc="",this.m=new Ae,this.Od=new Ci,this.Kc=new Ei,this.ed=new Kc,this.Qa=new Ti,this.Ic=this.$c=this.Aa=0,this.D=new Yc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Ae),this.ia=0,this.pb=a(4,Jc),this.Pa=new Gc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new nl),this.Hd=0,this.rb=Array(new rl),this.sb=0,this.wa=Array(new Ii),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ga),this.L=this.aa=0,this.gd=l([4,2],Ii),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ri(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Qc(){var o=new Xc;return o!=null&&(o.a=0,o.sc="OK",o.cb=0,o.Xb=0,yo||(yo=al)),o}function Qt(o,d,v){return o.a==0&&(o.a=d,o.sc=v,o.cb=0),0}function sl(o,d,v){return 3<=v&&o[d+0]==157&&o[d+1]==1&&o[d+2]==42}function il(o,d){if(o==null)return 0;if(o.a=0,o.sc="OK",d==null)return Qt(o,2,"null VP8Io passed to VP8GetHeaders()");var v=d.data,b=d.w,S=d.ha;if(4>S)return Qt(o,7,"Truncated header.");var k=v[b+0]|v[b+1]<<8|v[b+2]<<16,L=o.Od;if(L.Rb=!(1&k),L.td=k>>1&7,L.yd=k>>4&1,L.ub=k>>5,3<L.td)return Qt(o,3,"Incorrect keyframe parameters.");if(!L.yd)return Qt(o,4,"Frame not displayable.");b+=3,S-=3;var C=o.Kc;if(L.Rb){if(7>S)return Qt(o,7,"cannot parse picture header");if(!sl(v,b,S))return Qt(o,3,"Bad code word");C.c=16383&(v[b+4]<<8|v[b+3]),C.Td=v[b+4]>>6,C.i=16383&(v[b+6]<<8|v[b+5]),C.Ud=v[b+6]>>6,b+=7,S-=7,o.za=C.c+15>>4,o.Ub=C.i+15>>4,d.width=C.c,d.height=C.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,s((k=o.Pa).jb,0,255,k.jb.length),e((k=o.Qa)!=null),k.Cb=0,k.Bb=0,k.Fb=1,s(k.Zb,0,0,k.Zb.length),s(k.Lb,0,0,k.Lb)}if(L.ub>S)return Qt(o,7,"bad partition length");oe(k=o.m,v,b,L.ub),b+=L.ub,S-=L.ub,L.Rb&&(C.Ld=ae(k),C.Kd=ae(k)),C=o.Qa;var R,M=o.Pa;if(e(k!=null),e(C!=null),C.Cb=ae(k),C.Cb){if(C.Bb=ae(k),ae(k)){for(C.Fb=ae(k),R=0;4>R;++R)C.Zb[R]=ae(k)?fe(k,7):0;for(R=0;4>R;++R)C.Lb[R]=ae(k)?fe(k,6):0}if(C.Bb)for(R=0;3>R;++R)M.jb[R]=ae(k)?ie(k,8):255}else C.Bb=0;if(k.Ka)return Qt(o,3,"cannot parse segment header");if((C=o.ed).zd=ae(k),C.Tb=ie(k,6),C.wb=ie(k,3),C.Pc=ae(k),C.Pc&&ae(k)){for(M=0;4>M;++M)ae(k)&&(C.vd[M]=fe(k,6));for(M=0;4>M;++M)ae(k)&&(C.od[M]=fe(k,6))}if(o.L=C.Tb==0?0:C.zd?1:2,k.Ka)return Qt(o,3,"cannot parse filter header");var X=S;if(S=R=b,b=R+X,C=X,o.Xb=(1<<ie(o.m,2))-1,X<3*(M=o.Xb))v=7;else{for(R+=3*M,C-=3*M,X=0;X<M;++X){var ue=v[S+0]|v[S+1]<<8|v[S+2]<<16;ue>C&&(ue=C),oe(o.Jc[+X],v,R,ue),R+=ue,C-=ue,S+=3}oe(o.Jc[+M],v,R,C),v=R<b?0:5}if(v!=0)return Qt(o,v,"cannot parse partitions");for(v=ie(R=o.m,7),S=ae(R)?fe(R,4):0,b=ae(R)?fe(R,4):0,C=ae(R)?fe(R,4):0,M=ae(R)?fe(R,4):0,R=ae(R)?fe(R,4):0,X=o.Qa,ue=0;4>ue;++ue){if(X.Cb){var de=X.Zb[ue];X.Fb||(de+=v)}else{if(0<ue){o.pb[ue]=o.pb[0];continue}de=v}var se=o.pb[ue];se.Sc[0]=Nu[Xr(de+S,127)],se.Sc[1]=Su[Xr(de+0,127)],se.Eb[0]=2*Nu[Xr(de+b,127)],se.Eb[1]=101581*Su[Xr(de+C,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=Nu[Xr(de+M,117)],se.Qc[1]=Su[Xr(de+R,127)],se.lc=de+R}if(!L.Rb)return Qt(o,4,"Not a key frame.");for(ae(k),L=o.Pa,v=0;4>v;++v){for(S=0;8>S;++S)for(b=0;3>b;++b)for(C=0;11>C;++C)M=ce(k,tg[v][S][b][C])?ie(k,8):Zm[v][S][b][C],L.Wc[v][S].Yb[b][C]=M;for(S=0;17>S;++S)L.Xc[v][S]=L.Wc[v][rg[S]]}return o.kc=ae(k),o.kc&&(o.Bd=ie(k,8)),o.cb=1}function al(o,d,v,b,S,k,L){var C=d[S].Yb[v];for(v=0;16>S;++S){if(!ce(o,C[v+0]))return S;for(;!ce(o,C[v+1]);)if(C=d[++S].Yb[0],v=0,S==16)return 16;var R=d[S+1].Yb;if(ce(o,C[v+2])){var M=o,X=0;if(ce(M,(de=C)[(ue=v)+3]))if(ce(M,de[ue+6])){for(C=0,ue=2*(X=ce(M,de[ue+8]))+(de=ce(M,de[ue+9+X])),X=0,de=Xm[ue];de[C];++C)X+=X+ce(M,de[C]);X+=3+(8<<ue)}else ce(M,de[ue+7])?(X=7+2*ce(M,165),X+=ce(M,145)):X=5+ce(M,159);else X=ce(M,de[ue+4])?3+ce(M,de[ue+5]):2;C=R[2]}else X=1,C=R[1];R=L+Qm[S],0>(M=o).b&&Z(M);var ue,de=M.b,se=(ue=M.Ca>>1)-(M.I>>de)>>31;--M.b,M.Ca+=se,M.Ca|=1,M.I-=(ue+1&se)<<de,k[R]=((X^se)-se)*b[(0<S)+0]}return 16}function Ka(o){var d=o.rb[o.sb-1];d.la=0,d.Na=0,s(o.zc,0,0,o.zc.length),o.ja=0}function Zc(o,d){if(o==null)return 0;if(d==null)return Qt(o,2,"NULL VP8Io parameter in VP8Decode().");if(!o.cb&&!il(o,d))return 0;if(e(o.cb),d.ac==null||d.ac(d)){d.ob&&(o.L=0);var v=Rl[o.L];if(o.L==2?(o.yb=0,o.zb=0):(o.yb=d.v-v>>4,o.zb=d.j-v>>4,0>o.yb&&(o.yb=0),0>o.zb&&(o.zb=0)),o.Va=d.o+15+v>>4,o.Hb=d.va+15+v>>4,o.Hb>o.za&&(o.Hb=o.za),o.Va>o.Ub&&(o.Va=o.Ub),0<o.L){var b=o.ed;for(v=0;4>v;++v){var S;if(o.Qa.Cb){var k=o.Qa.Lb[v];o.Qa.Fb||(k+=b.Tb)}else k=b.Tb;for(S=0;1>=S;++S){var L=o.gd[v][S],C=k;if(b.Pc&&(C+=b.vd[0],S&&(C+=b.od[0])),0<(C=0>C?0:63<C?63:C)){var R=C;0<b.wb&&(R=4<b.wb?R>>2:R>>1)>9-b.wb&&(R=9-b.wb),1>R&&(R=1),L.dd=R,L.tc=2*C+R,L.ld=40<=C?2:15<=C?1:0}else L.tc=0;L.La=S}}}v=0}else Qt(o,6,"Frame setup failed"),v=o.a;if(v=v==0){if(v){o.$c=0,0<o.Aa||(o.Ic=mg);e:{v=o.Ic,b=4*(R=o.za);var M=32*R,X=R+1,ue=0<o.L?R*(0<o.Aa?2:1):0,de=(o.Aa==2?2:1)*R;if((L=b+832+(S=3*(16*v+Rl[o.L])/2*M)+(k=o.Fa!=null&&0<o.Fa.length?o.Kc.c*o.Kc.i:0))!=L)v=0;else{if(L>o.Vb){if(o.Vb=0,o.Ec=i(L),o.Fc=0,o.Ec==null){v=Qt(o,1,"no memory during frame initialization.");break e}o.Vb=L}L=o.Ec,C=o.Fc,o.Ac=L,o.Bc=C,C+=b,o.Gd=a(M,nl),o.Hd=0,o.rb=a(X+1,rl),o.sb=1,o.wa=ue?a(ue,Ii):null,o.Y=0,o.D.Nb=0,o.D.wa=o.wa,o.D.Y=o.Y,0<o.Aa&&(o.D.Y+=R),e(!0),o.oc=L,o.pc=C,C+=832,o.ya=a(de,Ga),o.aa=0,o.D.ya=o.ya,o.D.aa=o.aa,o.Aa==2&&(o.D.aa+=R),o.R=16*R,o.B=8*R,R=(M=Rl[o.L])*o.R,M=M/2*o.B,o.sa=L,o.ta=C+R,o.qa=o.sa,o.ra=o.ta+16*v*o.R+M,o.Ha=o.qa,o.Ia=o.ra+8*v*o.B+M,o.$c=0,C+=S,o.mb=k?L:null,o.nb=k?C:null,e(C+k<=o.Fc+o.Vb),Ka(o),s(o.Ac,o.Bc,0,b),v=1}}if(v){if(d.ka=0,d.y=o.sa,d.O=o.ta,d.f=o.qa,d.N=o.ra,d.ea=o.Ha,d.Vd=o.Ia,d.fa=o.R,d.Rc=o.B,d.F=null,d.J=0,!jl){for(v=-255;255>=v;++v)dr[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)ls[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)vo[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)Qi[255+v]=0>v?0:255<v?255:v;jl=1}Ji=ru,os=eu,po=ll,Rr=tu,ln=cl,Zt=ol,Yi=eo,Sl=si,mo=mu,oi=to,li=pu,xs=qi,ci=ro,Xi=yl,ui=vl,_s=Hn,go=ss,cn=fu,Nn[0]=zn,Nn[1]=nu,Nn[2]=ou,Nn[3]=lu,Nn[4]=hl,Nn[5]=Mi,Nn[6]=fl,Nn[7]=Xa,Nn[8]=uu,Nn[9]=cu,Ns[0]=ul,Ns[1]=iu,Ns[2]=ns,Ns[3]=Fi,Ns[4]=Sr,Ns[5]=au,Ns[6]=dl,cs[0]=gs,cs[1]=su,cs[2]=du,cs[3]=Qa,cs[4]=ni,cs[5]=hu,cs[6]=Za,v=1}else v=0}v&&(v=function(se,_e){for(se.M=0;se.M<se.Va;++se.M){var me,Q=se.Jc[se.M&se.Xb],ee=se.m,we=se;for(me=0;me<we.za;++me){var je=ee,xe=we,qe=xe.Ac,Te=xe.Bc+4*me,Ge=xe.zc,Re=xe.ya[xe.aa+me];if(xe.Qa.Bb?Re.$b=ce(je,xe.Pa.jb[0])?2+ce(je,xe.Pa.jb[2]):ce(je,xe.Pa.jb[1]):Re.$b=0,xe.kc&&(Re.Ad=ce(je,xe.Bd)),Re.Za=!ce(je,145)+0,Re.Za){var jt=Re.Ob,kt=0;for(xe=0;4>xe;++xe){var wt,mt=Ge[0+xe];for(wt=0;4>wt;++wt){mt=eg[qe[Te+wt]][mt];for(var Rt=wh[ce(je,mt[0])];0<Rt;)Rt=wh[2*Rt+ce(je,mt[Rt])];mt=-Rt,qe[Te+wt]=mt}n(jt,kt,qe,Te,4),kt+=4,Ge[0+xe]=mt}}else mt=ce(je,156)?ce(je,128)?1:3:ce(je,163)?2:0,Re.Ob[0]=mt,s(qe,Te,mt,4),s(Ge,0,mt,4);Re.Dd=ce(je,142)?ce(je,114)?ce(je,183)?1:3:2:0}if(we.m.Ka)return Qt(se,7,"Premature end-of-partition0 encountered.");for(;se.ja<se.za;++se.ja){if(we=Q,je=(ee=se).rb[ee.sb-1],qe=ee.rb[ee.sb+ee.ja],me=ee.ya[ee.aa+ee.ja],Te=ee.kc?me.Ad:0)je.la=qe.la=0,me.Za||(je.Na=qe.Na=0),me.Hc=0,me.Gc=0,me.ia=0;else{var Tt,ot;if(je=qe,qe=we,Te=ee.Pa.Xc,Ge=ee.ya[ee.aa+ee.ja],Re=ee.pb[Ge.$b],xe=Ge.ad,jt=0,kt=ee.rb[ee.sb-1],mt=wt=0,s(xe,jt,0,384),Ge.Za)var or=0,Hr=Te[3];else{Rt=i(16);var lr=je.Na+kt.Na;if(lr=yo(qe,Te[1],lr,Re.Eb,0,Rt,0),je.Na=kt.Na=(0<lr)+0,1<lr)Ji(Rt,0,xe,jt);else{var Vr=Rt[0]+3>>3;for(Rt=0;256>Rt;Rt+=16)xe[jt+Rt]=Vr}or=1,Hr=Te[0]}var Lt=15&je.la,Zr=15&kt.la;for(Rt=0;4>Rt;++Rt){var en=1&Zr;for(Vr=ot=0;4>Vr;++Vr)Lt=Lt>>1|(en=(lr=yo(qe,Hr,lr=en+(1&Lt),Re.Sc,or,xe,jt))>or)<<7,ot=ot<<2|(3<lr?3:1<lr?2:xe[jt+0]!=0),jt+=16;Lt>>=4,Zr=Zr>>1|en<<7,wt=(wt<<8|ot)>>>0}for(Hr=Lt,or=Zr>>4,Tt=0;4>Tt;Tt+=2){for(ot=0,Lt=je.la>>4+Tt,Zr=kt.la>>4+Tt,Rt=0;2>Rt;++Rt){for(en=1&Zr,Vr=0;2>Vr;++Vr)lr=en+(1&Lt),Lt=Lt>>1|(en=0<(lr=yo(qe,Te[2],lr,Re.Qc,0,xe,jt)))<<3,ot=ot<<2|(3<lr?3:1<lr?2:xe[jt+0]!=0),jt+=16;Lt>>=2,Zr=Zr>>1|en<<5}mt|=ot<<4*Tt,Hr|=Lt<<4<<Tt,or|=(240&Zr)<<Tt}je.la=Hr,kt.la=or,Ge.Hc=wt,Ge.Gc=mt,Ge.ia=43690&mt?0:Re.ia,Te=!(wt|mt)}if(0<ee.L&&(ee.wa[ee.Y+ee.ja]=ee.gd[me.$b][me.Za],ee.wa[ee.Y+ee.ja].La|=!Te),we.Ka)return Qt(se,7,"Premature end-of-file encountered.")}if(Ka(se),ee=_e,we=1,me=(Q=se).D,je=0<Q.L&&Q.M>=Q.zb&&Q.M<=Q.Va,Q.Aa==0)e:{if(me.M=Q.M,me.uc=je,lo(Q,me),we=1,me=(ot=Q.D).Nb,je=(mt=Rl[Q.L])*Q.R,qe=mt/2*Q.B,Rt=16*me*Q.R,Vr=8*me*Q.B,Te=Q.sa,Ge=Q.ta-je+Rt,Re=Q.qa,xe=Q.ra-qe+Vr,jt=Q.Ha,kt=Q.Ia-qe+Vr,Zr=(Lt=ot.M)==0,wt=Lt>=Q.Va-1,Q.Aa==2&&lo(Q,ot),ot.uc)for(en=(lr=Q).D.M,e(lr.D.uc),ot=lr.yb;ot<lr.Hb;++ot){or=ot,Hr=en;var fr=(br=(Jt=lr).D).Nb;Tt=Jt.R;var br=br.wa[br.Y+or],Or=Jt.sa,fn=Jt.ta+16*fr*Tt+16*or,Wn=br.dd,pr=br.tc;if(pr!=0)if(e(3<=pr),Jt.L==1)0<or&&_s(Or,fn,Tt,pr+4),br.La&&cn(Or,fn,Tt,pr),0<Hr&&ui(Or,fn,Tt,pr+4),br.La&&go(Or,fn,Tt,pr);else{var us=Jt.B,di=Jt.qa,Zi=Jt.ra+8*fr*us+8*or,js=Jt.Ha,Jt=Jt.Ia+8*fr*us+8*or;fr=br.ld,0<or&&(Sl(Or,fn,Tt,pr+4,Wn,fr),oi(di,Zi,js,Jt,us,pr+4,Wn,fr)),br.La&&(xs(Or,fn,Tt,pr,Wn,fr),Xi(di,Zi,js,Jt,us,pr,Wn,fr)),0<Hr&&(Yi(Or,fn,Tt,pr+4,Wn,fr),mo(di,Zi,js,Jt,us,pr+4,Wn,fr)),br.La&&(li(Or,fn,Tt,pr,Wn,fr),ci(di,Zi,js,Jt,us,pr,Wn,fr))}}if(Q.ia&&alert("todo:DitherRow"),ee.put!=null){if(ot=16*Lt,Lt=16*(Lt+1),Zr?(ee.y=Q.sa,ee.O=Q.ta+Rt,ee.f=Q.qa,ee.N=Q.ra+Vr,ee.ea=Q.Ha,ee.W=Q.Ia+Vr):(ot-=mt,ee.y=Te,ee.O=Ge,ee.f=Re,ee.N=xe,ee.ea=jt,ee.W=kt),wt||(Lt-=mt),Lt>ee.o&&(Lt=ee.o),ee.F=null,ee.J=null,Q.Fa!=null&&0<Q.Fa.length&&ot<Lt&&(ee.J=ao(Q,ee,ot,Lt-ot),ee.F=Q.mb,ee.F==null&&ee.F.length==0)){we=Qt(Q,3,"Could not decode alpha data.");break e}ot<ee.j&&(mt=ee.j-ot,ot=ee.j,e(!(1&mt)),ee.O+=Q.R*mt,ee.N+=Q.B*(mt>>1),ee.W+=Q.B*(mt>>1),ee.F!=null&&(ee.J+=ee.width*mt)),ot<Lt&&(ee.O+=ee.v,ee.N+=ee.v>>1,ee.W+=ee.v>>1,ee.F!=null&&(ee.J+=ee.v),ee.ka=ot-ee.j,ee.U=ee.va-ee.v,ee.T=Lt-ot,we=ee.put(ee))}me+1!=Q.Ic||wt||(n(Q.sa,Q.ta-je,Te,Ge+16*Q.R,je),n(Q.qa,Q.ra-qe,Re,xe+8*Q.B,qe),n(Q.Ha,Q.Ia-qe,jt,kt+8*Q.B,qe))}if(!we)return Qt(se,6,"Output aborted.")}return 1}(o,d)),d.bc!=null&&d.bc(d),v&=1}return v?(o.cb=0,v):0}function wn(o,d,v,b,S){S=o[d+v+32*b]+(S>>3),o[d+v+32*b]=-256&S?0>S?0:255:S}function Oi(o,d,v,b,S,k){wn(o,d,0,v,b+S),wn(o,d,1,v,b+k),wn(o,d,2,v,b-k),wn(o,d,3,v,b-S)}function Ur(o){return(20091*o>>16)+o}function Ja(o,d,v,b){var S,k=0,L=i(16);for(S=0;4>S;++S){var C=o[d+0]+o[d+8],R=o[d+0]-o[d+8],M=(35468*o[d+4]>>16)-Ur(o[d+12]),X=Ur(o[d+4])+(35468*o[d+12]>>16);L[k+0]=C+X,L[k+1]=R+M,L[k+2]=R-M,L[k+3]=C-X,k+=4,d++}for(S=k=0;4>S;++S)C=(o=L[k+0]+4)+L[k+8],R=o-L[k+8],M=(35468*L[k+4]>>16)-Ur(L[k+12]),wn(v,b,0,0,C+(X=Ur(L[k+4])+(35468*L[k+12]>>16))),wn(v,b,1,0,R+M),wn(v,b,2,0,R-M),wn(v,b,3,0,C-X),k++,b+=32}function ol(o,d,v,b){var S=o[d+0]+4,k=35468*o[d+4]>>16,L=Ur(o[d+4]),C=35468*o[d+1]>>16;Oi(v,b,0,S+L,o=Ur(o[d+1]),C),Oi(v,b,1,S+k,o,C),Oi(v,b,2,S-k,o,C),Oi(v,b,3,S-L,o,C)}function eu(o,d,v,b,S){Ja(o,d,v,b),S&&Ja(o,d+16,v,b+4)}function ll(o,d,v,b){os(o,d+0,v,b,1),os(o,d+32,v,b+128,1)}function tu(o,d,v,b){var S;for(o=o[d+0]+4,S=0;4>S;++S)for(d=0;4>d;++d)wn(v,b,d,S,o)}function cl(o,d,v,b){o[d+0]&&Rr(o,d+0,v,b),o[d+16]&&Rr(o,d+16,v,b+4),o[d+32]&&Rr(o,d+32,v,b+128),o[d+48]&&Rr(o,d+48,v,b+128+4)}function ru(o,d,v,b){var S,k=i(16);for(S=0;4>S;++S){var L=o[d+0+S]+o[d+12+S],C=o[d+4+S]+o[d+8+S],R=o[d+4+S]-o[d+8+S],M=o[d+0+S]-o[d+12+S];k[0+S]=L+C,k[8+S]=L-C,k[4+S]=M+R,k[12+S]=M-R}for(S=0;4>S;++S)L=(o=k[0+4*S]+3)+k[3+4*S],C=k[1+4*S]+k[2+4*S],R=k[1+4*S]-k[2+4*S],M=o-k[3+4*S],v[b+0]=L+C>>3,v[b+16]=M+R>>3,v[b+32]=L-C>>3,v[b+48]=M-R>>3,b+=64}function Ya(o,d,v){var b,S=d-32,k=Qr,L=255-o[S-1];for(b=0;b<v;++b){var C,R=k,M=L+o[d-1];for(C=0;C<v;++C)o[d+C]=R[M+o[S+C]];d+=32}}function nu(o,d){Ya(o,d,4)}function su(o,d){Ya(o,d,8)}function iu(o,d){Ya(o,d,16)}function ns(o,d){var v;for(v=0;16>v;++v)n(o,d+32*v,o,d-32,16)}function Fi(o,d){var v;for(v=16;0<v;--v)s(o,d,o[d-1],16),d+=32}function Di(o,d,v){var b;for(b=0;16>b;++b)s(d,v+32*b,o,16)}function ul(o,d){var v,b=16;for(v=0;16>v;++v)b+=o[d-1+32*v]+o[d+v-32];Di(b>>5,o,d)}function Sr(o,d){var v,b=8;for(v=0;16>v;++v)b+=o[d-1+32*v];Di(b>>4,o,d)}function au(o,d){var v,b=8;for(v=0;16>v;++v)b+=o[d+v-32];Di(b>>4,o,d)}function dl(o,d){Di(128,o,d)}function tt(o,d,v){return o+2*d+v+2>>2}function ou(o,d){var v,b=d-32;for(b=new Uint8Array([tt(o[b-1],o[b+0],o[b+1]),tt(o[b+0],o[b+1],o[b+2]),tt(o[b+1],o[b+2],o[b+3]),tt(o[b+2],o[b+3],o[b+4])]),v=0;4>v;++v)n(o,d+32*v,b,0,b.length)}function lu(o,d){var v=o[d-1],b=o[d-1+32],S=o[d-1+64],k=o[d-1+96];be(o,d+0,16843009*tt(o[d-1-32],v,b)),be(o,d+32,16843009*tt(v,b,S)),be(o,d+64,16843009*tt(b,S,k)),be(o,d+96,16843009*tt(S,k,k))}function zn(o,d){var v,b=4;for(v=0;4>v;++v)b+=o[d+v-32]+o[d-1+32*v];for(b>>=3,v=0;4>v;++v)s(o,d+32*v,b,4)}function hl(o,d){var v=o[d-1+0],b=o[d-1+32],S=o[d-1+64],k=o[d-1-32],L=o[d+0-32],C=o[d+1-32],R=o[d+2-32],M=o[d+3-32];o[d+0+96]=tt(b,S,o[d-1+96]),o[d+1+96]=o[d+0+64]=tt(v,b,S),o[d+2+96]=o[d+1+64]=o[d+0+32]=tt(k,v,b),o[d+3+96]=o[d+2+64]=o[d+1+32]=o[d+0+0]=tt(L,k,v),o[d+3+64]=o[d+2+32]=o[d+1+0]=tt(C,L,k),o[d+3+32]=o[d+2+0]=tt(R,C,L),o[d+3+0]=tt(M,R,C)}function fl(o,d){var v=o[d+1-32],b=o[d+2-32],S=o[d+3-32],k=o[d+4-32],L=o[d+5-32],C=o[d+6-32],R=o[d+7-32];o[d+0+0]=tt(o[d+0-32],v,b),o[d+1+0]=o[d+0+32]=tt(v,b,S),o[d+2+0]=o[d+1+32]=o[d+0+64]=tt(b,S,k),o[d+3+0]=o[d+2+32]=o[d+1+64]=o[d+0+96]=tt(S,k,L),o[d+3+32]=o[d+2+64]=o[d+1+96]=tt(k,L,C),o[d+3+64]=o[d+2+96]=tt(L,C,R),o[d+3+96]=tt(C,R,R)}function Mi(o,d){var v=o[d-1+0],b=o[d-1+32],S=o[d-1+64],k=o[d-1-32],L=o[d+0-32],C=o[d+1-32],R=o[d+2-32],M=o[d+3-32];o[d+0+0]=o[d+1+64]=k+L+1>>1,o[d+1+0]=o[d+2+64]=L+C+1>>1,o[d+2+0]=o[d+3+64]=C+R+1>>1,o[d+3+0]=R+M+1>>1,o[d+0+96]=tt(S,b,v),o[d+0+64]=tt(b,v,k),o[d+0+32]=o[d+1+96]=tt(v,k,L),o[d+1+32]=o[d+2+96]=tt(k,L,C),o[d+2+32]=o[d+3+96]=tt(L,C,R),o[d+3+32]=tt(C,R,M)}function Xa(o,d){var v=o[d+0-32],b=o[d+1-32],S=o[d+2-32],k=o[d+3-32],L=o[d+4-32],C=o[d+5-32],R=o[d+6-32],M=o[d+7-32];o[d+0+0]=v+b+1>>1,o[d+1+0]=o[d+0+64]=b+S+1>>1,o[d+2+0]=o[d+1+64]=S+k+1>>1,o[d+3+0]=o[d+2+64]=k+L+1>>1,o[d+0+32]=tt(v,b,S),o[d+1+32]=o[d+0+96]=tt(b,S,k),o[d+2+32]=o[d+1+96]=tt(S,k,L),o[d+3+32]=o[d+2+96]=tt(k,L,C),o[d+3+64]=tt(L,C,R),o[d+3+96]=tt(C,R,M)}function cu(o,d){var v=o[d-1+0],b=o[d-1+32],S=o[d-1+64],k=o[d-1+96];o[d+0+0]=v+b+1>>1,o[d+2+0]=o[d+0+32]=b+S+1>>1,o[d+2+32]=o[d+0+64]=S+k+1>>1,o[d+1+0]=tt(v,b,S),o[d+3+0]=o[d+1+32]=tt(b,S,k),o[d+3+32]=o[d+1+64]=tt(S,k,k),o[d+3+64]=o[d+2+64]=o[d+0+96]=o[d+1+96]=o[d+2+96]=o[d+3+96]=k}function uu(o,d){var v=o[d-1+0],b=o[d-1+32],S=o[d-1+64],k=o[d-1+96],L=o[d-1-32],C=o[d+0-32],R=o[d+1-32],M=o[d+2-32];o[d+0+0]=o[d+2+32]=v+L+1>>1,o[d+0+32]=o[d+2+64]=b+v+1>>1,o[d+0+64]=o[d+2+96]=S+b+1>>1,o[d+0+96]=k+S+1>>1,o[d+3+0]=tt(C,R,M),o[d+2+0]=tt(L,C,R),o[d+1+0]=o[d+3+32]=tt(v,L,C),o[d+1+32]=o[d+3+64]=tt(b,v,L),o[d+1+64]=o[d+3+96]=tt(S,b,v),o[d+1+96]=tt(k,S,b)}function du(o,d){var v;for(v=0;8>v;++v)n(o,d+32*v,o,d-32,8)}function Qa(o,d){var v;for(v=0;8>v;++v)s(o,d,o[d-1],8),d+=32}function ri(o,d,v){var b;for(b=0;8>b;++b)s(d,v+32*b,o,8)}function gs(o,d){var v,b=8;for(v=0;8>v;++v)b+=o[d+v-32]+o[d-1+32*v];ri(b>>4,o,d)}function hu(o,d){var v,b=4;for(v=0;8>v;++v)b+=o[d+v-32];ri(b>>3,o,d)}function ni(o,d){var v,b=4;for(v=0;8>v;++v)b+=o[d-1+32*v];ri(b>>3,o,d)}function Za(o,d){ri(128,o,d)}function Bi(o,d,v){var b=o[d-v],S=o[d+0],k=3*(S-b)+yu[1020+o[d-2*v]-o[d+v]],L=Al[112+(k+4>>3)];o[d-v]=Qr[255+b+Al[112+(k+3>>3)]],o[d+0]=Qr[255+S-L]}function pl(o,d,v,b){var S=o[d+0],k=o[d+v];return dn[255+o[d-2*v]-o[d-v]]>b||dn[255+k-S]>b}function ml(o,d,v,b){return 4*dn[255+o[d-v]-o[d+0]]+dn[255+o[d-2*v]-o[d+v]]<=b}function gl(o,d,v,b,S){var k=o[d-3*v],L=o[d-2*v],C=o[d-v],R=o[d+0],M=o[d+v],X=o[d+2*v],ue=o[d+3*v];return 4*dn[255+C-R]+dn[255+L-M]>b?0:dn[255+o[d-4*v]-k]<=S&&dn[255+k-L]<=S&&dn[255+L-C]<=S&&dn[255+ue-X]<=S&&dn[255+X-M]<=S&&dn[255+M-R]<=S}function vl(o,d,v,b){var S=2*b+1;for(b=0;16>b;++b)ml(o,d+b,v,S)&&Bi(o,d+b,v)}function Hn(o,d,v,b){var S=2*b+1;for(b=0;16>b;++b)ml(o,d+b*v,1,S)&&Bi(o,d+b*v,1)}function ss(o,d,v,b){var S;for(S=3;0<S;--S)vl(o,d+=4*v,v,b)}function fu(o,d,v,b){var S;for(S=3;0<S;--S)Hn(o,d+=4,v,b)}function vs(o,d,v,b,S,k,L,C){for(k=2*k+1;0<S--;){if(gl(o,d,v,k,L))if(pl(o,d,v,C))Bi(o,d,v);else{var R=o,M=d,X=v,ue=R[M-2*X],de=R[M-X],se=R[M+0],_e=R[M+X],me=R[M+2*X],Q=27*(we=yu[1020+3*(se-de)+yu[1020+ue-_e]])+63>>7,ee=18*we+63>>7,we=9*we+63>>7;R[M-3*X]=Qr[255+R[M-3*X]+we],R[M-2*X]=Qr[255+ue+ee],R[M-X]=Qr[255+de+Q],R[M+0]=Qr[255+se-Q],R[M+X]=Qr[255+_e-ee],R[M+2*X]=Qr[255+me-we]}d+=b}}function xn(o,d,v,b,S,k,L,C){for(k=2*k+1;0<S--;){if(gl(o,d,v,k,L))if(pl(o,d,v,C))Bi(o,d,v);else{var R=o,M=d,X=v,ue=R[M-X],de=R[M+0],se=R[M+X],_e=Al[112+((me=3*(de-ue))+4>>3)],me=Al[112+(me+3>>3)],Q=_e+1>>1;R[M-2*X]=Qr[255+R[M-2*X]+Q],R[M-X]=Qr[255+ue+me],R[M+0]=Qr[255+de-_e],R[M+X]=Qr[255+se-Q]}d+=b}}function eo(o,d,v,b,S,k){vs(o,d,v,1,16,b,S,k)}function si(o,d,v,b,S,k){vs(o,d,1,v,16,b,S,k)}function pu(o,d,v,b,S,k){var L;for(L=3;0<L;--L)xn(o,d+=4*v,v,1,16,b,S,k)}function qi(o,d,v,b,S,k){var L;for(L=3;0<L;--L)xn(o,d+=4,1,v,16,b,S,k)}function mu(o,d,v,b,S,k,L,C){vs(o,d,S,1,8,k,L,C),vs(v,b,S,1,8,k,L,C)}function to(o,d,v,b,S,k,L,C){vs(o,d,1,S,8,k,L,C),vs(v,b,1,S,8,k,L,C)}function ro(o,d,v,b,S,k,L,C){xn(o,d+4*S,S,1,8,k,L,C),xn(v,b+4*S,S,1,8,k,L,C)}function yl(o,d,v,b,S,k,L,C){xn(o,d+4,1,S,8,k,L,C),xn(v,b+4,1,S,8,k,L,C)}function Ui(){this.ba=new Gt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new It,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function no(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function so(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bl(){this.ua=0,this.Wa=new $,this.vb=new $,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new B,this.yc=new F}function gu(){this.xb=this.a=0,this.l=new Ri,this.ca=new Gt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bl,this.ab=0,this.gc=a(4,so),this.Oc=0}function $i(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ri,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ii(o,d,v,b,S,k,L){for(o=o==null?0:o[d+0],d=0;d<L;++d)S[k+d]=o+v[b+d]&255,o=S[k+d]}function io(o,d,v,b,S,k,L){var C;if(o==null)ii(null,null,v,b,S,k,L);else for(C=0;C<L;++C)S[k+C]=o[d+C]+v[b+C]&255}function ys(o,d,v,b,S,k,L){if(o==null)ii(null,null,v,b,S,k,L);else{var C,R=o[d+0],M=R,X=R;for(C=0;C<L;++C)M=X+(R=o[d+C])-M,X=v[b+C]+(-256&M?0>M?0:255:M)&255,M=R,S[k+C]=X}}function ao(o,d,v,b){var S=d.width,k=d.o;if(e(o!=null&&d!=null),0>v||0>=b||v+b>k)return null;if(!o.Cc){if(o.ga==null){var L;if(o.ga=new $i,(L=o.ga==null)||(L=d.width*d.o,e(o.Gb.length==0),o.Gb=i(L),o.Uc=0,o.Gb==null?L=0:(o.mb=o.Gb,o.nb=o.Uc,o.rc=null,L=1),L=!L),!L){L=o.ga;var C=o.Fa,R=o.P,M=o.qc,X=o.mb,ue=o.nb,de=R+1,se=M-1,_e=L.l;if(e(C!=null&&X!=null&&d!=null),Ss[0]=null,Ss[1]=ii,Ss[2]=io,Ss[3]=ys,L.ca=X,L.tb=ue,L.c=d.width,L.i=d.height,e(0<L.c&&0<L.i),1>=M)d=0;else if(L.$a=C[R+0]>>0&3,L.Z=C[R+0]>>2&3,L.Lc=C[R+0]>>4&3,R=C[R+0]>>6&3,0>L.$a||1<L.$a||4<=L.Z||1<L.Lc||R)d=0;else if(_e.put=Mn,_e.ac=vr,_e.bc=Bn,_e.ma=L,_e.width=d.width,_e.height=d.height,_e.Da=d.Da,_e.v=d.v,_e.va=d.va,_e.j=d.j,_e.o=d.o,L.$a)e:{e(L.$a==1),d=an();t:for(;;){if(d==null){d=0;break e}if(e(L!=null),L.mc=d,d.c=L.c,d.i=L.i,d.l=L.l,d.l.ma=L,d.l.width=L.c,d.l.height=L.i,d.a=0,Y(d.m,C,de,se),!$n(L.c,L.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&rs(d.s)?(L.ic=1,C=d.c*d.i,d.Ta=null,d.Ua=0,d.V=i(C),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(L.ic=0,d=ti(d,L.c)),!d))break t;d=1;break e}L.mc=null,d=0}else d=se>=L.c*L.i;L=!d}if(L)return null;o.ga.Lc!=1?o.Ga=0:b=k-v}e(o.ga!=null),e(v+b<=k);e:{if(d=(C=o.ga).c,k=C.l.o,C.$a==0){if(de=o.rc,se=o.Vc,_e=o.Fa,R=o.P+1+v*d,M=o.mb,X=o.nb+v*d,e(R<=o.P+o.qc),C.Z!=0)for(e(Ss[C.Z]!=null),L=0;L<b;++L)Ss[C.Z](de,se,_e,R,M,X,d),de=M,se=X,X+=d,R+=d;else for(L=0;L<b;++L)n(M,X,_e,R,d),de=M,se=X,X+=d,R+=d;o.rc=de,o.Vc=se}else{if(e(C.mc!=null),d=v+b,e((L=C.mc)!=null),e(d<=L.i),L.C>=d)d=1;else if(C.ic||le(),C.ic){C=L.V,de=L.Ba,se=L.c;var me=L.i,Q=(_e=1,R=L.$/se,M=L.$%se,X=L.m,ue=L.s,L.$),ee=se*me,we=se*d,je=ue.wc,xe=Q<we?ir(ue,M,R):null;e(Q<=ee),e(d<=me),e(rs(ue));t:for(;;){for(;!X.h&&Q<we;){if(M&je||(xe=ir(ue,M,R)),e(xe!=null),J(X),256>(me=qr(xe.G[0],xe.H[0],X)))C[de+Q]=me,++Q,++M>=se&&(M=0,++R<=d&&!(R%16)&&yn(L,R));else{if(!(280>me)){_e=0;break t}me=gn(me-256,X);var qe,Te=qr(xe.G[4],xe.H[4],X);if(J(X),!(Q>=(Te=qn(se,Te=gn(Te,X)))&&ee-Q>=me)){_e=0;break t}for(qe=0;qe<me;++qe)C[de+Q+qe]=C[de+Q+qe-Te];for(Q+=me,M+=me;M>=se;)M-=se,++R<=d&&!(R%16)&&yn(L,R);Q<we&&M&je&&(xe=ir(ue,M,R))}e(X.h==U(X))}yn(L,R>d?d:R);break t}!_e||X.h&&Q<ee?(_e=0,L.a=X.h?5:3):L.$=Q,d=_e}else d=bn(L,L.V,L.Ba,L.c,L.i,d,Li);if(!d){b=0;break e}}v+b>=k&&(o.Cc=1),b=1}if(!b)return null;if(o.Cc&&((b=o.ga)!=null&&(b.mc=null),o.ga=null,0<o.Ga))return alert("todo:WebPDequantizeLevels"),null}return o.nb+v*S}function f(o,d,v,b,S,k){for(;0<S--;){var L,C=o,R=d+(v?1:0),M=o,X=d+(v?0:3);for(L=0;L<b;++L){var ue=M[X+4*L];ue!=255&&(ue*=32897,C[R+4*L+0]=C[R+4*L+0]*ue>>23,C[R+4*L+1]=C[R+4*L+1]*ue>>23,C[R+4*L+2]=C[R+4*L+2]*ue>>23)}d+=k}}function j(o,d,v,b,S){for(;0<b--;){var k;for(k=0;k<v;++k){var L=o[d+2*k+0],C=15&(M=o[d+2*k+1]),R=4369*C,M=(240&M|M>>4)*R>>16;o[d+2*k+0]=(240&L|L>>4)*R>>16&240|(15&L|L<<4)*R>>16>>4&15,o[d+2*k+1]=240&M|C}d+=S}}function q(o,d,v,b,S,k,L,C){var R,M,X=255;for(M=0;M<S;++M){for(R=0;R<b;++R){var ue=o[d+R];k[L+4*R]=ue,X&=ue}d+=v,L+=C}return X!=255}function K(o,d,v,b,S){var k;for(k=0;k<S;++k)v[b+k]=o[d+k]>>8}function le(){un=f,Dt=j,Mt=q,er=K}function ve(o,d,v){E[o]=function(b,S,k,L,C,R,M,X,ue,de,se,_e,me,Q,ee,we,je){var xe,qe=je-1>>1,Te=C[R+0]|M[X+0]<<16,Ge=ue[de+0]|se[_e+0]<<16;e(b!=null);var Re=3*Te+Ge+131074>>2;for(d(b[S+0],255&Re,Re>>16,me,Q),k!=null&&(Re=3*Ge+Te+131074>>2,d(k[L+0],255&Re,Re>>16,ee,we)),xe=1;xe<=qe;++xe){var jt=C[R+xe]|M[X+xe]<<16,kt=ue[de+xe]|se[_e+xe]<<16,wt=Te+jt+Ge+kt+524296,mt=wt+2*(jt+Ge)>>3;Re=mt+Te>>1,Te=(wt=wt+2*(Te+kt)>>3)+jt>>1,d(b[S+2*xe-1],255&Re,Re>>16,me,Q+(2*xe-1)*v),d(b[S+2*xe-0],255&Te,Te>>16,me,Q+(2*xe-0)*v),k!=null&&(Re=wt+Ge>>1,Te=mt+kt>>1,d(k[L+2*xe-1],255&Re,Re>>16,ee,we+(2*xe-1)*v),d(k[L+2*xe+0],255&Te,Te>>16,ee,we+(2*xe+0)*v)),Te=jt,Ge=kt}1&je||(Re=3*Te+Ge+131074>>2,d(b[S+je-1],255&Re,Re>>16,me,Q+(je-1)*v),k!=null&&(Re=3*Ge+Te+131074>>2,d(k[L+je-1],255&Re,Re>>16,ee,we+(je-1)*v)))}}function ke(){hn[Pl]=sg,hn[kl]=_h,hn[vh]=ig,hn[Ll]=Nh,hn[Cl]=Sh,hn[bu]=jh,hn[yh]=ag,hn[wu]=_h,hn[xu]=Nh,hn[El]=Sh,hn[_u]=jh}function Be(o){return o&~og?0>o?0:255:o>>Ah}function Ve(o,d){return Be((19077*o>>8)+(26149*d>>8)-14234)}function it(o,d,v){return Be((19077*o>>8)-(6419*d>>8)-(13320*v>>8)+8708)}function nt(o,d){return Be((19077*o>>8)+(33050*d>>8)-17685)}function vt(o,d,v,b,S){b[S+0]=Ve(o,v),b[S+1]=it(o,d,v),b[S+2]=nt(o,d)}function Ht(o,d,v,b,S){b[S+0]=nt(o,d),b[S+1]=it(o,d,v),b[S+2]=Ve(o,v)}function Kt(o,d,v,b,S){var k=it(o,d,v);d=k<<3&224|nt(o,d)>>3,b[S+0]=248&Ve(o,v)|k>>5,b[S+1]=d}function ar(o,d,v,b,S){var k=240&nt(o,d)|15;b[S+0]=240&Ve(o,v)|it(o,d,v)>>4,b[S+1]=k}function jr(o,d,v,b,S){b[S+0]=255,vt(o,d,v,b,S+1)}function hr(o,d,v,b,S){Ht(o,d,v,b,S),b[S+3]=255}function _n(o,d,v,b,S){vt(o,d,v,b,S),b[S+3]=255}function Xr(o,d){return 0>o?0:o>d?d:o}function Vn(o,d,v){E[o]=function(b,S,k,L,C,R,M,X,ue){for(var de=X+(-2&ue)*v;X!=de;)d(b[S+0],k[L+0],C[R+0],M,X),d(b[S+1],k[L+0],C[R+0],M,X+v),S+=2,++L,++R,X+=2*v;1&ue&&d(b[S+0],k[L+0],C[R+0],M,X)}}function wl(o,d,v){return v==0?o==0?d==0?6:5:d==0?4:0:v}function oo(o,d,v,b,S){switch(o>>>30){case 3:os(d,v,b,S,0);break;case 2:Zt(d,v,b,S);break;case 1:Rr(d,v,b,S)}}function lo(o,d){var v,b,S=d.M,k=d.Nb,L=o.oc,C=o.pc+40,R=o.oc,M=o.pc+584,X=o.oc,ue=o.pc+600;for(v=0;16>v;++v)L[C+32*v-1]=129;for(v=0;8>v;++v)R[M+32*v-1]=129,X[ue+32*v-1]=129;for(0<S?L[C-1-32]=R[M-1-32]=X[ue-1-32]=129:(s(L,C-32-1,127,21),s(R,M-32-1,127,9),s(X,ue-32-1,127,9)),b=0;b<o.za;++b){var de=d.ya[d.aa+b];if(0<b){for(v=-1;16>v;++v)n(L,C+32*v-4,L,C+32*v+12,4);for(v=-1;8>v;++v)n(R,M+32*v-4,R,M+32*v+4,4),n(X,ue+32*v-4,X,ue+32*v+4,4)}var se=o.Gd,_e=o.Hd+b,me=de.ad,Q=de.Hc;if(0<S&&(n(L,C-32,se[_e].y,0,16),n(R,M-32,se[_e].f,0,8),n(X,ue-32,se[_e].ea,0,8)),de.Za){var ee=L,we=C-32+16;for(0<S&&(b>=o.za-1?s(ee,we,se[_e].y[15],4):n(ee,we,se[_e+1].y,0,4)),v=0;4>v;v++)ee[we+128+v]=ee[we+256+v]=ee[we+384+v]=ee[we+0+v];for(v=0;16>v;++v,Q<<=2)ee=L,we=C+kh[v],Nn[de.Ob[v]](ee,we),oo(Q,me,16*+v,ee,we)}else if(ee=wl(b,S,de.Ob[0]),Ns[ee](L,C),Q!=0)for(v=0;16>v;++v,Q<<=2)oo(Q,me,16*+v,L,C+kh[v]);for(v=de.Gc,ee=wl(b,S,de.Dd),cs[ee](R,M),cs[ee](X,ue),Q=me,ee=R,we=M,255&(de=v>>0)&&(170&de?po(Q,256,ee,we):ln(Q,256,ee,we)),de=X,Q=ue,255&(v>>=8)&&(170&v?po(me,320,de,Q):ln(me,320,de,Q)),S<o.Ub-1&&(n(se[_e].y,0,L,C+480,16),n(se[_e].f,0,R,M+224,8),n(se[_e].ea,0,X,ue+224,8)),v=8*k*o.B,se=o.sa,_e=o.ta+16*b+16*k*o.R,me=o.qa,de=o.ra+8*b+v,Q=o.Ha,ee=o.Ia+8*b+v,v=0;16>v;++v)n(se,_e+v*o.R,L,C+32*v,16);for(v=0;8>v;++v)n(me,de+v*o.B,R,M+32*v,8),n(Q,ee+v*o.B,X,ue+32*v,8)}}function zi(o,d,v,b,S,k,L,C,R){var M=[0],X=[0],ue=0,de=R!=null?R.kd:0,se=R??new no;if(o==null||12>v)return 7;se.data=o,se.w=d,se.ha=v,d=[d],v=[v],se.gb=[se.gb];e:{var _e=d,me=v,Q=se.gb;if(e(o!=null),e(me!=null),e(Q!=null),Q[0]=0,12<=me[0]&&!t(o,_e[0],"RIFF")){if(t(o,_e[0]+8,"WEBP")){Q=3;break e}var ee=Le(o,_e[0]+4);if(12>ee||4294967286<ee){Q=3;break e}if(de&&ee>me[0]-8){Q=7;break e}Q[0]=ee,_e[0]+=12,me[0]-=12}Q=0}if(Q!=0)return Q;for(ee=0<se.gb[0],v=v[0];;){e:{var we=o;me=d,Q=v;var je=M,xe=X,qe=_e=[0];if((Re=ue=[ue])[0]=0,8>Q[0])Q=7;else{if(!t(we,me[0],"VP8X")){if(Le(we,me[0]+4)!=10){Q=3;break e}if(18>Q[0]){Q=7;break e}var Te=Le(we,me[0]+8),Ge=1+Pe(we,me[0]+12);if(2147483648<=Ge*(we=1+Pe(we,me[0]+15))){Q=3;break e}qe!=null&&(qe[0]=Te),je!=null&&(je[0]=Ge),xe!=null&&(xe[0]=we),me[0]+=18,Q[0]-=18,Re[0]=1}Q=0}}if(ue=ue[0],_e=_e[0],Q!=0)return Q;if(me=!!(2&_e),!ee&&ue)return 3;if(k!=null&&(k[0]=!!(16&_e)),L!=null&&(L[0]=me),C!=null&&(C[0]=0),L=M[0],_e=X[0],ue&&me&&R==null){Q=0;break}if(4>v){Q=7;break}if(ee&&ue||!ee&&!ue&&!t(o,d[0],"ALPH")){v=[v],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{Te=o,Q=d,ee=v;var Re=se.gb;je=se.na,xe=se.P,qe=se.Sa,Ge=22,e(Te!=null),e(ee!=null),we=Q[0];var jt=ee[0];for(e(je!=null),e(qe!=null),je[0]=null,xe[0]=null,qe[0]=0;;){if(Q[0]=we,ee[0]=jt,8>jt){Q=7;break e}var kt=Le(Te,we+4);if(4294967286<kt){Q=3;break e}var wt=8+kt+1&-2;if(Ge+=wt,0<Re&&Ge>Re){Q=3;break e}if(!t(Te,we,"VP8 ")||!t(Te,we,"VP8L")){Q=0;break e}if(jt[0]<wt){Q=7;break e}t(Te,we,"ALPH")||(je[0]=Te,xe[0]=we+8,qe[0]=kt),we+=wt,jt-=wt}}if(v=v[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],Q!=0)break}v=[v],se.Ja=[se.Ja],se.xa=[se.xa];e:if(Re=o,Q=d,ee=v,je=se.gb[0],xe=se.Ja,qe=se.xa,Te=Q[0],we=!t(Re,Te,"VP8 "),Ge=!t(Re,Te,"VP8L"),e(Re!=null),e(ee!=null),e(xe!=null),e(qe!=null),8>ee[0])Q=7;else{if(we||Ge){if(Re=Le(Re,Te+4),12<=je&&Re>je-12){Q=3;break e}if(de&&Re>ee[0]-8){Q=7;break e}xe[0]=Re,Q[0]+=8,ee[0]-=8,qe[0]=Ge}else qe[0]=5<=ee[0]&&Re[Te+0]==47&&!(Re[Te+4]>>5),xe[0]=ee[0];Q=0}if(v=v[0],se.Ja=se.Ja[0],se.xa=se.xa[0],d=d[0],Q!=0)break;if(4294967286<se.Ja)return 3;if(C==null||me||(C[0]=se.xa?2:1),L=[L],_e=[_e],se.xa){if(5>v){Q=7;break}C=L,de=_e,me=k,o==null||5>v?o=0:5<=v&&o[d+0]==47&&!(o[d+4]>>5)?(ee=[0],Re=[0],je=[0],Y(xe=new P,o,d,v),Ke(xe,ee,Re,je)?(C!=null&&(C[0]=ee[0]),de!=null&&(de[0]=Re[0]),me!=null&&(me[0]=je[0]),o=1):o=0):o=0}else{if(10>v){Q=7;break}C=_e,o==null||10>v||!sl(o,d+3,v-3)?o=0:(de=o[d+0]|o[d+1]<<8|o[d+2]<<16,me=16383&(o[d+7]<<8|o[d+6]),o=16383&(o[d+9]<<8|o[d+8]),1&de||3<(de>>1&7)||!(de>>4&1)||de>>5>=se.Ja||!me||!o?o=0:(L&&(L[0]=me),C&&(C[0]=o),o=1))}if(!o||(L=L[0],_e=_e[0],ue&&(M[0]!=L||X[0]!=_e)))return 3;R!=null&&(R[0]=se,R.offset=d-R.w,e(4294967286>d-R.w),e(R.offset==R.ha-v));break}return Q==0||Q==7&&ue&&R==null?(k!=null&&(k[0]|=se.na!=null&&0<se.na.length),b!=null&&(b[0]=L),S!=null&&(S[0]=_e),0):Q}function co(o,d,v){var b=d.width,S=d.height,k=0,L=0,C=b,R=S;if(d.Da=o!=null&&0<o.Da,d.Da&&(C=o.cd,R=o.bd,k=o.v,L=o.j,11>v||(k&=-2,L&=-2),0>k||0>L||0>=C||0>=R||k+C>b||L+R>S))return 0;if(d.v=k,d.j=L,d.va=k+C,d.o=L+R,d.U=C,d.T=R,d.da=o!=null&&0<o.da,d.da){if(!Je(C,R,v=[o.ib],k=[o.hb]))return 0;d.ib=v[0],d.hb=k[0]}return d.ob=o!=null&&o.ob,d.Kb=o==null||!o.Sd,d.da&&(d.ob=d.ib<3*b/4&&d.hb<3*S/4,d.Kb=0),1}function uo(o){if(o==null)return 2;if(11>o.S){var d=o.f.RGBA;d.fb+=(o.height-1)*d.A,d.A=-d.A}else d=o.f.kb,o=o.height,d.O+=(o-1)*d.fa,d.fa=-d.fa,d.N+=(o-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(o-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(o-1)*d.lb,d.lb=-d.lb);return 0}function Hi(o,d,v,b){if(b==null||0>=o||0>=d)return 2;if(v!=null){if(v.Da){var S=v.cd,k=v.bd,L=-2&v.v,C=-2&v.j;if(0>L||0>C||0>=S||0>=k||L+S>o||C+k>d)return 2;o=S,d=k}if(v.da){if(!Je(o,d,S=[v.ib],k=[v.hb]))return 2;o=S[0],d=k[0]}}b.width=o,b.height=d;e:{var R=b.width,M=b.height;if(o=b.S,0>=R||0>=M||!(o>=Pl&&13>o))o=2;else{if(0>=b.Rd&&b.sd==null){L=k=S=d=0;var X=(C=R*Lh[o])*M;if(11>o||(k=(M+1)/2*(d=(R+1)/2),o==12&&(L=(S=R)*M)),(M=i(X+2*k+L))==null){o=1;break e}b.sd=M,11>o?((R=b.f.RGBA).eb=M,R.fb=0,R.A=C,R.size=X):((R=b.f.kb).y=M,R.O=0,R.fa=C,R.Fd=X,R.f=M,R.N=0+X,R.Ab=d,R.Cd=k,R.ea=M,R.W=0+X+k,R.Db=d,R.Ed=k,o==12&&(R.F=M,R.J=0+X+2*k),R.Tc=L,R.lb=S)}if(d=1,S=b.S,k=b.width,L=b.height,S>=Pl&&13>S)if(11>S)o=b.f.RGBA,d&=(C=Math.abs(o.A))*(L-1)+k<=o.size,d&=C>=k*Lh[S],d&=o.eb!=null;else{o=b.f.kb,C=(k+1)/2,X=(L+1)/2,R=Math.abs(o.fa),M=Math.abs(o.Ab);var ue=Math.abs(o.Db),de=Math.abs(o.lb),se=de*(L-1)+k;d&=R*(L-1)+k<=o.Fd,d&=M*(X-1)+C<=o.Cd,d=(d&=ue*(X-1)+C<=o.Ed)&R>=k&M>=C&ue>=C,d&=o.y!=null,d&=o.f!=null,d&=o.ea!=null,S==12&&(d&=de>=k,d&=se<=o.Tc,d&=o.F!=null)}else d=0;o=d?0:2}}return o!=0||v!=null&&v.fd&&(o=uo(b)),o}var yr=64,Vi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wi=24,Gi=32,ho=8,$r=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(o){return o},E.Predictor2=function(o,d,v){return d[v+0]},E.Predictor3=function(o,d,v){return d[v+1]},E.Predictor4=function(o,d,v){return d[v-1]},E.Predictor5=function(o,d,v){return Ie(Ie(o,d[v+1]),d[v+0])},E.Predictor6=function(o,d,v){return Ie(o,d[v-1])},E.Predictor7=function(o,d,v){return Ie(o,d[v+0])},E.Predictor8=function(o,d,v){return Ie(d[v-1],d[v+0])},E.Predictor9=function(o,d,v){return Ie(d[v+0],d[v+1])},E.Predictor10=function(o,d,v){return Ie(Ie(o,d[v-1]),Ie(d[v+0],d[v+1]))},E.Predictor11=function(o,d,v){var b=d[v+0];return 0>=rt(b>>24&255,o>>24&255,(d=d[v-1])>>24&255)+rt(b>>16&255,o>>16&255,d>>16&255)+rt(b>>8&255,o>>8&255,d>>8&255)+rt(255&b,255&o,255&d)?b:o},E.Predictor12=function(o,d,v){var b=d[v+0];return(He((o>>24&255)+(b>>24&255)-((d=d[v-1])>>24&255))<<24|He((o>>16&255)+(b>>16&255)-(d>>16&255))<<16|He((o>>8&255)+(b>>8&255)-(d>>8&255))<<8|He((255&o)+(255&b)-(255&d)))>>>0},E.Predictor13=function(o,d,v){var b=d[v-1];return(Ze((o=Ie(o,d[v+0]))>>24&255,b>>24&255)<<24|Ze(o>>16&255,b>>16&255)<<16|Ze(o>>8&255,b>>8&255)<<8|Ze(o>>0&255,b>>0&255))>>>0};var vu=E.PredictorAdd0;E.PredictorAdd1=at,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var fo=E.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(o){return o>>8&255},function(o){return o}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(o){return o},function(o){return o>>8&255});var xl,on=E.ColorIndexInverseTransform,Ki=E.MapARGB,_l=E.VP8LColorIndexInverseTransformAlpha,Nl=E.MapAlpha,bs=E.VP8LPredictorsAdd=[];bs.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var ai,zr,Ir,ws,is,as,Ji,os,Zt,po,Rr,ln,Yi,Sl,mo,oi,li,xs,ci,Xi,ui,_s,go,cn,un,Dt,Mt,er,dr=i(511),ls=i(2041),vo=i(225),Qi=i(767),jl=0,yu=ls,Al=vo,Qr=Qi,dn=dr,Pl=0,kl=1,vh=2,Ll=3,Cl=4,bu=5,yh=6,wu=7,xu=8,El=9,_u=10,Hm=[2,3,7],Vm=[3,3,11],bh=[280,256,256,256,40],Wm=[0,1,1,1,0],Gm=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Km=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Jm=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ym=8,Nu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Su=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],yo=null,Xm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Qm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],wh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Zm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],eg=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],tg=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],rg=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ns=[],Nn=[],cs=[],ng=1,xh=2,Ss=[],hn=[];ve("UpsampleRgbLinePair",vt,3),ve("UpsampleBgrLinePair",Ht,3),ve("UpsampleRgbaLinePair",_n,4),ve("UpsampleBgraLinePair",hr,4),ve("UpsampleArgbLinePair",jr,4),ve("UpsampleRgba4444LinePair",ar,2),ve("UpsampleRgb565LinePair",Kt,2);var sg=E.UpsampleRgbLinePair,ig=E.UpsampleBgrLinePair,_h=E.UpsampleRgbaLinePair,Nh=E.UpsampleBgraLinePair,Sh=E.UpsampleArgbLinePair,jh=E.UpsampleRgba4444LinePair,ag=E.UpsampleRgb565LinePair,Tl=16,Il=1<<Tl-1,bo=-227,ju=482,Ah=6,og=(256<<Ah)-1,Ph=0,lg=i(256),cg=i(256),ug=i(256),dg=i(256),hg=i(ju-bo),fg=i(ju-bo);Vn("YuvToRgbRow",vt,3),Vn("YuvToBgrRow",Ht,3),Vn("YuvToRgbaRow",_n,4),Vn("YuvToBgraRow",hr,4),Vn("YuvToArgbRow",jr,4),Vn("YuvToRgba4444Row",ar,2),Vn("YuvToRgb565Row",Kt,2);var kh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Rl=[0,2,8],pg=[8,7,6,4,4,2,2,2,1,1,1,1],mg=1;this.WebPDecodeRGBA=function(o,d,v,b,S){var k=kl,L=new Ui,C=new Gt;L.ba=C,C.S=k,C.width=[C.width],C.height=[C.height];var R=C.width,M=C.height,X=new sr;if(X==null||o==null)var ue=2;else e(X!=null),ue=zi(o,d,v,X.width,X.height,X.Pd,X.Qd,X.format,null);if(ue!=0?R=0:(R!=null&&(R[0]=X.width[0]),M!=null&&(M[0]=X.height[0]),R=1),R){C.width=C.width[0],C.height=C.height[0],b!=null&&(b[0]=C.width),S!=null&&(S[0]=C.height);e:{if(b=new Ri,(S=new no).data=o,S.w=d,S.ha=v,S.kd=1,d=[0],e(S!=null),((o=zi(S.data,S.w,S.ha,null,null,null,d,null,S))==0||o==7)&&d[0]&&(o=4),(d=o)==0){if(e(L!=null),b.data=S.data,b.w=S.w+S.offset,b.ha=S.ha-S.offset,b.put=Mn,b.ac=vr,b.bc=Bn,b.ma=L,S.xa){if((o=an())==null){L=1;break e}if(function(de,se){var _e=[0],me=[0],Q=[0];t:for(;;){if(de==null)return 0;if(se==null)return de.a=2,0;if(de.l=se,de.a=0,Y(de.m,se.data,se.w,se.ha),!Ke(de.m,_e,me,Q)){de.a=3;break t}if(de.xb=xh,se.width=_e[0],se.height=me[0],!$n(_e[0],me[0],1,de,null))break t;return 1}return e(de.a!=0),0}(o,b)){if(b=(d=Hi(b.width,b.height,L.Oa,L.ba))==0){t:{b=o;r:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((v=b.l)!=null),e((S=v.ma)!=null),b.xb!=0){if(b.ca=S.ba,b.tb=S.tb,e(b.ca!=null),!co(S.Oa,v,Ll)){b.a=2;break r}if(!ti(b,v.width)||v.da)break r;if((v.da||Me(b.ca.S))&&le(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&le()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!ze(b.s.vb,b.s.Wa.Xa)){b.a=1;break r}b.xb=0}if(!bn(b,b.V,b.Ba,b.c,b.i,v.o,ki))break r;S.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(d=o.a)}else d=o.a}else{if((o=new Qc)==null){L=1;break e}if(o.Fa=S.na,o.P=S.P,o.qc=S.Sa,il(o,b)){if((d=Hi(b.width,b.height,L.Oa,L.ba))==0){if(o.Aa=0,v=L.Oa,e((S=o)!=null),v!=null){if(0<(R=0>(R=v.Md)?0:100<R?255:255*R/100)){for(M=X=0;4>M;++M)12>(ue=S.pb[M]).lc&&(ue.ia=R*pg[0>ue.lc?0:ue.lc]>>3),X|=ue.ia;X&&(alert("todo:VP8InitRandom"),S.ia=1)}S.Ga=v.Id,100<S.Ga?S.Ga=100:0>S.Ga&&(S.Ga=0)}Zc(o,b)||(d=o.a)}}else d=o.a}d==0&&L.Oa!=null&&L.Oa.fd&&(d=uo(L.ba))}L=d}k=L!=0?null:11>k?C.f.RGBA.eb:C.f.kb.y}else k=null;return k};var Lh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(E,ne){for(var re="",I=0;I<4;I++)re+=String.fromCharCode(E[ne++]);return re}function p(E,ne){return(E[ne+0]<<0|E[ne+1]<<8|E[ne+2]<<16)>>>0}function g(E,ne){return(E[ne+0]<<0|E[ne+1]<<8|E[ne+2]<<16|E[ne+3]<<24)>>>0}new c;var y=[0],m=[0],_=[],w=new c,N=r,x=function(E,ne){var re={},I=0,F=!1,H=0,B=0;if(re.frames=[],!function(D,U,W,J){for(var Z=0;Z<J;Z++)if(D[U+Z]!=W.charCodeAt(Z))return!0;return!1}(E,ne,"RIFF",4)){for(g(E,ne+=4),ne+=8;ne<E.length;){var oe=h(E,ne),ie=g(E,ne+=4);ne+=4;var fe=ie+(1&ie);switch(oe){case"VP8 ":case"VP8L":re.frames[I]===void 0&&(re.frames[I]={}),(pe=re.frames[I]).src_off=F?B:ne-8,pe.src_size=H+ie+8,I++,F&&(F=!1,H=0,B=0);break;case"VP8X":(pe=re.header={}).feature_flags=E[ne];var Y=ne+4;pe.canvas_width=1+p(E,Y),Y+=3,pe.canvas_height=1+p(E,Y),Y+=3;break;case"ALPH":F=!0,H=fe+8,B=ne-8;break;case"ANIM":(pe=re.header).bgcolor=g(E,ne),Y=ne+4,pe.loop_count=(Ae=E)[(P=Y)+0]<<0|Ae[P+1]<<8,Y+=2;break;case"ANMF":var he,pe;(pe=re.frames[I]={}).offset_x=2*p(E,ne),ne+=3,pe.offset_y=2*p(E,ne),ne+=3,pe.width=1+p(E,ne),ne+=3,pe.height=1+p(E,ne),ne+=3,pe.duration=p(E,ne),ne+=3,he=E[ne++],pe.dispose=1&he,pe.blend=he>>1&1}oe!="ANMF"&&(ne+=fe)}var Ae,P;return re}}(N,0);x.response=N,x.rgbaoutput=!0,x.dataurl=!1;var A=x.header?x.header:null,T=x.frames?x.frames:null;if(A){A.loop_counter=A.loop_count,y=[A.canvas_height],m=[A.canvas_width];for(var z=0;z<T.length&&T[z].blend!=0;z++);}var G=T[0],te=w.WebPDecodeRGBA(N,G.src_off,G.src_size,m,y);G.rgba=te,G.imgwidth=m[0],G.imgheight=y[0];for(var V=0;V<m[0]*y[0]*4;V++)_[V]=te[V];return this.width=m,this.height=y,this.data=_,this}(function(r){var e=function(){return typeof Ed=="function"},t=function(y,m,_,w){var N=4,x=a;switch(w){case r.image_compression.FAST:N=1,x=i;break;case r.image_compression.MEDIUM:N=6,x=l;break;case r.image_compression.SLOW:N=9,x=c}y=n(y,m,_,x);var A=Ed(y,{level:N});return r.__addimage__.arrayBufferToBinaryString(A)},n=function(y,m,_,w){for(var N,x,A,T=y.length/m,z=new Uint8Array(y.length+T),G=p(),te=0;te<T;te+=1){if(A=te*m,N=y.subarray(A,A+m),w)z.set(w(N,_,x),A+te);else{for(var V,E=G.length,ne=[];V<E;V+=1)ne[V]=G[V](N,_,x);var re=g(ne.concat());z.set(ne[re],A+te)}x=N}return z},s=function(y){var m=Array.apply([],y);return m.unshift(0),m},i=function(y,m){var _,w=[],N=y.length;w[0]=1;for(var x=0;x<N;x+=1)_=y[x-m]||0,w[x+1]=y[x]-_+256&255;return w},a=function(y,m,_){var w,N=[],x=y.length;N[0]=2;for(var A=0;A<x;A+=1)w=_&&_[A]||0,N[A+1]=y[A]-w+256&255;return N},l=function(y,m,_){var w,N,x=[],A=y.length;x[0]=3;for(var T=0;T<A;T+=1)w=y[T-m]||0,N=_&&_[T]||0,x[T+1]=y[T]+256-(w+N>>>1)&255;return x},c=function(y,m,_){var w,N,x,A,T=[],z=y.length;T[0]=4;for(var G=0;G<z;G+=1)w=y[G-m]||0,N=_&&_[G]||0,x=_&&_[G-m]||0,A=h(w,N,x),T[G+1]=y[G]-A+256&255;return T},h=function(y,m,_){if(y===m&&m===_)return y;var w=Math.abs(m-_),N=Math.abs(y-_),x=Math.abs(y+m-_-_);return w<=N&&w<=x?y:N<=x?m:_},p=function(){return[s,i,a,l,c]},g=function(y){var m=y.map(function(_){return _.reduce(function(w,N){return w+Math.abs(N)},0)});return m.indexOf(Math.min.apply(null,m))};r.processPNG=function(y,m,_,w){var N,x,A,T,z,G,te,V,E,ne,re,I,F,H,B,oe=this.decode.FLATE_DECODE,ie="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(A=new Yx(y)).imgData,x=A.bits,N=A.colorSpace,z=A.colors,[4,6].indexOf(A.colorType)!==-1){if(A.bits===8){E=(V=A.pixelBitlength==32?new Uint32Array(A.decodePixels().buffer):A.pixelBitlength==16?new Uint16Array(A.decodePixels().buffer):new Uint8Array(A.decodePixels().buffer)).length,re=new Uint8Array(E*A.colors),ne=new Uint8Array(E);var fe,Y=A.pixelBitlength-A.bits;for(H=0,B=0;H<E;H++){for(F=V[H],fe=0;fe<Y;)re[B++]=F>>>fe&255,fe+=A.bits;ne[H]=F>>>fe&255}}if(A.bits===16){E=(V=new Uint32Array(A.decodePixels().buffer)).length,re=new Uint8Array(E*(32/A.pixelBitlength)*A.colors),ne=new Uint8Array(E*(32/A.pixelBitlength)),I=A.colors>1,H=0,B=0;for(var he=0;H<E;)F=V[H++],re[B++]=F>>>0&255,I&&(re[B++]=F>>>16&255,F=V[H++],re[B++]=F>>>0&255),ne[he++]=F>>>16&255;x=8}w!==r.image_compression.NONE&&e()?(y=t(re,A.width*A.colors,A.colors,w),te=t(ne,A.width,1,w)):(y=re,te=ne,oe=void 0)}if(A.colorType===3&&(N=this.color_spaces.INDEXED,G=A.palette,A.transparency.indexed)){var pe=A.transparency.indexed,Ae=0;for(H=0,E=pe.length;H<E;++H)Ae+=pe[H];if((Ae/=255)===E-1&&pe.indexOf(0)!==-1)T=[pe.indexOf(0)];else if(Ae!==E){for(V=A.decodePixels(),ne=new Uint8Array(V.length),H=0,E=V.length;H<E;H++)ne[H]=pe[V[H]];te=t(ne,A.width,1)}}var P=function(D){var U;switch(D){case r.image_compression.FAST:U=11;break;case r.image_compression.MEDIUM:U=13;break;case r.image_compression.SLOW:U=14;break;default:U=12}return U}(w);return oe===this.decode.FLATE_DECODE&&(ie="/Predictor "+P+" "),ie+="/Colors "+z+" /BitsPerComponent "+x+" /Columns "+A.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(te&&this.__addimage__.isArrayBuffer(te)||this.__addimage__.isArrayBufferView(te))&&(te=this.__addimage__.arrayBufferToBinaryString(te)),{alias:_,data:y,index:m,filter:oe,decodeParameters:ie,transparency:T,palette:G,sMask:te,predictor:P,width:A.width,height:A.height,bitsPerComponent:x,colorSpace:N}}}})(Xe.API),function(r){r.processGIF89A=function(e,t,n,s){var i=new Xx(e),a=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:a,height:l},p=new nd(100).encode(h,100);return r.processJPEG.call(this,p,t,n,s)},r.processGIF87A=r.processGIF89A}(Xe.API),An.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},An.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Ot.log("bit decode error:"+t)}},An.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[a+4*l]=c.blue,this.data[a+4*l+1]=c.green,this.data[a+4*l+2]=c.red,this.data[a+4*l+3]=255}t!==0&&(this.pos+=4-t)}},An.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<r;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,l=i>>4,c=15&i,h=this.palette[l];if(this.data[a]=h.blue,this.data[a+1]=h.green,this.data[a+2]=h.red,this.data[a+3]=255,2*s+1>=this.width)break;h=this.palette[c],this.data[a+4]=h.blue,this.data[a+4+1]=h.green,this.data[a+4+2]=h.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},An.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}r!==0&&(this.pos+=4-r)}},An.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,h=i>>15?255:0,p=n*this.width*4+4*s;this.data[p]=c,this.data[p+1]=l,this.data[p+2]=a,this.data[p+3]=h}this.pos+=r}},An.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,c=(a>>5&t)/t*255|0,h=(a>>11)/e*255|0,p=s*this.width*4+4*i;this.data[p]=h,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=255}this.pos+=r}},An.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},An.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=a}},An.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,s){var i=new An(e,!1),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},h=new nd(100).encode(c,100);return r.processJPEG.call(this,h,t,n,s)}}(Xe.API),Yf.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,s){var i=new Yf(e),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},h=new nd(100).encode(c,100);return r.processJPEG.call(this,h,t,n,s)}}(Xe.API),Xe.API.processRGBA=function(r,e,t){for(var n=r.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),l=0,c=0,h=0;h<s;h+=4){var p=n[h],g=n[h+1],y=n[h+2],m=n[h+3];i[l++]=p,i[l++]=g,i[l++]=y,a[c++]=m}var _=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:_,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Xe.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},da=Xe.API,nc=da.getCharWidthsArray=function(r,e){var t,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,h=e.kerning?e.kerning:s.metadata.Unicode.kerning,p=h.fof?h.fof:1,g=e.doKerning!==!1,y=0,m=r.length,_=0,w=l[0]||c,N=[];for(t=0;t<m;t++)n=r.charCodeAt(t),typeof s.metadata.widthOfString=="function"?N.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(y=g&&Ct(h[n])==="object"&&!isNaN(parseInt(h[n][_],10))?h[n][_]/p:0,N.push((l[n]||w)/c+y)),_=n;return N},Wf=da.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return da.processArabic&&(r=da.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,s)/t:nc.apply(this,arguments).reduce(function(i,a){return i+a},0)},Gf=function(r,e,t,n){for(var s=[],i=0,a=r.length,l=0;i!==a&&l+e[i]<t;)l+=e[i],i++;s.push(r.slice(0,i));var c=i;for(l=0;i!==a;)l+e[i]>n&&(s.push(r.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&s.push(r.slice(c,i)),s},Kf=function(r,e,t){t||(t={});var n,s,i,a,l,c,h,p=[],g=[p],y=t.textIndent||0,m=0,_=0,w=r.split(" "),N=nc.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?w[0].length+2:t.lineIndent||0){var x=Array(c).join(" "),A=[];w.map(function(z){(z=z.split(/\s*\n/)).length>1?A=A.concat(z.map(function(G,te){return(te&&G.length?`
`:"")+G})):A.push(z[0])}),w=A,c=Wf.apply(this,[x,t])}for(i=0,a=w.length;i<a;i++){var T=0;if(n=w[i],c&&n[0]==`
`&&(n=n.substr(1),T=1),y+m+(_=(s=nc.apply(this,[n,t])).reduce(function(z,G){return z+G},0))>e||T){if(_>e){for(l=Gf.apply(this,[n,s,e-(y+m),e]),p.push(l.shift()),p=[l.pop()];l.length;)g.push([l.shift()]);_=s.slice(n.length-(p[0]?p[0].length:0)).reduce(function(z,G){return z+G},0)}else p=[n];g.push(p),y=_+c,m=N}else p.push(n),y+=m+_,m=N}return h=c?function(z,G){return(G?x:"")+z.join(" ")}:function(z){return z.join(" ")},g.map(h)},da.splitTextToSize=function(r,e,t){var n,s=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var g=this.internal.getFont(p.fontName,p.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=t.lineIndent;var l,c,h=[];for(l=0,c=n.length;l<c;l++)h=h.concat(Kf.apply(this,[n[l],a,i]));return h},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},n={},s=0;s<e.length;s++)t[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var i=function(g){return"0x"+parseInt(g,10).toString(16)},a=r.__fontmetrics__.compress=function(g){var y,m,_,w,N=["{"];for(var x in g){if(y=g[x],isNaN(parseInt(x,10))?m="'"+x+"'":(x=parseInt(x,10),m=(m=i(x).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof y=="number")y<0?(_=i(y).slice(3),w="-"):(_=i(y).slice(2),w=""),_=w+_.slice(0,-1)+n[_.slice(-1)];else{if(Ct(y)!=="object")throw new Error("Don't know what to do with value type "+Ct(y)+".");_=a(y)}N.push(m+_)}return N.push("}"),N.join("")},l=r.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,m,_,w,N={},x=1,A=N,T=[],z="",G="",te=g.length-1,V=1;V<te;V+=1)(w=g[V])=="'"?y?(_=y.join(""),y=void 0):y=[]:y?y.push(w):w=="{"?(T.push([A,_]),A={},_=void 0):w=="}"?((m=T.pop())[0][m[1]]=A,_=void 0,A=m[0]):w=="-"?x=-1:_===void 0?t.hasOwnProperty(w)?(z+=t[w],_=parseInt(z,16)*x,x=1,z=""):z+=w:t.hasOwnProperty(w)?(G+=t[w],A[_]=parseInt(G,16)*x,x=1,_=void 0,G=""):G+=w;return N},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(g){var y=g.font,m=p.Unicode[y.postScriptName];m&&(y.metadata.Unicode={},y.metadata.Unicode.widths=m.widths,y.metadata.Unicode.kerning=m.kerning);var _=h.Unicode[y.postScriptName];_&&(y.metadata.Unicode.encoding=_,y.encoding=_.codePages[0])}])}(Xe.API),function(r){var e=function(t){for(var n=t.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=t.charCodeAt(i);return s};r.API.events.push(["addFont",function(t){var n=void 0,s=t.font,i=t.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Fo(l)),a.metadata=r.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(Xe),function(r){function e(){return(Qe.canvg?Promise.resolve(Qe.canvg):Hs(()=>import("./index.es-Jn15hlyH.js"),__vite__mapDeps([0,1,2,3,4,5]))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Xe.API.addSvgAsImage=function(t,n,s,i,a,l,c,h){if(isNaN(n)||isNaN(s))throw Ot.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Ot.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=i,p.height=a;var g=p.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,p.width,p.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(_){return _.fromString(g,t,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(y)}).then(function(){m.addImage(p.toDataURL("image/jpeg",1),n,s,i,a,c,h)})}}(),Xe.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,t);return this},Xe.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),c=[],h=0,p=0,g=0;function y(_,w){var N,x=!1;for(N=0;N<_.length;N+=1)_[N]===w&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var m=l.length;for(g=0;g<m;g+=1)t[l[g]].value=t[l[g]].defaultValue,t[l[g]].explicitSet=!1}if(Ct(r)==="object"){for(s in r)if(i=r[s],y(l,s)&&i!==void 0){if(t[s].type==="boolean"&&typeof i=="boolean")t[s].value=i;else if(t[s].type==="name"&&y(t[s].valueSet,i))t[s].value=i;else if(t[s].type==="integer"&&Number.isInteger(i))t[s].value=i;else if(t[s].type==="array"){for(h=0;h<i.length;h+=1)if(n=!0,i[h].length===1&&typeof i[h][0]=="number")c.push(String(i[h]-1));else if(i[h].length>1){for(p=0;p<i[h].length;p+=1)typeof i[h][p]!="number"&&(n=!1);n===!0&&c.push([i[h][0]-1,i[h][1]-1].join(" "))}t[s].value="["+c.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,w=[];for(_ in t)t[_].explicitSet===!0&&(t[_].type==="name"?w.push("/"+_+" /"+t[_].value):w.push("/"+_+" "+t[_].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=i.length+a.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+l+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Xe.API),function(r){var e=r.API,t=e.pdfEscape16=function(i,a){for(var l,c=a.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],g=0,y=i.length;g<y;++g){if(l=a.metadata.characterToGlyph(i.charCodeAt(g)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=i.charCodeAt(g),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return p.join("");l=l.toString(16),p.push(h[4-l.length],l)}return p.join("")},n=function(i){var a,l,c,h,p,g,y;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,y=(l=Object.keys(i).sort(function(m,_){return m-_})).length;g<y;g++)a=l[g],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(h=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+h+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,h=a.newObject,p=a.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var g=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",_=0;_<y.length;_++)m+=String.fromCharCode(y[_]);var w=h();p({data:m,addLength1:!0,objectId:w}),c("endobj");var N=h();p({data:n(l.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var x=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ma(l.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var A=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+ma(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+r.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+N+" 0 R"),c("/BaseFont /"+ma(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+A+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,h=a.newObject,p=a.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var g=l.metadata.rawData,y="",m=0;m<g.length;m++)y+=String.fromCharCode(g[m]);var _=h();p({data:y,addLength1:!0,objectId:_}),c("endobj");var w=h();p({data:n(l.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var N=h();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+_+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+ma(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=h();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+ma(l.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,l=i.text||"",c=i.x,h=i.y,p=i.options||{},g=i.mutex||{},y=g.pdfEscape,m=g.activeFontKey,_=g.fonts,w=m,N="",x=0,A="",T=_[w].encoding;if(_[w].encoding!=="Identity-H")return{text:l,x:c,y:h,options:p,mutex:g};for(A=l,w=m,Array.isArray(l)&&(A=l[0]),x=0;x<A.length;x+=1)_[w].metadata.hasOwnProperty("cmap")&&(a=_[w].metadata.cmap.unicode.codeMap[A[x].charCodeAt(0)]),a||A[x].charCodeAt(0)<256&&_[w].metadata.hasOwnProperty("Unicode")?N+=A[x]:N+="";var z="";return parseInt(w.slice(1))<14||T==="WinAnsiEncoding"?z=y(N,w).split("").map(function(G){return G.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(z=t(N,_[w])),g.isHex=!0,{text:z,x:c,y:h,options:p,mutex:g}};e.events.push(["postProcessText",function(i){var a=i.text||"",l=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var h=0;for(h=0;h<a.length;h+=1)Array.isArray(a[h])&&a[h].length===3?l.push([s(Object.assign({},c,{text:a[h][0]})).text,a[h][1],a[h][2]]):l.push(s(Object.assign({},c,{text:a[h]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:a})).text}])}(Xe),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Xe.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var s,i,a,l,c,h,p,g=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,T=0;this.__bidiEngine__={};var z=function(I){var F=I.charCodeAt(),H=F>>8,B=w[H];return B!==void 0?g[256*B+(255&F)]:H===252||H===253?"AL":x.test(H)?"L":H===8?"R":"N"},G=function(I){for(var F,H=0;H<I.length;H++){if((F=z(I.charAt(H)))==="L")return!1;if(F==="R")return!0}return!1},te=function(I,F,H,B){var oe,ie,fe,Y,he=F[B];switch(he){case"L":case"R":A=!1;break;case"N":case"AN":break;case"EN":A&&(he="AN");break;case"AL":A=!0,he="R";break;case"WS":he="N";break;case"CS":B<1||B+1>=F.length||(oe=H[B-1])!=="EN"&&oe!=="AN"||(ie=F[B+1])!=="EN"&&ie!=="AN"?he="N":A&&(ie="AN"),he=ie===oe?ie:"N";break;case"ES":he=(oe=B>0?H[B-1]:"B")==="EN"&&B+1<F.length&&F[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&H[B-1]==="EN"){he="EN";break}if(A){he="N";break}for(fe=B+1,Y=F.length;fe<Y&&F[fe]==="ET";)fe++;he=fe<Y&&F[fe]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(Y=F.length,fe=B+1;fe<Y&&F[fe]==="NSM";)fe++;if(fe<Y){var pe=I[B],Ae=pe>=1425&&pe<=2303||pe===64286;if(oe=F[fe],Ae&&(oe==="R"||oe==="AL")){he="R";break}}}he=B<1||(oe=F[B-1])==="B"?"N":H[B-1];break;case"B":A=!1,s=!0,he=T;break;case"S":i=!0,he="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"BN":he="N"}return he},V=function(I,F,H){var B=I.split("");return H&&E(B,H,{hiLevel:T}),B.reverse(),F&&F.reverse(),B.join("")},E=function(I,F,H){var B,oe,ie,fe,Y,he=-1,pe=I.length,Ae=0,P=[],D=T?m:y,U=[];for(A=!1,s=!1,i=!1,oe=0;oe<pe;oe++)U[oe]=z(I[oe]);for(ie=0;ie<pe;ie++){if(Y=Ae,P[ie]=te(I,U,P,ie),B=240&(Ae=D[Y][_[P[ie]]]),Ae&=15,F[ie]=fe=D[Ae][5],B>0)if(B===16){for(oe=he;oe<ie;oe++)F[oe]=1;he=-1}else he=-1;if(D[Ae][6])he===-1&&(he=ie);else if(he>-1){for(oe=he;oe<ie;oe++)F[oe]=fe;he=-1}U[ie]==="B"&&(F[ie]=0),H.hiLevel|=fe}i&&function(W,J,Z){for(var ae=0;ae<Z;ae++)if(W[ae]==="S"){J[ae]=T;for(var ce=ae-1;ce>=0&&W[ce]==="WS";ce--)J[ce]=T}}(U,F,pe)},ne=function(I,F,H,B,oe){if(!(oe.hiLevel<I)){if(I===1&&T===1&&!s)return F.reverse(),void(H&&H.reverse());for(var ie,fe,Y,he,pe=F.length,Ae=0;Ae<pe;){if(B[Ae]>=I){for(Y=Ae+1;Y<pe&&B[Y]>=I;)Y++;for(he=Ae,fe=Y-1;he<fe;he++,fe--)ie=F[he],F[he]=F[fe],F[fe]=ie,H&&(ie=H[he],H[he]=H[fe],H[fe]=ie);Ae=Y}Ae++}}},re=function(I,F,H){var B=I.split(""),oe={hiLevel:T};return H||(H=[]),E(B,H,oe),function(ie,fe,Y){if(Y.hiLevel!==0&&p)for(var he,pe=0;pe<ie.length;pe++)fe[pe]===1&&(he=N.indexOf(ie[pe]))>=0&&(ie[pe]=N[he+1])}(B,H,oe),ne(2,B,F,H,oe),ne(1,B,F,H,oe),B.join("")};return this.__bidiEngine__.doBidiReorder=function(I,F,H){if(function(oe,ie){if(ie)for(var fe=0;fe<oe.length;fe++)ie[fe]=fe;l===void 0&&(l=G(oe)),h===void 0&&(h=G(oe))}(I,F),a||!c||h)if(a&&c&&l^h)T=l?1:0,I=V(I,F,H);else if(!a&&c&&h)T=l?1:0,I=re(I,F,H),I=V(I,F);else if(!a||l||c||h){if(a&&!c&&l^h)I=V(I,F),l?(T=0,I=re(I,F,H)):(T=1,I=re(I,F,H),I=V(I,F));else if(a&&l&&!c&&h)T=1,I=re(I,F,H),I=V(I,F);else if(!a&&!c&&l^h){var B=p;l?(T=1,I=re(I,F,H),T=0,p=!1,I=re(I,F,H),p=B):(T=0,I=re(I,F,H),I=V(I,F),T=1,p=!1,I=re(I,F,H),p=B,I=V(I,F))}}else T=0,I=re(I,F,H);else T=l?1:0,I=re(I,F,H);return I},this.__bidiEngine__.setOptions=function(I){I&&(a=I.isInputVisual,c=I.isOutputVisual,l=I.isInputRtl,h=I.isOutputRtl,p=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(a=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?a.push([t.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):a.push([t.doBidiReorder(s[l])]);n.text=a}else n.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])}(Xe),Xe.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Ks(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new h4(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new Qx(this.contents),this.head=new e4(this),this.name=new i4(this),this.cmap=new _m(this),this.toUnicode={},this.hhea=new t4(this),this.maxp=new a4(this),this.hmtx=new o4(this),this.post=new n4(this),this.os2=new r4(this),this.loca=new d4(this),this.glyf=new l4(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,c,h;for(h=[],a=0,l=(c=this.bbox).length;a<l;a++)e=c[a],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var s,i,a,l;for(a=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/t)||0;return a*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var Dn,Ks=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,s;for(s=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,s,i,a,l,c;return e=this.readByte(),t=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*s+16777216*i+65536*a+256*l+c},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)t=e[n],i.push(this.writeByte(t));return i},r}(),Qx=function(){var r;function e(t){var n,s,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,s,i,a,l,c,h,p,g,y,m,_,w;for(w in m=Object.keys(t).length,c=Math.log(2),g=16*Math.floor(Math.log(m)/c),a=Math.floor(g/c),p=16*m-g,(s=new Ks).writeInt(this.scalarType),s.writeShort(m),s.writeShort(g),s.writeShort(a),s.writeShort(p),i=16*m,h=s.pos+i,l=null,_=[],t)for(y=t[w],s.writeString(w),s.writeInt(r(y)),s.writeInt(h),s.writeInt(y.length),_=_.concat(y),w==="head"&&(l=h),h+=y.length;h%4;)_.push(0),h++;return s.write(_),n=2981146554-r(s.data),s.pos=l+8,s.writeUInt32(n),s.data},r=function(t){var n,s,i,a;for(t=Nm.call(t);t.length%4;)t.push(0);for(i=new Ks(t),s=0,n=0,a=t.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),Zx={}.hasOwnProperty,ts=function(r,e){for(var t in e)Zx.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};Dn=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var e4=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Dn),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Ks).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),Xf=function(){function r(e,t){var n,s,i,a,l,c,h,p,g,y,m,_,w,N,x,A,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),y=m/2,e.pos+=6,i=function(){var z,G;for(G=[],c=z=0;0<=y?z<y:z>y;c=0<=y?++z:--z)G.push(e.readUInt16());return G}(),e.pos+=2,w=function(){var z,G;for(G=[],c=z=0;0<=y?z<y:z>y;c=0<=y?++z:--z)G.push(e.readUInt16());return G}(),h=function(){var z,G;for(G=[],c=z=0;0<=y?z<y:z>y;c=0<=y?++z:--z)G.push(e.readUInt16());return G}(),p=function(){var z,G;for(G=[],c=z=0;0<=y?z<y:z>y;c=0<=y?++z:--z)G.push(e.readUInt16());return G}(),s=(this.length-e.pos+this.offset)/2,l=function(){var z,G;for(G=[],c=z=0;0<=s?z<s:z>s;c=0<=s?++z:--z)G.push(e.readUInt16());return G}(),c=x=0,T=i.length;x<T;c=++x)for(N=i[c],n=A=_=w[c];_<=N?A<=N:A>=N;n=_<=N?++A:--A)p[c]===0?a=n+h[c]:(a=l[p[c]/2+(n-_)-(y-c)]||0)!==0&&(a+=h[c]),this.codeMap[n]=65535&a}e.pos=g}return r.encode=function(e,t){var n,s,i,a,l,c,h,p,g,y,m,_,w,N,x,A,T,z,G,te,V,E,ne,re,I,F,H,B,oe,ie,fe,Y,he,pe,Ae,P,D,U,W,J,Z,ae,ce,be,ye,Pe;switch(B=new Ks,a=Object.keys(e).sort(function(Le,ze){return Le-ze}),t){case"macroman":for(w=0,N=function(){var Le=[];for(_=0;_<256;++_)Le.push(0);return Le}(),A={0:0},i={},oe=0,he=a.length;oe<he;oe++)A[ce=e[s=a[oe]]]==null&&(A[ce]=++w),i[s]={old:e[s],new:A[e[s]]},N[s]=A[e[s]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(N),{charMap:i,subtable:B.data,maxGlyphID:w+1};case"unicode":for(F=[],g=[],T=0,A={},n={},x=h=null,ie=0,pe=a.length;ie<pe;ie++)A[G=e[s=a[ie]]]==null&&(A[G]=++T),n[s]={old:G,new:A[G]},l=A[G]-s,x!=null&&l===h||(x&&g.push(x),F.push(s),h=l),x=s;for(x&&g.push(x),g.push(65535),F.push(65535),re=2*(ne=F.length),E=2*Math.pow(Math.log(ne)/Math.LN2,2),y=Math.log(E/2)/Math.LN2,V=2*ne-E,c=[],te=[],m=[],_=fe=0,Ae=F.length;fe<Ae;_=++fe){if(I=F[_],p=g[_],I===65535){c.push(0),te.push(0);break}if(I-(H=n[I].new)>=32768)for(c.push(0),te.push(2*(m.length+ne-_)),s=Y=I;I<=p?Y<=p:Y>=p;s=I<=p?++Y:--Y)m.push(n[s].new);else c.push(H-I),te.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*ne+2*m.length),B.writeUInt16(0),B.writeUInt16(re),B.writeUInt16(E),B.writeUInt16(y),B.writeUInt16(V),Z=0,P=g.length;Z<P;Z++)s=g[Z],B.writeUInt16(s);for(B.writeUInt16(0),ae=0,D=F.length;ae<D;ae++)s=F[ae],B.writeUInt16(s);for(be=0,U=c.length;be<U;be++)l=c[be],B.writeUInt16(l);for(ye=0,W=te.length;ye<W;ye++)z=te[ye],B.writeUInt16(z);for(Pe=0,J=m.length;Pe<J;Pe++)w=m[Pe],B.writeUInt16(w);return{charMap:n,subtable:B.data,maxGlyphID:T+1}}},r}(),_m=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Dn),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,s,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new Xf(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var s,i;return n==null&&(n="macroman"),s=Xf.encode(t,n),(i=new Ks).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),t4=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Dn),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),r4=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Dn),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(t.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(t.readInt());return s}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(t.readInt());return s}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),n4=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Dn),e.prototype.tag="post",e.prototype.parse=function(t){var n,s,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var a;for(s=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 196608:break;case 262144:return this.map=(function(){var l,c,h;for(h=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)h.push(t.readUInt32());return h}).call(this)}},e}(),s4=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},i4=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Dn),e.prototype.tag="name",e.prototype.parse=function(t){var n,s,i,a,l,c,h,p,g,y,m;for(t.pos=this.offset,t.readShort(),n=t.readShort(),c=t.readShort(),s=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(h={},a=g=0,y=s.length;g<y;a=++g)i=s[a],t.pos=i.offset,p=t.readString(i.length),l=new s4(p,i),h[m=i.nameID]==null&&(h[m]=[]),h[i.nameID].push(l);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),a4=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Dn),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),o4=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Dn),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,s,i,a,l,c,h;for(t.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,g;for(g=[],n=p=0;0<=i?p<i:p>i;n=0<=i?++p:--p)g.push(t.readInt16());return g}(),this.widths=(function(){var p,g,y,m;for(m=[],p=0,g=(y=this.metrics).length;p<g;p++)a=y[p],m.push(a.advance);return m}).call(this),s=this.widths[this.widths.length-1],h=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)h.push(this.widths.push(s));return h},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),Nm=[].slice,l4=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Dn),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,s,i,a,l,c,h,p,g,y;return t in this.cache?this.cache[t]:(a=this.file.loca,n=this.file.contents,s=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+s,l=(c=new Ks(n.read(i))).readShort(),p=c.readShort(),y=c.readShort(),h=c.readShort(),g=c.readShort(),this.cache[t]=l===-1?new u4(c,p,y,h,g):new c4(c,l,p,y,h,g),this.cache[t]))},e.prototype.encode=function(t,n,s){var i,a,l,c,h;for(l=[],a=[],c=0,h=n.length;c<h;c++)i=t[n[c]],a.push(l.length),i&&(l=l.concat(i.encode(s)));return a.push(l.length),{table:l,offsets:a}},e}(),c4=function(){function r(e,t,n,s,i,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),u4=function(){function r(e,t,n,s,i){var a,l;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Ks(Nm.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),d4=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Dn),e.prototype.tag="loca",e.prototype.parse=function(t){var n,s;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,l=0;l<s.length;++l)if(s[l]=i,a<n.length&&n[a]==l){++a,s[l]=i;var c=this.offsets[l],h=this.offsets[l+1]-c;h>0&&(i+=h)}for(var p=new Array(4*s.length),g=0;g<s.length;++g)p[4*g+3]=255&s[g],p[4*g+2]=(65280&s[g])>>8,p[4*g+1]=(16711680&s[g])>>16,p[4*g]=(4278190080&s[g])>>24;return p},e}(),h4=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,s,i;for(t in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=s[n];return e},r.prototype.glyphsFor=function(e){var t,n,s,i,a,l,c;for(s={},a=0,l=e.length;a<l;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in t=[],s)(n=s[i])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in c=this.glyphsFor(t))n=c[i],s[i]=n;return s},r.prototype.encode=function(e,t){var n,s,i,a,l,c,h,p,g,y,m,_,w,N,x;for(s in n=_m.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},x=n.charMap)m[(c=x[s]).old]=c.new;for(_ in y=n.maxGlyphID,a)_ in m||(m[_]=y++);return p=function(A){var T,z;for(T in z={},A)z[A[T]]=T;return z}(m),g=Object.keys(p).sort(function(A,T){return A-T}),w=function(){var A,T,z;for(z=[],A=0,T=g.length;A<T;A++)l=g[A],z.push(p[l]);return z}(),i=this.font.glyf.encode(a,w,m),h=this.font.loca.encode(i.offsets,w),N={cmap:this.font.cmap.raw(),glyf:i.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},r}();Xe.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,s,i,a;if(Array.isArray(t))return"["+function(){var l,c,h;for(h=[],l=0,c=t.length;l<c;l++)n=t[l],h.push(e.convert(n));return h}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in i=["<<"],t)a=t[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+t},e}();function f4(){const{products:r,sales:e}=es(),[t,n]=O.useState({category:"",stockLevel:"all",dateFrom:void 0,dateTo:void 0}),s=[...new Set(r.map(g=>g.category))],i=()=>{const g=new Xe,y=new Date,m=y.getMonth(),_=y.getFullYear(),w=e.filter(V=>{const E=new Date(V.date);return E.getMonth()===m&&E.getFullYear()===_}),N=w.reduce((V,E)=>V+E.totalPrice,0),x=w.reduce((V,E)=>V+E.quantity,0),A=r.length,T=r.filter(V=>V.stock<=V.minStock).length,z=r.reduce((V,E)=>V+E.stock*E.salePrice,0);g.setFontSize(20),g.text("Reporte Mensual - Inventory Soft",20,30),g.setFontSize(12);const G=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];g.text(`Perodo: ${G[m]} ${_}`,20,45),g.text(`Generado: ${y.toLocaleDateString()}`,20,55),g.setFontSize(16),g.text("Mtricas Principales",20,75),g.setFontSize(12);let te=90;if(g.text(` Total de Ventas del Mes: $${N.toFixed(2)}`,25,te),te+=10,g.text(` Cantidad Total Vendida: ${x} unidades`,25,te),te+=10,g.text(` Total de Productos en Inventario: ${A}`,25,te),te+=10,g.text(` Productos con Stock Bajo: ${T}`,25,te),te+=10,g.text(` Valor Total del Inventario: $${z.toFixed(2)}`,25,te),w.length>0&&(te+=20,g.setFontSize(16),g.text("Ventas del Mes",20,te),te+=15,g.setFontSize(10),w.slice(0,10).forEach(V=>{g.text(`${V.productName} - Cant: ${V.quantity} - Total: $${V.totalPrice.toFixed(2)}`,25,te),te+=8}),w.length>10&&g.text(`... y ${w.length-10} ventas ms`,25,te)),T>0){const V=r.filter(E=>E.stock<=E.minStock);te+=20,g.setFontSize(16),g.text("Productos con Stock Bajo",20,te),te+=15,g.setFontSize(10),V.forEach(E=>{g.text(`${E.name} - Stock: ${E.stock}/${E.minStock}`,25,te),te+=8})}g.save(`reporte-mensual-${G[m]}-${_}.pdf`)},l=(()=>{let g=[...r];if(t.category&&t.category!=="all"&&(g=g.filter(y=>y.category===t.category)),t.stockLevel&&t.stockLevel!=="all")switch(t.stockLevel){case"low":g=g.filter(y=>y.stock<=y.minStock);break;case"normal":g=g.filter(y=>y.stock>y.minStock&&y.stock<=y.minStock*2);break;case"high":g=g.filter(y=>y.stock>y.minStock*2);break}return g})(),c=(g,y)=>g<=y?{label:"Bajo",variant:"destructive"}:g<=y*2?{label:"Normal",variant:"secondary"}:{label:"Alto",variant:"default"},p=s.map(y=>{const m=r.filter(x=>x.category===y),_=m.reduce((x,A)=>x+A.stock,0),w=m.reduce((x,A)=>x+A.stock*A.salePrice,0),N=m.filter(x=>x.stock<=x.minStock).length;return{category:y,productCount:m.length,totalStock:_,totalValue:w,lowStockCount:N}});return u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Generador de Reportes"}),u.jsx("p",{className:"text-muted-foreground",children:"Genera informes detallados de tu inventario"})]}),u.jsxs(zt,{onClick:i,className:"gap-2",children:[u.jsx(j2,{className:"w-4 h-4"}),"Exportar Reporte PDF"]})]}),u.jsxs(Vt,{children:[u.jsx(xr,{children:u.jsxs(_r,{className:"flex items-center gap-2",children:[u.jsx(Zh,{className:"w-5 h-5"}),"Filtros de Reporte"]})}),u.jsxs(Wt,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{children:[u.jsx(ht,{htmlFor:"category",children:"Categora"}),u.jsxs(Ni,{value:t.category,onValueChange:g=>n({...t,category:g}),children:[u.jsx(Vs,{children:u.jsx(Si,{placeholder:"Todas las categoras"})}),u.jsxs(Ws,{children:[u.jsx(Br,{value:"all",children:"Todas las categoras"}),s.map(g=>u.jsx(Br,{value:g,children:g},g))]})]})]}),u.jsxs("div",{children:[u.jsx(ht,{htmlFor:"stockLevel",children:"Nivel de Stock"}),u.jsxs(Ni,{value:t.stockLevel,onValueChange:g=>n({...t,stockLevel:g}),children:[u.jsx(Vs,{children:u.jsx(Si,{})}),u.jsxs(Ws,{children:[u.jsx(Br,{value:"all",children:"Todos los niveles"}),u.jsx(Br,{value:"low",children:"Stock bajo"}),u.jsx(Br,{value:"normal",children:"Stock normal"}),u.jsx(Br,{value:"high",children:"Stock alto"})]})]})]}),u.jsxs("div",{children:[u.jsx(ht,{htmlFor:"dateFrom",children:"Fecha Desde"}),u.jsx(xt,{id:"dateFrom",type:"date",onChange:g=>n({...t,dateFrom:g.target.value?new Date(g.target.value):void 0})})]}),u.jsxs("div",{children:[u.jsx(ht,{htmlFor:"dateTo",children:"Fecha Hasta"}),u.jsx(xt,{id:"dateTo",type:"date",onChange:g=>n({...t,dateTo:g.target.value?new Date(g.target.value):void 0})})]})]}),u.jsx("div",{className:"mt-4",children:u.jsxs(zt,{className:"gap-2",children:[u.jsx(Zh,{className:"w-4 h-4"}),"Aplicar Filtros"]})})]})]}),u.jsxs(Vt,{children:[u.jsx(xr,{children:u.jsx(_r,{children:"Reporte de Inventario"})}),u.jsx(Wt,{children:u.jsxs(Uo,{children:[u.jsx($o,{children:u.jsxs(Xn,{children:[u.jsx(qt,{children:"Producto"}),u.jsx(qt,{children:"Categora"}),u.jsx(qt,{children:"Stock Actual"}),u.jsx(qt,{children:"Stock Mnimo"}),u.jsx(qt,{children:"Estado"}),u.jsx(qt,{children:"Valor Total"})]})}),u.jsx(zo,{children:l.map(g=>{const y=c(g.stock,g.minStock),m=g.stock*g.salePrice;return u.jsxs(Xn,{children:[u.jsx(Ft,{className:"font-medium",children:g.name}),u.jsx(Ft,{children:g.category}),u.jsx(Ft,{children:g.stock}),u.jsx(Ft,{children:g.minStock}),u.jsx(Ft,{children:u.jsx(In,{variant:y.variant,children:y.label})}),u.jsxs(Ft,{children:["$",m.toFixed(2)]})]},g.id)})})]})})]}),u.jsxs(Vt,{children:[u.jsx(xr,{children:u.jsx(_r,{children:"Reporte por Categora"})}),u.jsx(Wt,{children:u.jsxs(Uo,{children:[u.jsx($o,{children:u.jsxs(Xn,{children:[u.jsx(qt,{children:"Categora"}),u.jsx(qt,{children:"Productos"}),u.jsx(qt,{children:"Stock Total"}),u.jsx(qt,{children:"Valor Total"}),u.jsx(qt,{children:"Productos con Stock Bajo"})]})}),u.jsx(zo,{children:p.map(g=>u.jsxs(Xn,{children:[u.jsx(Ft,{className:"font-medium",children:g.category}),u.jsx(Ft,{children:g.productCount}),u.jsx(Ft,{children:g.totalStock}),u.jsxs(Ft,{children:["$",g.totalValue.toFixed(2)]}),u.jsx(Ft,{children:g.lowStockCount>0?u.jsx(In,{variant:"destructive",children:g.lowStockCount}):u.jsx(In,{variant:"default",children:"0"})})]},g.category))})]})})]})]})}const Sm=O.forwardRef(({className:r,...e},t)=>u.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...e}));Sm.displayName="Textarea";function p4({isOpen:r,onOpenChange:e,selectedDate:t,sales:n,products:s}){const i=(c,h)=>{const p=s.find(m=>m.id===c);return p?(h-p.purchasePrice)/p.purchasePrice*100:0},a=n.reduce((c,h)=>c+h.totalPrice,0),l=n.reduce((c,h)=>c+h.quantity,0);return u.jsx($0,{open:r,onOpenChange:e,children:u.jsxs(oh,{className:"w-[400px] sm:w-[540px]",children:[u.jsxs(H0,{children:[u.jsxs(V0,{className:"flex items-center gap-2",children:[u.jsx(On,{className:"w-5 h-5"}),"Ventas del ",t==null?void 0:t.toLocaleDateString()]}),u.jsx(W0,{children:"Resumen de todas las ventas realizadas en este da"})]}),u.jsxs("div",{className:"mt-6 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Xd,{className:"w-4 h-4 text-green-600"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Ingresos"})]}),u.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",a.toFixed(2)]})]}),u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(On,{className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Productos"})]}),u.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"Detalle de Ventas"}),n.length===0?u.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No hay ventas registradas para este da"}):n.map(c=>{const h=i(c.productId,c.unitPrice);return u.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium",children:c.productName}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Cliente: ",c.customer||"Cliente annimo"]})]}),u.jsxs(In,{variant:"outline",children:[c.quantity," unidad",c.quantity>1?"es":""]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Precio Total:"}),u.jsxs("p",{className:"font-semibold",children:["$",c.totalPrice.toFixed(2)]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Retorno:"}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Ia,{className:"w-3 h-3 text-green-600"}),u.jsxs("p",{className:`font-semibold ${h>0?"text-green-600":"text-red-600"}`,children:[h.toFixed(1),"%"]})]})]})]})]},c.id)})]})]})]})})}function m4({products:r}){return u.jsxs(Vt,{children:[u.jsx(xr,{children:u.jsxs(_r,{className:"flex items-center gap-2",children:[u.jsx(Ia,{className:"w-5 h-5"}),"Top 5 Productos del Mes"]})}),u.jsx(Wt,{children:u.jsx("div",{className:"space-y-4",children:r.length===0?u.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No hay ventas registradas este mes"}):r.map((e,t)=>u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:u.jsxs("span",{className:"text-sm font-bold text-primary",children:["#",t+1]})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium",children:e.productName}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",e.totalRevenue.toFixed(2)," en ventas"]})]})]}),u.jsx("div",{className:"text-right",children:u.jsxs(In,{variant:"secondary",className:"flex items-center gap-1",children:[u.jsx(On,{className:"w-3 h-3"}),e.totalQuantity]})})]},e.productId))})})]})}function g4(){const{events:r,addEvent:e,sales:t,products:n,getSalesByDate:s,getTopSellingProducts:i}=es(),[a,l]=O.useState(!1),[c,h]=O.useState({title:"",description:"",date:"",type:"meeting"}),[p,g]=O.useState(new Date),[y,m]=O.useState(null),[_,w]=O.useState(!1),N=()=>{if(!c.title||!c.date){$t({title:"Error",description:"Por favor completa el ttulo y la fecha del evento.",variant:"destructive"});return}e({...c,date:new Date(c.date)}),h({title:"",description:"",date:"",type:"meeting"}),l(!1),$t({title:"Evento agregado",description:`${c.title} ha sido agregado al calendario.`})},x=re=>{m(re),w(!0)},A=re=>{switch(re){case"meeting":return"bg-blue-500";case"delivery":return"bg-green-500";case"reminder":return"bg-yellow-500";default:return"bg-gray-500"}},T=re=>{switch(re){case"meeting":return"Reunin";case"delivery":return"Entrega";case"reminder":return"Recordatorio";default:return"Otro"}},G=(()=>{const re=p.getFullYear(),I=p.getMonth(),F=new Date(re,I,1),H=new Date(F);H.setDate(H.getDate()-F.getDay());const B=[],oe=new Date(H);for(let ie=0;ie<42;ie++){const fe=r.filter(he=>he.date.toDateString()===oe.toDateString()),Y=s(oe);B.push({date:new Date(oe),isCurrentMonth:oe.getMonth()===I,events:fe,salesCount:Y.length}),oe.setDate(oe.getDate()+1)}return B})(),te=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],V=re=>{g(new Date(p.getFullYear(),p.getMonth()+re,1))},E=i(5),ne=y?s(y):[];return u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Calendario"}),u.jsx("p",{className:"text-muted-foreground",children:"Programa y gestiona eventos importantes"})]}),u.jsxs(qo,{open:a,onOpenChange:l,children:[u.jsx(zc,{asChild:!0,children:u.jsxs(zt,{className:"gap-2",children:[u.jsx(jc,{className:"w-4 h-4"}),"Nuevo Evento"]})}),u.jsxs(Da,{children:[u.jsxs(Ma,{children:[u.jsx(qa,{children:"Crear Nuevo Evento"}),u.jsx(Ua,{children:"Programa un nuevo evento en tu calendario."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"title",className:"text-right",children:"Ttulo"}),u.jsx(xt,{id:"title",value:c.title,onChange:re=>h({...c,title:re.target.value}),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"type",className:"text-right",children:"Tipo"}),u.jsxs(Ni,{value:c.type,onValueChange:re=>h({...c,type:re}),children:[u.jsx(Vs,{className:"col-span-3",children:u.jsx(Si,{})}),u.jsxs(Ws,{children:[u.jsx(Br,{value:"meeting",children:"Reunin"}),u.jsx(Br,{value:"delivery",children:"Entrega"}),u.jsx(Br,{value:"reminder",children:"Recordatorio"}),u.jsx(Br,{value:"other",children:"Otro"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"date",className:"text-right",children:"Fecha"}),u.jsx(xt,{id:"date",type:"datetime-local",value:c.date,onChange:re=>h({...c,date:re.target.value}),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"description",className:"text-right",children:"Descripcin"}),u.jsx(Sm,{id:"description",value:c.description,onChange:re=>h({...c,description:re.target.value}),className:"col-span-3",placeholder:"Descripcin del evento (opcional)"})]})]}),u.jsx(Ba,{children:u.jsx(zt,{onClick:N,children:"Crear Evento"})})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsxs(Vt,{children:[u.jsx(xr,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(_r,{className:"flex items-center gap-2",children:[u.jsx(uc,{className:"w-5 h-5"}),te[p.getMonth()]," ",p.getFullYear()]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(zt,{variant:"outline",size:"sm",onClick:()=>V(-1),children:""}),u.jsx(zt,{variant:"outline",size:"sm",onClick:()=>V(1),children:""})]})]})}),u.jsxs(Wt,{children:[u.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Dom","Lun","Mar","Mi","Jue","Vie","Sb"].map(re=>u.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:re},re))}),u.jsx("div",{className:"grid grid-cols-7 gap-1",children:G.map((re,I)=>u.jsxs("div",{className:`min-h-[80px] p-2 border rounded-lg cursor-pointer hover:bg-muted/50 transition-colors ${re.isCurrentMonth?"bg-background border-border":"bg-muted border-muted-foreground/20"} ${re.date.toDateString()===new Date().toDateString()?"ring-2 ring-primary":""}`,onClick:()=>x(re.date),children:[u.jsx("div",{className:`text-sm ${re.isCurrentMonth?"text-foreground":"text-muted-foreground"}`,children:re.date.getDate()}),u.jsxs("div",{className:"space-y-1 mt-1",children:[re.events.slice(0,2).map(F=>u.jsx("div",{className:`text-xs px-1 py-0.5 rounded text-white truncate ${A(F.type)}`,title:F.title,children:F.title},F.id)),re.events.length>2&&u.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",re.events.length-2," ms"]}),re.salesCount>0&&u.jsxs("div",{className:"text-xs bg-green-100 text-green-800 px-1 py-0.5 rounded",children:[re.salesCount," venta",re.salesCount>1?"s":""]})]})]},I))})]})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(Vt,{children:[u.jsx(xr,{children:u.jsxs(_r,{className:"flex items-center gap-2",children:[u.jsx(Qh,{className:"w-5 h-5"}),"Prximos Eventos"]})}),u.jsx(Wt,{children:u.jsxs("div",{className:"space-y-4",children:[r.filter(re=>re.date>=new Date).sort((re,I)=>re.date.getTime()-I.date.getTime()).slice(0,5).map(re=>u.jsxs("div",{className:"p-3 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h4",{className:"font-medium",children:re.title}),u.jsx(In,{variant:"outline",children:T(re.type)})]}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[u.jsx(uc,{className:"w-3 h-3"}),re.date.toLocaleDateString()]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Qh,{className:"w-3 h-3"}),re.date.toLocaleTimeString()]})]}),re.description&&u.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:re.description})]},re.id)),r.filter(re=>re.date>=new Date).length===0&&u.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No hay eventos prximos"})]})})]}),u.jsx(m4,{products:E})]})]}),u.jsx(p4,{isOpen:_,onOpenChange:w,selectedDate:y,sales:ne,products:n})]})}var mh="Avatar",[v4,t3]=$a(mh),[y4,jm]=v4(mh),Am=O.forwardRef((r,e)=>{const{__scopeAvatar:t,...n}=r,[s,i]=O.useState("idle");return u.jsx(y4,{scope:t,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:u.jsx(Et.span,{...n,ref:e})})});Am.displayName=mh;var Pm="AvatarImage",km=O.forwardRef((r,e)=>{const{__scopeAvatar:t,src:n,onLoadingStatusChange:s=()=>{},...i}=r,a=jm(Pm,t),l=b4(n,i.referrerPolicy),c=Ta(h=>{s(h),a.onImageLoadingStatusChange(h)});return Rn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?u.jsx(Et.img,{...i,ref:e,src:n}):null});km.displayName=Pm;var Lm="AvatarFallback",Cm=O.forwardRef((r,e)=>{const{__scopeAvatar:t,delayMs:n,...s}=r,i=jm(Lm,t),[a,l]=O.useState(n===void 0);return O.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&i.imageLoadingStatus!=="loaded"?u.jsx(Et.span,{...s,ref:e}):null});Cm.displayName=Lm;function b4(r,e){const[t,n]=O.useState("idle");return Rn(()=>{if(!r){n("error");return}let s=!0;const i=new window.Image,a=l=>()=>{s&&n(l)};return n("loading"),i.onload=a("loaded"),i.onerror=a("error"),i.src=r,e&&(i.referrerPolicy=e),()=>{s=!1}},[r,e]),t}var Em=Am,Tm=km,Im=Cm;const Rm=O.forwardRef(({className:r,...e},t)=>u.jsx(Em,{ref:t,className:Ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...e}));Rm.displayName=Em.displayName;const Om=O.forwardRef(({className:r,...e},t)=>u.jsx(Tm,{ref:t,className:Ee("aspect-square h-full w-full",r),...e}));Om.displayName=Tm.displayName;const Fm=O.forwardRef(({className:r,...e},t)=>u.jsx(Im,{ref:t,className:Ee("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...e}));Fm.displayName=Im.displayName;function w4(){const{user:r,setUser:e}=es(),[t,n]=O.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",company:(r==null?void 0:r.company)||"",role:(r==null?void 0:r.role)||""}),s=()=>{if(!t.name||!t.email){$t({title:"Error",description:"Por favor completa los campos requeridos.",variant:"destructive"});return}e({id:(r==null?void 0:r.id)||"1",name:t.name,email:t.email,company:t.company,role:t.role}),$t({title:"Perfil actualizado",description:"Los cambios han sido guardados exitosamente."})};return u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Perfil"}),u.jsx("p",{className:"text-muted-foreground",children:"Gestiona tu informacin personal y de empresa"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs(Vt,{children:[u.jsx(xr,{children:u.jsxs(_r,{className:"flex items-center gap-2",children:[u.jsx(Hp,{className:"w-5 h-5"}),"Informacin Personal"]})}),u.jsxs(Wt,{className:"text-center space-y-4",children:[u.jsxs(Rm,{className:"w-24 h-24 mx-auto",children:[u.jsx(Om,{src:r==null?void 0:r.avatar}),u.jsx(Fm,{className:"text-2xl",children:t.name.split(" ").map(i=>i[0]).join("").toUpperCase()})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-semibold",children:t.name||"Usuario"}),u.jsx("p",{className:"text-muted-foreground",children:t.role||"Sin rol"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t.company||"Sin empresa"})]}),u.jsx(zt,{variant:"outline",className:"w-full",children:"Cambiar Foto de Perfil"})]})]}),u.jsxs("div",{className:"lg:col-span-2",children:[u.jsxs(Vt,{children:[u.jsx(xr,{children:u.jsxs(_r,{className:"flex items-center gap-2",children:[u.jsx(_2,{className:"w-5 h-5"}),"Detalles del Perfil"]})}),u.jsxs(Wt,{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(ht,{htmlFor:"name",children:"Nombre Completo *"}),u.jsx(xt,{id:"name",value:t.name,onChange:i=>n({...t,name:i.target.value}),placeholder:"Tu nombre completo"})]}),u.jsxs("div",{children:[u.jsx(ht,{htmlFor:"email",children:"Correo Electrnico *"}),u.jsx(xt,{id:"email",type:"email",value:t.email,onChange:i=>n({...t,email:i.target.value}),placeholder:"tu@email.com"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(ht,{htmlFor:"company",children:"Empresa/Negocio"}),u.jsx(xt,{id:"company",value:t.company,onChange:i=>n({...t,company:i.target.value}),placeholder:"Nombre de tu empresa"})]}),u.jsxs("div",{children:[u.jsx(ht,{htmlFor:"role",children:"Cargo"}),u.jsx(xt,{id:"role",value:t.role,onChange:i=>n({...t,role:i.target.value}),placeholder:"Tu cargo en la empresa"})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsxs(zt,{onClick:s,className:"gap-2",children:[u.jsx(R2,{className:"w-4 h-4"}),"Guardar Cambios"]})})]})]}),u.jsxs(Vt,{className:"mt-6",children:[u.jsx(xr,{children:u.jsx(_r,{children:"Estadsticas de Usuario"})}),u.jsx(Wt,{children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"text-center p-4 bg-primary/5 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-primary",children:"15"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Das activo"})]}),u.jsxs("div",{className:"text-center p-4 bg-success/5 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-success",children:"48"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Productos gestionados"})]}),u.jsxs("div",{className:"text-center p-4 bg-warning/5 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-warning",children:"12"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Reportes generados"})]})]})})]})]})]})]})}const x4=Ig,Dm=O.forwardRef(({className:r,...e},t)=>u.jsx(pp,{ref:t,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...e}));Dm.displayName=pp.displayName;const Md=O.forwardRef(({className:r,...e},t)=>u.jsx(mp,{ref:t,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...e}));Md.displayName=mp.displayName;const Bd=O.forwardRef(({className:r,...e},t)=>u.jsx(gp,{ref:t,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...e}));Bd.displayName=gp.displayName;const _4=ji("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),qd=O.forwardRef(({className:r,variant:e,...t},n)=>u.jsx("div",{ref:n,role:"alert",className:Ee(_4({variant:e}),r),...t}));qd.displayName="Alert";const N4=O.forwardRef(({className:r,...e},t)=>u.jsx("h5",{ref:t,className:Ee("mb-1 font-medium leading-none tracking-tight",r),...e}));N4.displayName="AlertTitle";const Ud=O.forwardRef(({className:r,...e},t)=>u.jsx("div",{ref:t,className:Ee("text-sm [&_p]:leading-relaxed",r),...e}));Ud.displayName="AlertDescription";var gh="Checkbox",[S4,r3]=$a(gh),[j4,A4]=S4(gh),Mm=O.forwardRef((r,e)=>{const{__scopeCheckbox:t,name:n,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:h,form:p,...g}=r,[y,m]=O.useState(null),_=Nr(e,z=>m(z)),w=O.useRef(!1),N=y?p||!!y.closest("form"):!0,[x=!1,A]=Ea({prop:s,defaultProp:i,onChange:h}),T=O.useRef(x);return O.useEffect(()=>{const z=y==null?void 0:y.form;if(z){const G=()=>A(T.current);return z.addEventListener("reset",G),()=>z.removeEventListener("reset",G)}},[y,A]),u.jsxs(j4,{scope:t,state:x,disabled:l,children:[u.jsx(Et.button,{type:"button",role:"checkbox","aria-checked":zs(x)?"mixed":x,"aria-required":a,"data-state":Um(x),"data-disabled":l?"":void 0,disabled:l,value:c,...g,ref:_,onKeyDown:ft(r.onKeyDown,z=>{z.key==="Enter"&&z.preventDefault()}),onClick:ft(r.onClick,z=>{A(G=>zs(G)?!0:!G),N&&(w.current=z.isPropagationStopped(),w.current||z.stopPropagation())})}),N&&u.jsx(P4,{control:y,bubbles:!w.current,name:n,value:c,checked:x,required:a,disabled:l,form:p,style:{transform:"translateX(-100%)"},defaultChecked:zs(i)?!1:i})]})});Mm.displayName=gh;var Bm="CheckboxIndicator",qm=O.forwardRef((r,e)=>{const{__scopeCheckbox:t,forceMount:n,...s}=r,i=A4(Bm,t);return u.jsx(Go,{present:n||zs(i.state)||i.state===!0,children:u.jsx(Et.span,{"data-state":Um(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...r.style}})})});qm.displayName=Bm;var P4=r=>{const{control:e,checked:t,bubbles:n=!0,defaultChecked:s,...i}=r,a=O.useRef(null),l=g1(t),c=Rg(e);O.useEffect(()=>{const p=a.current,g=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(g,"checked").set;if(l!==t&&m){const _=new Event("click",{bubbles:n});p.indeterminate=zs(t),m.call(p,zs(t)?!1:t),p.dispatchEvent(_)}},[l,t,n]);const h=O.useRef(zs(t)?!1:t);return u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??h.current,...i,tabIndex:-1,ref:a,style:{...r.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function zs(r){return r==="indeterminate"}function Um(r){return zs(r)?"indeterminate":r?"checked":"unchecked"}var $m=Mm,k4=qm;const zm=O.forwardRef(({className:r,...e},t)=>u.jsx($m,{ref:t,className:Ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...e,children:u.jsx(k4,{className:Ee("flex items-center justify-center text-current"),children:u.jsx(Up,{className:"h-4 w-4"})})}));zm.displayName=$m.displayName;function L4(){const[r,e]=O.useState(!1),[t,n]=O.useState(!1),[s,i]=O.useState(""),{signIn:a,signUp:l,user:c}=ah(),h=Gd(),[p,g]=O.useState({email:"",password:""}),[y,m]=O.useState({name:"",email:"",password:"",confirmPassword:"",company:"",isTemporaryCompany:!1});O.useEffect(()=>{c&&h("/",{replace:!0})},[c,h]);const _=async N=>{N.preventDefault(),e(!0),i("");try{const{error:x}=await a(p.email,p.password);x?x.message.includes("Email not confirmed")?i("Por favor, confirma tu email antes de iniciar sesin."):x.message.includes("Invalid login credentials")?i("Credenciales incorrectas. Verifica tu email y contrasea."):i(x.message):$t({title:"Bienvenido!",description:"Has iniciado sesin exitosamente."})}catch{i("Error inesperado al iniciar sesin")}finally{e(!1)}},w=async N=>{if(N.preventDefault(),e(!0),i(""),y.password!==y.confirmPassword){i("Las contraseas no coinciden"),e(!1);return}if(y.password.length<6){i("La contrasea debe tener al menos 6 caracteres"),e(!1);return}try{const{error:x}=await l(y.email,y.password,y.name,y.company||void 0,y.isTemporaryCompany);x?x.message.includes("User already registered")?i("Este email ya est registrado. Intenta iniciar sesin."):i(x.message):($t({title:"Registro exitoso!",description:"Revisa tu email para confirmar tu cuenta antes de iniciar sesin."}),m({name:"",email:"",password:"",confirmPassword:"",company:"",isTemporaryCompany:!1}))}catch{i("Error inesperado al registrarse")}finally{e(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(On,{className:"w-8 h-8 text-primary-foreground"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Soft"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"Tu inventario en orden con solo unos clics"})]}),u.jsxs(x4,{defaultValue:"login",className:"w-full",children:[u.jsxs(Dm,{className:"grid w-full grid-cols-2",children:[u.jsx(Md,{value:"login",children:"Iniciar Sesin"}),u.jsx(Md,{value:"register",children:"Registrarse"})]}),u.jsx(Bd,{value:"login",children:u.jsxs(Vt,{children:[u.jsxs(xr,{children:[u.jsx(_r,{children:"Iniciar Sesin"}),u.jsx(wd,{children:"Ingresa tus credenciales para acceder a tu cuenta"})]}),u.jsxs("form",{onSubmit:_,children:[u.jsxs(Wt,{className:"space-y-4",children:[s&&u.jsx(qd,{variant:"destructive",children:u.jsx(Ud,{children:s})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"login-email",children:"Email"}),u.jsx(xt,{id:"login-email",type:"email",placeholder:"tu@email.com",value:p.email,onChange:N=>g(x=>({...x,email:N.target.value})),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"login-password",children:"Contrasea"}),u.jsxs("div",{className:"relative",children:[u.jsx(xt,{id:"login-password",type:t?"text":"password",placeholder:"",value:p.password,onChange:N=>g(x=>({...x,password:N.target.value})),required:!0}),u.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>n(!t),children:t?u.jsx(A2,{className:"w-4 h-4"}):u.jsx(P2,{className:"w-4 h-4"})})]})]})]}),u.jsx(xd,{children:u.jsx(zt,{type:"submit",className:"w-full",disabled:r,children:r?"Iniciando sesin...":"Iniciar Sesin"})})]})]})}),u.jsx(Bd,{value:"register",children:u.jsxs(Vt,{children:[u.jsxs(xr,{children:[u.jsx(_r,{children:"Crear Cuenta"}),u.jsx(wd,{children:"Completa el formulario para crear tu cuenta"})]}),u.jsxs("form",{onSubmit:w,children:[u.jsxs(Wt,{className:"space-y-4",children:[s&&u.jsx(qd,{variant:"destructive",children:u.jsx(Ud,{children:s})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"register-name",children:"Nombre completo"}),u.jsx(xt,{id:"register-name",type:"text",placeholder:"Tu nombre",value:y.name,onChange:N=>m(x=>({...x,name:N.target.value})),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"register-email",children:"Email"}),u.jsx(xt,{id:"register-email",type:"email",placeholder:"tu@email.com",value:y.email,onChange:N=>m(x=>({...x,email:N.target.value})),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"register-company",children:"Nombre del Negocio"}),u.jsx(xt,{id:"register-company",type:"text",placeholder:"Nombre de tu empresa o negocio",value:y.company,onChange:N=>m(x=>({...x,company:N.target.value})),disabled:y.isTemporaryCompany}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(zm,{id:"temporary-company",checked:y.isTemporaryCompany,onCheckedChange:N=>{m(x=>({...x,isTemporaryCompany:!!N,company:N?"":x.company}))}}),u.jsx(ht,{htmlFor:"temporary-company",className:"text-sm text-gray-600",children:"An no tengo nombre definido (temporal)"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"register-password",children:"Contrasea"}),u.jsx(xt,{id:"register-password",type:"password",placeholder:"",value:y.password,onChange:N=>m(x=>({...x,password:N.target.value})),required:!0,minLength:6})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"register-confirm",children:"Confirmar contrasea"}),u.jsx(xt,{id:"register-confirm",type:"password",placeholder:"",value:y.confirmPassword,onChange:N=>m(x=>({...x,confirmPassword:N.target.value})),required:!0})]})]}),u.jsx(xd,{children:u.jsx(zt,{type:"submit",className:"w-full",disabled:r,children:r?"Creando cuenta...":"Crear Cuenta"})})]})]})})]})]})})}const C4=()=>{const r=yp();return O.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",r.pathname)},[r.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},E4=new sv,T4=()=>u.jsx(av,{client:E4,children:u.jsxs(i0,{children:[u.jsx(Yp,{}),u.jsx(g5,{}),u.jsx(jb,{children:u.jsx(Bg,{children:u.jsxs(qg,{children:[u.jsx(Cs,{path:"/auth",element:u.jsx(L4,{})}),u.jsx(Cs,{path:"/",element:u.jsx(oa,{children:u.jsx(ca,{children:u.jsx(ax,{})})})}),u.jsx(Cs,{path:"/inventory",element:u.jsx(oa,{children:u.jsx(ca,{children:u.jsx(px,{})})})}),u.jsx(Cs,{path:"/sales",element:u.jsx(oa,{children:u.jsx(ca,{children:u.jsx(mx,{})})})}),u.jsx(Cs,{path:"/reports",element:u.jsx(oa,{children:u.jsx(ca,{children:u.jsx(f4,{})})})}),u.jsx(Cs,{path:"/calendar",element:u.jsx(oa,{children:u.jsx(ca,{children:u.jsx(g4,{})})})}),u.jsx(Cs,{path:"/profile",element:u.jsx(oa,{children:u.jsx(ca,{children:u.jsx(w4,{})})})}),u.jsx(Cs,{path:"*",element:u.jsx(C4,{})})]})})})]})});bp(document.getElementById("root")).render(u.jsx(T4,{}));export{Ct as _};
